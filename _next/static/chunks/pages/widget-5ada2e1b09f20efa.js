(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86084],{4046:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(37876),a=r(14232),o=r(18847),s=r.n(o),i=r(77328),l=r.n(i),u=r(89099),c=r(4843),d=r(33686),f=r(41988),m=r(97685),h=r(44756),p=r(9456),b=r(94505);let g=s()(()=>Promise.all([r.e(96701),r.e(51287),r.e(39897),r.e(47141),r.e(60815),r.e(92165),r.e(2732),r.e(16433),r.e(69256),r.e(14946),r.e(17376),r.e(40215),r.e(97276)]).then(r.bind(r,74895)),{loadableGenerated:{webpack:()=>[74895]},ssr:!1}),y=s()(()=>Promise.all([r.e(83753),r.e(96701),r.e(51287),r.e(39897),r.e(47141),r.e(72517),r.e(36162),r.e(61285),r.e(71373),r.e(37103),r.e(60815),r.e(92165),r.e(2732),r.e(52509),r.e(16433),r.e(69256),r.e(14946),r.e(17376),r.e(83267),r.e(40215),r.e(70671)]).then(r.bind(r,70671)).then(e=>e.GraphView),{loadableGenerated:{webpack:()=>[70671]},ssr:!1}),w=()=>{let{query:e,push:t,isReady:r}=(0,u.useRouter)(),{setColorScheme:o}=(0,c.C)(),[s,i]=a.useState("dark"),w=(0,b.A)(e=>e.checkEditorSession),_=(0,b.A)(e=>e.setContents),v=(0,p.A)(e=>e.setDirection),S=(0,p.A)(e=>e.clearGraph);return a.useEffect(()=>{r&&("string"==typeof e?.json?w(e.json,!0):S(),window.parent.postMessage(window.frameElement?.getAttribute("id"),"*"))},[S,w,r,t,e.json,e.partner]),a.useEffect(()=>{let e=e=>{try{if(!e.data?.json)return;(e.data?.options?.theme==="light"||e.data?.options?.theme==="dark")&&i(e.data.options.theme),_({contents:e.data.json,hasChanges:!1}),v(e.data.options?.direction||"RIGHT")}catch(e){console.error(e),m.Ay.error("Invalid JSON!")}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[o,_,v,s]),a.useEffect(()=>{o(s)},[o,s]),(0,n.jsxs)(d.NP,{theme:"dark"===s?h.a5:h._k,children:[(0,n.jsx)(l(),{children:(0,f.U)({noindex:!0,nofollow:!0})}),(0,n.jsx)(g,{}),(0,n.jsx)(y,{isWidget:!0})]})}},4843:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(14232),a=r(44e3);r(37876);var o=r(80785),s=r(51773);function i(e){let t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(e=>e.remove())}function l({keepTransitions:e}={}){let t=(0,n.useRef)(o.l),r=(0,n.useRef)(-1),u=(0,n.useContext)(s.A$),c=(0,s.WV)(),d=(0,n.useRef)(c?.());if(!u)throw Error("[@mantine/core] MantineProvider was not found in tree");let f=n=>{u.setColorScheme(n),t.current=e?()=>{}:i(d.current),window.clearTimeout(r.current),r.current=window.setTimeout(()=>{t.current?.()},10)},m=(0,a.U)("light",{getInitialValueInEffect:!1}),h="auto"===u.colorScheme?m:u.colorScheme,p=(0,n.useCallback)(()=>f("light"===h?"dark":"light"),[f,h]);return(0,n.useEffect)(()=>()=>{t.current?.(),window.clearTimeout(r.current)},[]),{colorScheme:u.colorScheme,setColorScheme:f,clearColorScheme:()=>{u.clearColorScheme(),t.current=e?()=>{}:i(d.current),window.clearTimeout(r.current),r.current=window.setTimeout(()=>{t.current?.()},10)},toggleColorScheme:p}}},12312:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(14232);function a(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){let[o,s]=(0,n.useState)(r?t:!!("u">typeof window&&"matchMedia"in window)&&window.matchMedia(e).matches);return(0,n.useEffect)(()=>{try{let r=window.matchMedia(e);s(r.matches);var t=e=>s(e.matches);try{return r.addEventListener("change",t),()=>r.removeEventListener("change",t)}catch(e){return r.addListener(t),()=>r.removeListener(t)}}catch(e){return}},[e]),o||!1}},18614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return n}});let n=r(64252)._(r(14232)).default.createContext(null)},18847:(e,t,r)=>{e.exports=r(75095)},26364:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/widget",function(){return r(4046)}])},26867:(e,t,r)=>{"use strict";r.d(t,{Fx:()=>s,R9:()=>i,o5:()=>o,xW:()=>l});var n,a,o=((n={}).JSON="json",n.YAML="yaml",n.XML="xml",n.CSV="csv",n);let s=[{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"xml",label:"XML"},{value:"csv",label:"CSV"}];var i=((a={}).TypeScript="typescript",a.TypeScript_Combined="typescript/typealias",a.Go="go",a.JSON_SCHEMA="json_schema",a.Kotlin="kotlin",a.Rust="rust",a);let l=[{label:"TypeScript",value:"typescript",lang:"typescript"},{label:"TypeScript (merged)",value:"typescript/typealias",lang:"typescript"},{label:"Go",value:"go",lang:"go"},{label:"JSON Schema",value:"json_schema",lang:"json"},{label:"Kotlin",value:"kotlin",lang:"kotlin"},{label:"Rust",value:"rust",lang:"rust"}]},39149:(e,t,r)=>{var n=0/0,a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,m=Math.max,h=Math.min,p=function(){return d.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return n;if(b(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=b(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var u=s.test(e);return u||i.test(e)?l(e.slice(2),u?2:8):o.test(e)?n:+e}e.exports=function(e,t,r){var n,a,o,s,i,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=n,o=a;return n=a=void 0,u=t,s=e.apply(o,r)}function w(e){var r=e-l,n=e-u;return void 0===l||r>=t||r<0||d&&n>=o}function _(){var e,r,n,a=p();if(w(a))return v(a);i=setTimeout(_,(e=a-l,r=a-u,n=t-e,d?h(n,o-r):n))}function v(e){return(i=void 0,f&&n)?y(e):(n=a=void 0,s)}function S(){var e,r=p(),o=w(r);if(n=arguments,a=this,l=r,o){if(void 0===i)return u=e=l,i=setTimeout(_,t),c?y(e):s;if(d)return i=setTimeout(_,t),y(l)}return void 0===i&&(i=setTimeout(_,t)),s}return t=g(t)||0,b(r)&&(c=!!r.leading,o=(d="maxWait"in r)?m(g(r.maxWait)||0,t):o,f="trailing"in r?!!r.trailing:f),S.cancel=function(){void 0!==i&&clearTimeout(i),u=0,n=l=a=i=void 0},S.flush=function(){return void 0===i?s:v(p())},S}},42104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});let n=r(64252)._(r(14232)),a=r(18614),o=[],s=[],i=!1;function l(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class u{constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}}function c(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),o=null;function l(){if(!o){let t=new u(e,r);o={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return o.promise()}if(!i){let e=r.webpack&&1?r.webpack():r.modules;e&&s.push(t=>{for(let r of e)if(t.includes(r))return l()})}function c(e,t){let s;l(),(s=n.default.useContext(a.LoadableContext))&&Array.isArray(r.modules)&&r.modules.forEach(e=>{s(e)});let i=n.default.useSyncExternalStore(o.subscribe,o.getCurrentValue,o.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:o.retry}),[]),n.default.useMemo(()=>{var t;return i.loading||i.error?n.default.createElement(r.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:o.retry}):i.loaded?n.default.createElement((t=i.loaded)&&t.default?t.default:t,e):null},[e,i])}return c.preload=()=>l(),c.displayName="LoadableComponent",n.default.forwardRef(c)}(l,e)}function d(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return d(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{d(o).then(e,t)}),c.preloadReady=(e=[])=>new Promise(t=>{let r=()=>(i=!0,t());d(s,e).then(r,r)}),window.__NEXT_PRELOADREADY=c.preloadReady;let f=c},44e3:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(12312);function a(e,t){return(0,n.U)("(prefers-color-scheme: dark)","dark"===e,t)?"dark":"light"}},75095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={default:function(){return u},noSSR:function(){return l}};for(var a in n)Object.defineProperty(t,a,{enumerable:!0,get:n[a]});let o=r(64252);r(37876),r(14232);let s=o._(r(42104));function i(e){return{default:e?.default||e}}function l(e,t){return delete t.webpack,delete t.modules,e(t)}function u(e,t){let r=s.default,n={loading:({error:e,isLoading:t,pastDelay:r})=>null};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let a=(n={...n,...t}).loader;return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?r({...n,loader:()=>null!=a?a().then(i):Promise.resolve(i(()=>null))}):(delete n.webpack,delete n.modules,l(r,n))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80785:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n=()=>{}},93808:(e,t,r)=>{"use strict";r.d(t,{r:()=>a,x:()=>o});var n=r(26867);let a=(e,t=n.o5.JSON)=>new Promise(async(a,o)=>{try{if(!e)return a({});if(t===n.o5.JSON){let{parse:t}=await Promise.resolve().then(r.bind(r,45094)),n=[],o=t(e,n);return n.length>0&&JSON.parse(e),a(o)}if(t===n.o5.YAML){let{load:t}=await r.e(83423).then(r.bind(r,83423));return a(t(e))}if(t===n.o5.XML){let{XMLParser:t}=await r.e(55417).then(r.bind(r,55417)),n=new t({attributeNamePrefix:"$",ignoreAttributes:!1,allowBooleanAttributes:!0,parseAttributeValue:!0,trimValues:!0,parseTagValue:!0});return a(n.parse(e))}if(t===n.o5.CSV){let{csv2json:t}=await r.e(44223).then(r.bind(r,44223)),n=t(e,{trimFieldValues:!0,trimHeaderFields:!0,wrapBooleans:!0,excelBOM:!0});return a(n)}return a({})}catch(e){return o(e instanceof Error?e.message:"Failed to parse content")}}),o=async(e,t)=>new Promise(async a=>{try{if(!e)return a("");if(t===n.o5.JSON){let t=JSON.parse(e);return a(JSON.stringify(t,null,2))}if(t===n.o5.YAML){let{dump:t}=await r.e(83423).then(r.bind(r,83423)),{parse:n}=await Promise.resolve().then(r.bind(r,45094));return a(t(n(e)))}if(t===n.o5.XML){let{XMLBuilder:t}=await r.e(55417).then(r.bind(r,55417)),n=new t({format:!0,attributeNamePrefix:"$",ignoreAttributes:!1});return a(n.build(JSON.parse(e)))}if(t===n.o5.CSV){let{json2csv:t}=await r.e(44223).then(r.bind(r,44223)),n=JSON.parse(e),o=Array.isArray(n)?n:[n];return a(t(o,{expandArrayObjects:!0,expandNestedObjects:!0,excelBOM:!0,wrapBooleans:!0,trimFieldValues:!0,trimHeaderFields:!0}))}return a(e)}catch(t){return console.error(e,t),a(e)}})},94505:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(39149),a=r.n(n),o=r(47607),s=r(97685),i=r(73022);let l=JSON.parse('{"fruits":[{"name":"Apple","color":"#FF0000","details":{"type":"Pome","season":"Fall"},"nutrients":{"calories":52,"fiber":"2.4g","vitaminC":"4.6mg"}},{"name":"Banana","color":"#FFFF00","details":{"type":"Berry","season":"Year-round"},"nutrients":{"calories":89,"fiber":"2.6g","potassium":"358mg"}},{"name":"Orange","color":"#FFA500","details":{"type":"Citrus","season":"Winter"}}]}');var u=r(26867),c=r(9456),d=r(93808),f=r(79501),m=r(18512);let h=JSON.stringify(l,null,2),p={fileData:null,format:u.o5.JSON,contents:h,error:null,hasChanges:!1,jsonSchema:null},b=a()(e=>{c.A.getState().setLoading(!0),m.A.getState().setJson(JSON.stringify(e,null,2))},400),g=(0,i.v)()((e,t)=>({...p,clear:()=>{e({contents:""}),m.A.getState().clear()},setJsonSchema:t=>e({jsonSchema:t}),setFile:r=>{e({fileData:r,format:r.format||u.o5.JSON}),t().setContents({contents:r.content,hasChanges:!1}),(0,o.f0)("set_content",{label:r.format})},getContents:()=>t().contents,getFormat:()=>t().format,getHasChanges:()=>t().hasChanges,setFormat:async r=>{try{let n=t().format;e({format:r});let a=await (0,d.r)(t().contents,n),o=await (0,d.x)(JSON.stringify(a,null,2),r);t().setContents({contents:o})}catch{t().clear(),console.warn("The content was unable to be converted, so it was cleared instead.")}},setContents:async({contents:r,hasChanges:n=!0,skipUpdate:a=!1,format:o})=>{try{e({...r&&{contents:r},error:null,hasChanges:n,format:o??t().format});let s=window.location.href.includes("?"),i=await (0,d.r)(t().contents,t().format);if(!f.A.getState().liveTransformEnabled&&a)return;t().hasChanges&&r&&r.length<8e4&&!function(){try{return window.self!==window.top}catch{return!0}}()&&!s&&(sessionStorage.setItem("content",r),sessionStorage.setItem("format",t().format),e({hasChanges:!0})),b(i)}catch(t){if(t?.mark?.snippet)return e({error:t.mark.snippet});t?.message&&e({error:t.message}),m.A.setState({loading:!1}),c.A.setState({loading:!1})}},setError:t=>e({error:t}),setHasChanges:t=>e({hasChanges:t}),fetchUrl:async e=>{try{let r=await fetch(e),n=await r.json(),a=JSON.stringify(n,null,2);return t().setContents({contents:a}),m.A.setState({json:a,loading:!1})}catch{t().clear(),s.oR.error("Failed to fetch document from URL!")}},checkEditorSession:(r,n)=>{if(r&&"string"==typeof r&&/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(r))return t().fetchUrl(r);let a=h,o=sessionStorage.getItem("content"),s=sessionStorage.getItem("format");o&&!n&&(a=o),s&&e({format:s}),t().setContents({contents:a,hasChanges:!1})}}))}},e=>{e.O(0,[90636,46593,38792],()=>e(e.s=26364)),_N_E=e.O()}]);
//# sourceMappingURL=widget-5ada2e1b09f20efa.js.map