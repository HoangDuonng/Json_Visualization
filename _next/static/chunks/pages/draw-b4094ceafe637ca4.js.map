{"version":3,"file":"static/chunks/pages/draw-b4094ceafe637ca4.js","mappings":"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","sources":["webpack://_N_E/./node_modules/next/font/google/target.css?88e3","webpack://_N_E/./src/pages/draw.tsx","webpack://_N_E/?e3fc"],"sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"style\":{\"fontFamily\":\"'JetBrains Mono', 'JetBrains Mono Fallback'\",\"fontStyle\":\"normal\"},\"className\":\"__className_f9e569\",\"variable\":\"__variable_f9e569\"};","import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { JetBrains_Mono } from \"next/font/google\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { useMantineColorScheme } from \"@mantine/core\";\nimport \"@mantine/dropzone/styles.css\";\nimport { useSessionStorage } from \"@mantine/hooks\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { Allotment } from \"allotment\";\nimport \"allotment/dist/style.css\";\nimport { generateNextSeo } from \"next-seo/pages\";\nimport { ViewMode } from \"../constants/enumData\";\nimport { SEO } from \"../constants/seo\";\nimport { darkTheme, lightTheme } from \"../constants/theme\";\nimport { CollabProvider, useCollab } from \"../features/collab/Collab\";\nimport { BottomBar } from \"../features/editor/BottomBar\";\nimport { FullscreenDropzone } from \"../features/editor/FullscreenDropzone\";\nimport { Toolbar } from \"../features/editor/Toolbar\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport useConfig from \"../store/useConfig\";\nimport useFile from \"../store/useFile\";\n\nconst jetbrainsMono = JetBrains_Mono({\n  subsets: [\"latin\"],\n  weight: [\"400\", \"500\", \"600\", \"700\"],\n  variable: \"--font-jetbrains-mono\",\n});\n\nconst ModalController = dynamic(() => import(\"../features/modals/ModalController\"));\nconst ExternalMode = dynamic(() => import(\"../features/editor/ExternalMode\"));\n\nconst StyledPageWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100%;\n  font-family: ${jetbrainsMono.style.fontFamily}, monospace !important;\n\n  * {\n    font-family: ${jetbrainsMono.style.fontFamily}, monospace !important;\n  }\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nconst StyledEditorWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nconst StyledEditor = styled(Allotment)`\n  position: relative !important;\n  display: flex;\n  background: ${({ theme }) => theme.BACKGROUND_SECONDARY};\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nconst StyledTextEditor = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\n\nconst TextEditor = dynamic(() => import(\"../features/editor/TextEditor\"), {\n  ssr: false,\n});\n\nconst LiveEditor = dynamic(() => import(\"../features/editor/LiveEditor\"), {\n  ssr: false,\n});\n\nconst DrawPage = () => {\n  const { query, isReady } = useRouter();\n  const { setColorScheme } = useMantineColorScheme();\n  const checkEditorSession = useFile(state => state.checkEditorSession);\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\n  const fullscreen = useGraph(state => state.fullscreen);\n  const [, setViewMode] = useSessionStorage({\n    key: \"viewMode\",\n    defaultValue: ViewMode.JsonDraw,\n  });\n\n  useEffect(() => {\n    if (isReady) checkEditorSession(query?.json);\n  }, [checkEditorSession, isReady, query]);\n\n  useEffect(() => {\n    setViewMode(ViewMode.JsonDraw);\n  }, [setViewMode]);\n\n  useEffect(() => {\n    setColorScheme(darkmodeEnabled ? \"dark\" : \"light\");\n    return () => {\n      setColorScheme(\"light\");\n    };\n  }, [darkmodeEnabled, setColorScheme]);\n\n  return (\n    <>\n      <Head>\n        {generateNextSeo({\n          ...SEO,\n          title: \"JsonDraw | JSON Visualization\",\n          description:\n            \"JsonDraw is a freeform canvas built from your JSON graph for layout, annotation, and presentation.\",\n          canonical: \"https://jsonviz.online/draw\",\n        })}\n      </Head>\n      <ThemeProvider theme={darkmodeEnabled ? darkTheme : lightTheme}>\n        <CollabProvider>\n          <ExternalMode />\n          <ModalController />\n          <StyledEditorWrapper>\n            <StyledPageWrapper>\n              <Toolbar />\n              <StyledEditorWrapper>\n                <StyledEditor proportionalLayout={false}>\n                  <Allotment.Pane\n                    preferredSize={450}\n                    minSize={fullscreen ? 0 : 300}\n                    maxSize={800}\n                    visible={!fullscreen}\n                  >\n                    <StyledTextEditor>\n                      <TextEditor />\n                      <BottomBar />\n                    </StyledTextEditor>\n                  </Allotment.Pane>\n                  <Allotment.Pane minSize={0}>\n                    <LiveEditor />\n                  </Allotment.Pane>\n                </StyledEditor>\n                <FullscreenDropzone />\n              </StyledEditorWrapper>\n            </StyledPageWrapper>\n          </StyledEditorWrapper>\n        </CollabProvider>\n      </ThemeProvider>\n    </>\n  );\n};\n\nexport default DrawPage;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/draw\",\n      function () {\n        return require(\"private-next-pages/draw.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/draw\"])\n      });\n    }\n  "],"names":["ModalController","dynamic","ExternalMode","StyledPageWrapper","styled","div","jetbrainsMono","StyledEditorWrapper","StyledEditor","Allotment","theme","BACKGROUND_SECONDARY","StyledTextEditor","TextEditor","ssr","LiveEditor","query","isReady","useRouter","DrawPage","setColorScheme","useMantineColorScheme","checkEditorSession","useFile","state","darkmodeEnabled","useConfig","fullscreen","useGraph","setViewMode","useSessionStorage","key","defaultValue","ViewMode","JsonDraw","useEffect","json","Head","generateNextSeo","SEO","title","description","canonical","ThemeProvider","darkTheme","lightTheme","CollabProvider","Toolbar","proportionalLayout","Pane","preferredSize","minSize","maxSize","visible","BottomBar","FullscreenDropzone"],"sourceRoot":"","ignoreList":[0]}