{"version":3,"file":"static/chunks/pages/widget-5ada2e1b09f20efa.js","mappings":"mRAuBA,IAAMA,EAAkBC,IAAQ,IAAM,2CAAPA,GAAO,oIAA4C,0CAChFC,KAAK,IAGDC,EAAYF,IAChB,IAAM,2CADiBA,GACjB,4NAA4C,CAACG,IAAI,CAACC,GAAKA,EAAEF,SAAS,2CAEtED,IAAK,KAuDT,EAnDmB,KACjB,GAAM,OAAEI,CAAK,MAAEC,CAAI,KAkDNC,IAlDQC,CAAO,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GACpC,gBAAEC,CAAc,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,CAAAA,CAAqBA,GAC1C,CAACC,EAAOC,EAAS,CAAGC,EAAAA,QAAc,CAAmB,QACrDC,EAAqBC,CAAAA,EAAAA,EAAAA,CAAAA,CAAOA,CAACC,GAASA,EAAMF,kBAAkB,EAC9DG,EAAcF,CAAAA,EAAAA,EAAAA,CAAAA,CAAOA,CAACC,GAASA,EAAMC,WAAW,EAChDC,EAAeC,CAAAA,EAAAA,EAAAA,CAAAA,CAAQA,CAACH,GAASA,EAAME,YAAY,EACnDE,EAAaD,CAAAA,EAAAA,EAAAA,CAAAA,CAAQA,CAACH,GAASA,EAAMI,UAAU,EAmCrD,OAjCAP,EAAAA,SAAe,CAAC,KACVN,IACyB,KADhB,KACP,OAAOH,GAAOiB,KAAmBP,EAAmBV,EAAMiB,IAAI,CAAE,IAC/DD,IAELE,OAAOC,MAAM,CAACC,WAAW,CAACF,OAAOG,YAAY,EAAEC,aAAa,MAAO,KAEvE,EAAG,CAACN,EAAYN,EAAoBP,EAASF,EAAMD,EAAMiB,IAAI,CAAEjB,EAAMuB,OAAO,CAAC,EAE7Ed,EAAAA,SAAe,CAAC,KACd,IAAMe,EAAU,IACd,GAAI,CACF,GAAI,CAACC,EAAMC,IAAI,EAAET,KAAM,QACnBQ,EAAMC,IAAI,EAAEC,SAASpB,QAAU,SAAWkB,EAAMC,IAAI,EAAEC,SAASpB,QAAU,SAAQ,EAC1EkB,EAAMC,IAAI,CAACC,OAAO,CAACpB,KAAK,EAGnCM,EAAY,CAAEe,SAAUH,EAAMC,IAAI,CAACT,IAAI,CAAEY,YAAY,CAAM,GAC3Df,EAAaW,EAAMC,IAAI,CAACC,OAAO,EAAEG,WAAa,QAChD,CAAE,MAAOC,EAAO,CACdC,QAAQD,KAAK,CAACA,GACdE,EAAAA,EAAKA,CAACF,KAAK,CAAC,gBACd,CACF,EAGA,OADAb,OAAOgB,gBAAgB,CAAC,UAAWV,GAC5B,IAAMN,OAAOiB,mBAAmB,CAAC,UAAWX,EACrD,EAAG,CAACnB,EAAgBQ,EAAaC,EAAcP,EAAM,EAErDE,EAAAA,SAAe,CAAC,KACdJ,EAAeE,EACjB,EAAG,CAACF,EAAgBE,EAAM,EAGxB,WAAC6B,EAAAA,EAAaA,CAAAA,CAAC7B,MAAiB,SAAVA,EAAmB8B,EAAAA,EAASA,CAAGC,EAAAA,EAAUA,WAC7D,UAACC,IAAIA,UAAEC,CAAAA,EAAAA,EAAAA,CAAAA,CAAeA,CAAC,CAAEC,SAAS,EAAMC,UAAU,CAAK,IAAlDH,CACL,UAAC7C,EAAAA,CAAAA,GACD,UAACG,EAAAA,CAAU8C,QAAQ,QAGzB,4GC3EA,cACA,6CACA,+CACA,qCAA6C,6BAA6B,EAC1E,yDACA,6BACA,6BACA,yFAEA,CACA,4BAAiC,GAAkB,EAAI,EACvD,MAAyB,YAAM,CAAC,GAAI,EACpC,EAAqB,YAAM,KAC3B,EAAc,gBAAU,CAAC,IAAc,EACvC,EAAgB,QAAoB,GACpC,EAAqB,YAAM,QAC3B,MACA,qEAEA,UACA,oBACA,iBACA,EAAM,aACN,+BACA,iCACA,aACA,CAAK,IACL,EAUA,EAAwB,OAAc,UAAY,2BAAgC,EAClF,yCACA,EAA4B,iBAAW,CACvC,kCACA,OASA,MAPE,eAAS,CACX,SACA,cACA,8BACA,CAAK,CACL,IAEA,CACA,0BACA,iBACA,iBAzBA,KACA,qBACA,iBACA,EAAM,aACN,+BACA,iCACA,aACA,CAAK,IACL,EAkBA,mBACA,CACA,gEC9CA,wCAA8C,GAA0B,CACxE,0BACA,CAAC,EACD,SAAgC,cAAQ,CACxC,IATA,8CACA,kBAQA,GARA,SAmBA,MATE,eAAS,MACX,IACA,2BACA,iBAxBA,EAyBA,gBAxBA,IAEA,OADA,+BACA,qCACA,CAAI,SAEJ,OAmBA,EApBA,eACA,uBACA,CAmBA,CAAM,SACN,MACA,CACA,CAAG,MACH,KACA,2HC5BaC,qCAAAA,KAAN,IAAMA,EAAkBnC,aAJb,QAIaA,OAAK,CAACoC,aAAa,CAAmB,uBCNrE,kBAAqD,kBCCrD,4CACA,UACA,WACA,OAAe,EAAQ,IAA+B,CACtD,EACA,UAFsB,mECJf,MAcKC,EAdL,IAAKC,MAKX,kDALWA,GAOL,IAAMC,EAAU,CACrB,CAAEC,KAAK,QAAmBC,MAAO,MAAO,EACxC,CAAED,KAAK,QAAmBC,MAAO,MAAO,EACxC,CAAED,KAAK,OAAkBC,MAAO,KAAM,EACtC,CAAED,KAAK,OAAkBC,MAAO,KAAM,EACvC,CAAC,IAEK,UAON,2IAPWJ,GASL,IAAMK,EAAc,CACzB,CACED,MAAO,aACPD,KAAK,cACLG,KAAM,YACR,EACA,CACEF,MAAO,sBACPD,KAAK,wBACLG,KAAM,YACR,EACA,CACEF,MAAO,KACPD,KAAK,MACLG,KAAM,IACR,EACA,CACEF,MAAO,cACPD,KAAK,eACLG,KAAM,MACR,EACA,CACEF,MAAO,SACPD,KAAK,UACLG,KAAM,QACR,EACA,CACEF,MAAO,OACPD,KAAK,QACLG,KAAM,MACR,EACD,CAAC,iBCzCF,UAMA,eAGA,uBAGA,eAGA,gBAGA,WAGA,mBAAwB,GAAM,EAAgB,GAAM,EAAI,GAAM,kBAAsB,GAAM,CAG1F,0DAGA,kCAUA,EAPA,iBAOA,SAGA,WACA,WAkBA,aACA,mBACA,EA2MA,cACA,eACA,uCACA,CA2EA,cACA,sBACA,SAEA,GA/BA,iBADA,EAgCA,IA9BA,GAtBA,iBAsBA,gCA+BA,SAEA,SACA,IApCA,EAoCA,6CACA,aACA,CACA,sBACA,kBAEA,kBACA,gBACA,oBACA,oBACA,cACA,CAEA,UAtPA,gBACA,MACA,EACA,EACA,EACA,EACA,EACA,IACA,KACA,KACA,KAEA,wBACA,gBArIA,uBA+IA,cACA,QACA,IAKA,OAHA,WACA,IACA,cAEA,CAmBA,cACA,UACA,MAKA,yBACA,YACA,CAEA,aACA,IAnBA,EACA,EACA,EAiBA,MACA,QACA,YAGA,gBAxBA,MACA,MACA,MAEA,cAqBA,CAEA,oBAKA,CAJA,SAIA,MACA,MAEA,WACA,EACA,CAcA,aACA,IA9DA,EA8DA,MACA,OAMA,GAJA,YACA,OACA,IAEA,GACA,cACA,OArEA,EAFA,EAuEA,EAnEA,kBAEA,SAmEA,KAGA,OADA,kBACA,IAEA,CAIA,OAHA,YACA,oBAEA,CACA,CAGA,OAxGA,UACA,OACA,cAEA,EADA,kBACA,uBACA,iCAiGA,SAnCA,WACA,YACA,gBAEA,IACA,cACA,EA8BA,QA5BA,WACA,0BACA,EA2BA,CACA,mHCkDA,6DApRkB,YACc,OAM1BC,EAA0B,EAAE,CAC5BC,EAA4B,EAAE,CAChCC,GAAc,EAElB,SAASC,EAAKC,CAAW,EACvB,IAAIC,EAAUD,IAEV7C,EAAa,CACf+C,SAAS,EACTC,OAAQ,KACR7B,MAAO,IACT,EAcA,OAZAnB,EAAM8C,OAAO,CAAGA,EACb5D,IAAI,CAAE8D,IACLhD,EAAM+C,OAAO,EAAG,EAChB/C,EAAMgD,MAAM,CAAGA,EACRA,IAERC,KAAK,CAAC,IAGL,MAFAjD,EAAM+C,OAAO,EAAG,EAChB/C,EAAMmB,KAAK,CAAG+B,EACRA,CACR,GAEKlD,CACT,CAwGA,MAAMmD,EAQJC,YAAYC,CAAW,CAAEC,CAAS,CAAE,CAClC,IAAI,CAACC,OAAO,CAAGF,EACf,IAAI,CAACG,KAAK,CAAGF,EACb,IAAI,CAACG,UAAU,CAAG,IAAIC,IACtB,IAAI,CAACC,MAAM,CAAG,KACd,IAAI,CAACC,QAAQ,CAAG,KAEhB,IAAI,CAACC,KAAK,EACZ,CAEAf,SAAU,CACR,OAAO,IAAI,CAACgB,IAAI,CAAChB,OAAO,CAG1Be,OAAQ,CACN,IAAI,CAACE,cAAc,GACnB,IAAI,CAACD,IAAI,CAAG,IAAI,CAACP,OAAO,CAAC,IAAI,CAACC,KAAK,CAACX,MAAM,EAE1C,IAAI,CAACmB,MAAM,CAAG,CACZC,WAAW,EACXC,UAAU,CACZ,EAEA,GAAM,CAAEJ,KAAMK,CAAG,CAAEX,MAAOF,CAAI,CAAE,CAAG,IAAI,CAEnCa,EAAIpB,OAAO,EAAE,CACW,UAAtB,OAAOO,EAAKc,KAAK,GACA,GAAG,CAAlBd,EAAKc,KAAK,CACZ,IAAI,CAACJ,MAAM,CAACC,SAAS,EAAG,EAExB,IAAI,CAACN,MAAM,CAAGU,WAAW,KACvB,IAAI,CAACC,OAAO,CAAC,CACXL,WAAW,CACb,EACF,EAAGX,EAAKc,KAAK,GAIW,UAAxB,OAAOd,EAAKiB,OAAO,GACrB,IAAI,CAACX,QAAQ,CAAGS,WAAW,KACzB,IAAI,CAACC,OAAO,CAAC,CAAEJ,UAAU,CAAK,EAChC,EAAGZ,EAAKiB,QAAO,GAInB,IAAI,CAACT,IAAI,CAAChB,OAAO,CACd5D,IAAI,CAAC,KACJ,IAAI,CAACoF,OAAO,CAAC,CAAC,GACd,IAAI,CAACP,cAAc,EACrB,GACCd,KAAK,CAAC,IACL,IAAI,CAACqB,OAAO,CAAC,CAAC,GACd,IAAI,CAACP,cAAc,EACrB,GACF,IAAI,CAACO,OAAO,CAAC,CAAC,EAChB,CAEAA,QAAQE,CAAY,CAAE,CACpB,IAAI,CAACR,MAAM,CAAG,CACZ,GAAG,IAAI,CAACA,MAAM,CACd7C,MAAO,IAAI,CAAC2C,IAAI,CAAC3C,KAAK,CACtB6B,OAAQ,IAAI,CAACc,IAAI,CAACd,MAAM,CACxBD,QAAS,IAAI,CAACe,IAAI,CAACf,OAAO,CAC1B,GAAGyB,CAAO,EAEZ,IAAI,CAACf,UAAU,CAACgB,OAAO,CAAC,GAAmBC,IAC7C,CAEAX,gBAAiB,CACfY,aAAa,IAAI,CAAChB,MAAM,EACxBgB,aAAa,IAAI,CAACf,QAAQ,CAC5B,CAEAgB,iBAAkB,CAChB,OAAO,IAAI,CAACZ,MAAM,CAGpBa,UAAUH,CAAa,CAAE,CAEvB,OADA,IAAI,CAACjB,UAAU,CAACqB,GAAG,CAACJ,GACb,KACL,IAAI,CAACjB,UAAU,CAACsB,MAAM,CAACL,EACzB,CACF,CACF,CAEA,SAASM,EAAS1B,CAAS,EACzB,OAAO2B,SApMAA,CAAmC,CAAElE,CAAY,EACxD,IAAIuC,EAAO4B,OAAOC,MAAM,CACtB,CACEtC,OAAQ,KACRE,QAAS,KACTqB,MAAO,IACPG,QAAS,KACTa,QAAS,KACTC,QAAS,IACX,EACAtE,GAIEuE,EAAoB,KACxB,SAASC,IACP,GAAI,CAACD,EAAc,CACjB,IAAME,EAAM,IAAIrC,EAAqBE,EAAQC,GAC7CgC,EAAe,CACbV,gBAAiBY,EAAIZ,eAAe,CAACa,IAAI,CAACD,GAC1CX,UAAWW,EAAIX,SAAS,CAACY,IAAI,CAACD,GAC9B3B,MAAO2B,EAAI3B,KAAK,CAAC4B,IAAI,CAACD,GACtB1C,QAAS0C,EAAI1C,OAAO,CAAC2C,IAAI,CAACD,EAC5B,CACF,CACA,OAAOF,EAAaxC,OAAO,EAC7B,CAQA,GAAI,CAACH,EAA8C,CAEjD,IAAM+C,EACJpC,EAAK8B,IAHW,GAGJ,EAAI,EACZ9B,EAAK8B,IAJyB,EAGiB,CACnC,GACZ9B,CAFoD,CAE/C+B,OAAO,CACdK,GACFhD,EAAmBrD,IAAI,CAAC,CADX,GAEX,IAAK,IAAMsG,KAAYD,EACrB,GAAIE,EAAIC,GADwB,KAChB,CAACF,GACf,OAAOJ,CADmB,EAIhC,EAEJ,CAaA,SAASO,EAAkBC,CAAU,CAAEC,CAAQ,QAV7CT,IAGIU,CADEA,EAAUpG,EAAAA,OAAK,CAACqG,UAAU,CAAClE,EAAAA,eAAe,IACjCmE,MAAMC,OAAO,CAAC9C,EAAK+B,OAAO,GAAG,EACrCA,OAAO,CAACZ,OAAO,CAAC,IACnBwB,EAAQI,EACV,GAOF,IAAMrG,EAASH,EAAAA,OAAK,CAASyG,oBAAoB,CAC/ChB,EAAaT,SAAS,CACtBS,EAAaV,eAAe,CAC5BU,EAAaV,eAAe,EAW9B,OARA/E,EAAAA,OAAK,CAAC0G,mBAAmB,CACvBP,EACA,IAAO,EACLnC,MAAOyB,EAAazB,KAAK,EAC3B,CACA,EAAE,EAGGhE,EAAAA,OAAK,CAAC2G,OAAO,CAAC,kBACnB,EAAUzD,OAAO,EAAI/C,EAAMmB,KAAK,CACvBtB,CADyB,CACzBA,OAAK,CAAC4G,aAAa,CAACnD,EAAKP,OAAO,CAAE,CACvC2D,UAAW1G,EAAM+C,OAAO,CACxBkB,UAAWjE,EAAMiE,SAAS,CAC1BC,SAAUlE,EAAMkE,QAAQ,CACxB/C,MAAOnB,EAAMmB,KAAK,CAClB0C,MAAOyB,EAAazB,KAAK,GAElB7D,EAAMgD,MAAM,CACdnD,CADgB,CAChBA,OAAK,CAAC4G,aAAa,CAACE,CAzHlBC,EAyH0B5G,CAzHlB,CAyHwBgD,MAAM,GAxHvC4D,EAAIC,OAAO,CAAGD,EAAIC,OAAO,CAAGD,EAwHcb,GAE3C,IAEX,EAAG,CAACA,EAAO/F,EAAM,CACnB,CAKA,OAHA8F,EAAkBgB,OAAO,CAAG,IAAMvB,IAClCO,EAAkBiB,WAAW,CAAG,oBAEzBlH,EAAAA,OAAK,CAACmH,UAAU,CAAClB,EAC1B,EAgGiClD,EAAMU,EACvC,CAEA,SAAS2D,EAAkBC,CAAiB,CAAEtB,CAAS,EACrD,IAAIuB,EAAW,EAAE,CAEjB,KAAOD,EAAaE,MAAM,EAAE,CAC1B,IAAI7B,EAAO2B,EAAaG,GAAG,GAC3BF,EAAS9H,IAAI,CAACkG,EAAKK,GACrB,CAEA,OAAO0B,QAAQC,GAAG,CAACJ,GAAUjI,IAAI,CAAC,KAChC,GAAIgI,EAAaE,MAAM,CACrB,CADuB,MAChBH,EAAkBC,EAActB,EAE3C,EACF,CAEAZ,EAASwC,UAAU,CAAG,IACb,IAAIF,QAAQ,CAACG,EAAqBC,KACvCT,EAAkBxE,GAAkBvD,IAAI,CAACuI,EAAqBC,EAChE,GAGF1C,EAAS2C,YAAY,CAAG,CAAC/B,EAA2B,EAAE,GAC7C,IAAI0B,QAAc,IACvB,IAAMnD,EAAM,KACVxB,GAAc,EACPiF,KAGTX,EAAkBvE,EAAoBkD,GAAK1G,IAAI,CAACiF,EAAKA,EACvD,GAUA7D,OAAOuH,mBAAmB,CAAG7C,EAAS2C,YAAY,KAGpD,EAAe3C,+DCzSf,gBACA,MAAS,OAAa,4DACtB,wFCyEA,OAqEC,mBArEuBjG,GA1BR+I,KAAK,mBAALA,iGApDE,mBACG,QAgCrB,SAASC,EAAiBC,CAAgD,EACxE,MAAO,CAAEnB,QAAUmB,GAA4BnB,SAAWmB,CAAI,CAChE,CAiBO,SAASF,EACdG,CAAkC,CAClCC,CAAkC,EAQhC,OALF,OAAOA,EAAgB9C,OAAO,CAC9B,OAAO8C,EAAgB7C,OAAO,CAIrB4C,EAAoBC,EAQ/B,CAQe,SAASnJ,EACtBoJ,CAA6C,CAC7CpH,CAA2B,EAE3B,IAAIqH,EAAapD,EAAAA,OAAQ,CAErBkD,EAAsC,CAExCnF,QAAS,CAAC,OAAE5B,CAAK,WAAEuF,CAAS,CAAEzC,WAAS,CAAE,GAgBhC,IAEX,EAMIkE,aAA0Bb,QAC5BY,CADqC,CACrBrF,MAAM,CAAG,IAAMsF,EAEI,YAA1B,OAAOA,EAChBD,EAAgBrF,MAAM,CAAGsF,EAEU,UAA1B,OAAOA,GAChBD,GAAkB,CAAE,GAAGA,CAAe,CAAE,GAAGC,CAAc,CAAC,EAM5D,IAAME,EAAWH,CAFjBA,EAAkB,CAAE,GAAGA,CAAe,CAAE,GAAGnH,CAAO,GAEjB8B,MAAM,OAgBvC,CATIqF,EAAgBI,iBAAiB,EAAE,CACrCJ,EAAkB,CAChB,GAAGA,CAAe,CAClB,GAAGA,EAAgBI,iBAAiB,EAEtC,OAAOJ,EAAgBI,iBAAiB,EAIP,WAA/B,EAA4C,KAArCJ,EAAgBlJ,GAAG,EAAmBkJ,EAAgBlJ,GAAG,EAAE,EAOpD,CAAE,GAAGkJ,CAAe,CAAErF,OAtBzB,CAsBiCA,GArBlC,MAAZwF,EACIA,IAAWnJ,IAAI,CAAC6I,GAChBT,QAAQX,OAAO,CAACoB,EAAc,IAAM,MAmB0B,IANlE,OAAOG,EAAgB9C,OAAO,CAC9B,OAAO8C,EAAgB7C,OAAO,CAEvByC,EAAMM,EAAYF,GAI7B,uQClJA,WACA,wECCO,IAAMK,EAAgB,CAAClG,EAAemG,EAASrG,EAAAA,EAAUA,CAACsG,IAAI,GAC5D,IAAInB,QAAQ,MAAOX,EAASe,KACjC,GAAI,CACF,GAAI,CAACrF,EAAO,OAAOsE,EAAQ,CAAC,GAE5B,GAAI6B,IAAWrG,EAAAA,EAAUA,CAACsG,IAAI,CAAE,CAC9B,GAAM,OAAEC,CAAK,CAAE,CAAG,MAAM,uCAAsB,CACxCC,EAAuB,EAAE,CACzBC,EAASF,EAAMrG,EAAOsG,GAE5B,OADIA,EAAOvB,MAAM,CAAG,GAAGqB,KAAKC,KAAK,CAACrG,GAC3BsE,EAAQiC,EACjB,CAEA,GAAIJ,IAAWrG,EAAAA,EAAUA,CAAC0G,IAAI,CAAE,CAC9B,GAAM,MAAEjG,CAAI,CAAE,CAAG,MAAM,gCAAiB,CACxC,OAAO+D,EAAQ/D,EAAKP,GACtB,CAEA,GAAImG,IAAWrG,EAAAA,EAAUA,CAAC2G,GAAG,CAAE,CAC7B,GAAM,WAAEC,CAAS,CAAE,CAAG,MAAM,gCAAyB,CAC/CC,EAAS,IAAID,EAAU,CAC3BE,oBAAqB,IACrBC,kBAAkB,EAClBC,wBAAwB,EACxBC,qBAAqB,EACrBC,YAAY,EACZC,eAAe,CACjB,GACA,OAAO3C,EAAQqC,EAAON,KAAK,CAACrG,GAC9B,CAEA,GAAImG,IAAWrG,EAAAA,EAAUA,CAACoH,GAAG,CAAE,CAC7B,GAAM,UAAEC,CAAQ,CAAE,CAAG,MAAM,gCAAoB,CACzCZ,EAASY,EAASnH,EAAO,CAC7BoH,iBAAiB,EACjBC,kBAAkB,EAClBC,cAAc,EACdC,SAAU,EACZ,GACA,OAAOjD,EAAQiC,EACjB,CAEA,OAAOjC,EAAQ,CAAC,EAClB,CAAE,MAAOxF,EAAO,CAEd,OAAOuG,EADcvG,KACP0I,QADwBC,MAAQ3I,EAAM4I,OAAO,CAAG,0BAEhE,CACF,GAGWC,EAAgB,MAAO3J,EAAcmI,IACzC,IAAIlB,QAAQ,MAAMX,IACvB,GAAI,CACF,GAAI,CAACtG,EAAM,OAAOsG,EAAQ,IAE1B,GAAI6B,IAAWrG,EAAAA,EAAUA,CAACsG,IAAI,CAAE,CAC9B,IAAMwB,EAAaxB,KAAKC,KAAK,CAACrI,GAC9B,OAAOsG,EAAQ8B,KAAKyB,SAAS,CAACD,EAAY,KAAM,GAClD,CAEA,GAAIzB,IAAWrG,EAAAA,EAAUA,CAAC0G,IAAI,CAAE,CAC9B,GAAM,MAAEsB,CAAI,CAAE,CAAG,MAAM,gCAAiB,CAClC,OAAEzB,CAAK,CAAE,CAAG,MAAM,uCAAsB,CAC9C,OAAO/B,EAAQwD,EAAKzB,EAAMrI,IAC5B,CAEA,GAAImI,IAAWrG,EAAAA,EAAUA,CAAC2G,GAAG,CAAE,CAC7B,GAAM,YAAEsB,CAAU,CAAE,CAAG,MAAM,gCAAyB,CAChDC,EAAU,IAAID,EAAW,CAC7B5B,QAAQ,EACRS,oBAAqB,IACrBC,kBAAkB,CACpB,GAEA,OAAOvC,EAAQ0D,EAAQC,KAAK,CAAC7B,KAAKC,KAAK,CAACrI,IAC1C,CAEA,GAAImI,IAAWrG,EAAAA,EAAUA,CAACoH,GAAG,CAAE,CAC7B,GAAM,UAAEgB,CAAQ,CAAE,CAAG,MAAM,gCAAoB,CACzCN,EAAaxB,KAAKC,KAAK,CAACrI,GAExBS,EAAOqF,MAAMC,OAAO,CAAC6D,GAAcA,EAAa,CAACA,EAAW,CAClE,OAAOtD,EACL4D,EAASzJ,EAAM,CACb0J,oBAAoB,EACpBC,qBAAqB,EACrBb,UAAU,EACVD,cAAc,EACdF,iBAAiB,EACjBC,iBAAkB,EACpB,GAEJ,CAEA,OAAO/C,EAAQtG,EACjB,CAAE,MAAOc,EAAO,CAEd,OADAC,QAAQD,KAAK,CAACd,EAAMc,GACbwF,EAAQtG,EACjB,CACF,ujBE1FF,IAAMqK,EAAcjC,KAAKyB,SAAS,CAACS,EAAa,KAAM,GAsChDC,EAAgB,CACpBC,SAAU,CAvCkCF,IAwC5CnC,OAAQrG,EAAAA,EAAUA,CAACsG,IAAI,CACvBzH,SAAU0J,EACVvJ,MAAO,KACPF,YAAY,EACZ6J,WAAY,IACd,EAUMC,EAAsBC,IAAS,IACnC7K,EAAAA,CAAQA,CAAC8K,QAAQ,GAAGC,EADcF,QACJ,EAAC,GAC/BG,EAAAA,CAAOA,CAACF,QAAQ,GAAGG,OAAO,CAAC3C,KAAKyB,SAAS,CAAC7H,EAAO,KAAM,GACzD,EAAG,KAyFH,EAvFgBgJ,CAAAA,EAAAA,EAAAA,CAAAA,CAAMA,GAA6B,CAACC,EAAKC,EAuF1CxL,EAvFmD,KAC7D6K,CAAa,CAChBY,MAAO,KACLF,EAAI,CAAEtK,SAAU,EAAG,GACnBmK,EAAAA,CAAOA,CAACF,QAAQ,GAAGO,KAAK,EAC1B,EACAC,cAAeX,GAAcQ,EAAI,YAAER,CAAW,GAC9CY,QAASb,IACPS,EAAI,UAAET,EAAUrC,OAAQqC,EAASrC,MAAM,EAAIrG,EAAAA,EAAUA,CAACsG,IAAI,GAC1D8C,IAAMtL,WAAW,CAAC,CAAEe,SAAU6J,EAASc,OAAO,CAAE1K,YAAY,CAAM,GAClE2K,CAAAA,EAAAA,EAAAA,EAAAA,CAAOA,CAAC,cAAe,CAAEtJ,MAAOuI,EAASrC,MAAM,EACjD,EACAqD,YAAa,IAAMN,IAAMvK,QAAQ,CACjC8K,UAAW,IAAMP,IAAM/C,MAAM,CAC7BuD,cAAe,IAAMR,IAAMtK,UAAU,CACrC+K,UAAW,MAAMxD,IACf,GAAI,CACF,IAAMyD,EAAaV,IAAM/C,MAAM,CAE/B8C,EAAI,QAAE9C,CAAO,GACb,IAAM0D,EAAc,MAAM3D,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,CAACgD,IAAMvK,QAAQ,CAAEiL,GAClDE,EAAc,MAAMnC,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,CAACvB,KAAKyB,SAAS,CAACgC,EAAa,KAAM,GAAI1D,GAE9E+C,IAAMtL,WAAW,CAAC,CAAEe,SAAUmL,CAAY,EAC5C,CAAE,KAAM,CACNZ,IAAMC,KAAK,GACXpK,QAAQgL,IAAI,CAAC,qEACf,CACF,EACAnM,YAAa,MAAO,UAAEe,CAAQ,YAAEC,GAAa,CAAI,YAAEoL,EAAa,EAAK,QAAE7D,CAAM,CAAE,IAC7E,GAAI,CACF8C,EAAI,CACF,GAAItK,GAAY,UAAEA,CAAS,CAAC,CAC5BG,MAAO,gBACPF,EACAuH,OAAQA,GAAU+C,IAAM/C,MAAM,GAGhC,IAAM8D,EAAahM,OAAOiM,QAAQ,CAACC,IAAI,CAAC3G,QAAQ,CAAC,KAC3CxF,EAAO,MAAMkI,CAAAA,EAAAA,EAAAA,CAAAA,CAAaA,CAACgD,IAAMvK,QAAQ,CAAEuK,IAAM/C,MAAM,EAE7D,GAAI,CAACiE,EAAAA,CAASA,CAACxB,QAAQ,GAAGyB,oBAAoB,EAAIL,EAAY,OAE1Dd,IAAMtK,UAAU,EAAID,GAAYA,EAASoG,MAAM,CAAG,KAAU,CDnH/D,QCmHwEuF,CDnH/DA,EACd,GAAI,CACF,OAAOrM,OAAOsM,IAAI,GAAKtM,OAAOuM,GAChC,CAAE,KAAM,CACN,OAAO,CACT,CACF,KC6GqF,CAACP,IAC9EQ,QAD0F,OAC3EC,OAAO,CAAC,UAAW/L,GAClC8L,eAAeC,OAAO,CAAC,SAAUxB,IAAM/C,MAAM,EAC7C8C,EAAI,CAAErK,YAAY,CAAK,IAGzB8J,EAAoB1K,EACtB,CAAE,MAAOc,EAAY,CACnB,GAAIA,GAAO6L,MAAMC,QAAS,OAAO3B,EAAI,CAAEnK,MAAOA,EAAM6L,IAAI,CAACC,OAAO,EAC5D9L,IAAO4I,SAASuB,EAAI,CAAEnK,MAAOA,EAAM4I,OAAO,GAC9CoB,EAAAA,CAAOA,CAAC+B,QAAQ,CAAC,CAAEnK,SAAS,CAAM,GAClC5C,EAAAA,CAAQA,CAAC+M,QAAQ,CAAC,CAAEnK,SAAS,CAAM,EACrC,CACF,EACAoK,SAAUhM,GAASmK,EAAI,OAAEnK,CAAM,GAC/BiM,cAAenM,GAAcqK,EAAI,YAAErK,CAAW,GAC9CoM,SAAU,MAAMC,IACd,GAAI,CACF,IAAMnJ,EAAM,MAAMoJ,MAAMD,GAClBjN,EAAO,MAAM8D,EAAI9D,IAAI,GACrBmN,EAAU/E,KAAKyB,SAAS,CAAC7J,EAAM,KAAM,GAG3C,OADAkL,IAAMtL,WAAW,CAAC,CAAEe,SAAUwM,CAAQ,GAC/BrC,EAAAA,CAAOA,CAAC+B,QAAQ,CAAC,CAAE7M,KAAMmN,EAASzK,SAAS,CAAM,EAC1D,CAAE,KAAM,CACNwI,IAAMC,KAAK,GACXnK,EAAAA,EAAKA,CAACF,KAAK,CAAC,qCACd,CACF,EACArB,mBAAoB,CAACwN,EAAKG,KACxB,GAAIH,GAAsB,UAAf,EAA2BI,KAApBJ,GAnFb,sNAAsNK,IAAI,CAmFnLL,GAC1C,GADgD,IACzC/B,IAAM8B,QAAQ,CAACC,GAGxB,IAAItM,EAAW0J,EACTkD,EAAiBd,eAAee,OAAO,CAAC,WACxCrF,EAASsE,eAAee,OAAO,CAAC,UAClCD,GAAkB,CAACH,IAAQzM,EAAW4M,CAAAA,EAEtCpF,GAAQ8C,EAAI,QAAE9C,CAAO,GACzB+C,IAAMtL,WAAW,CAAC,UAAEe,EAAUC,YAAY,CAAM,EAClD,EACF","sources":["webpack://_N_E/./src/pages/widget.tsx","webpack://_N_E/./node_modules/@mantine/core/esm/core/MantineProvider/use-mantine-color-scheme/use-mantine-color-scheme.mjs","webpack://_N_E/./node_modules/@mantine/hooks/esm/use-media-query/use-media-query.mjs","webpack://_N_E/../../../src/shared/lib/loadable-context.shared-runtime.ts","webpack://_N_E/./node_modules/next/dynamic.js","webpack://_N_E/?acfb","webpack://_N_E/./src/enums/file.enum.ts","webpack://_N_E/./node_modules/lodash.debounce/index.js","webpack://_N_E/../../../src/shared/lib/loadable.shared-runtime.tsx","webpack://_N_E/./node_modules/@mantine/hooks/esm/use-color-scheme/use-color-scheme.mjs","webpack://_N_E/../../../src/shared/lib/dynamic.tsx","webpack://_N_E/./node_modules/@mantine/core/esm/core/utils/noop/noop.mjs","webpack://_N_E/./src/lib/utils/jsonAdapter.ts","webpack://_N_E/./src/lib/utils/helpers.ts","webpack://_N_E/./src/store/useFile.ts"],"sourcesContent":["import React from \"react\";\nimport dynamic from \"next/dynamic\";\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport { useMantineColorScheme } from \"@mantine/core\";\nimport { ThemeProvider } from \"styled-components\";\nimport { generateNextSeo } from \"next-seo/pages\";\nimport toast from \"react-hot-toast\";\nimport { darkTheme, lightTheme } from \"../constants/theme\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport useFile from \"../store/useFile\";\nimport type { LayoutDirection } from \"../types/graph\";\n\ninterface EmbedMessage {\n  data: {\n    json?: string;\n    options?: {\n      theme?: \"light\" | \"dark\";\n      direction?: LayoutDirection;\n    };\n  };\n}\n\nconst ModalController = dynamic(() => import(\"../features/modals/ModalController\"), {\n  ssr: false,\n});\n\nconst GraphView = dynamic(\n  () => import(\"../features/editor/views/GraphView\").then(c => c.GraphView),\n  {\n    ssr: false,\n  }\n);\n\nconst WidgetPage = () => {\n  const { query, push, isReady } = useRouter();\n  const { setColorScheme } = useMantineColorScheme();\n  const [theme, setTheme] = React.useState<\"dark\" | \"light\">(\"dark\");\n  const checkEditorSession = useFile(state => state.checkEditorSession);\n  const setContents = useFile(state => state.setContents);\n  const setDirection = useGraph(state => state.setDirection);\n  const clearGraph = useGraph(state => state.clearGraph);\n\n  React.useEffect(() => {\n    if (isReady) {\n      if (typeof query?.json === \"string\") checkEditorSession(query.json, true);\n      else clearGraph();\n\n      window.parent.postMessage(window.frameElement?.getAttribute(\"id\"), \"*\");\n    }\n  }, [clearGraph, checkEditorSession, isReady, push, query.json, query.partner]);\n\n  React.useEffect(() => {\n    const handler = (event: EmbedMessage) => {\n      try {\n        if (!event.data?.json) return;\n        if (event.data?.options?.theme === \"light\" || event.data?.options?.theme === \"dark\") {\n          setTheme(event.data.options.theme);\n        }\n\n        setContents({ contents: event.data.json, hasChanges: false });\n        setDirection(event.data.options?.direction || \"RIGHT\");\n      } catch (error) {\n        console.error(error);\n        toast.error(\"Invalid JSON!\");\n      }\n    };\n\n    window.addEventListener(\"message\", handler);\n    return () => window.removeEventListener(\"message\", handler);\n  }, [setColorScheme, setContents, setDirection, theme]);\n\n  React.useEffect(() => {\n    setColorScheme(theme);\n  }, [setColorScheme, theme]);\n\n  return (\n    <ThemeProvider theme={theme === \"dark\" ? darkTheme : lightTheme}>\n      <Head>{generateNextSeo({ noindex: true, nofollow: true })}</Head>\n      <ModalController />\n      <GraphView isWidget />\n    </ThemeProvider>\n  );\n};\n\nexport default WidgetPage;\n","'use client';\nimport { useRef, useContext, useCallback, useEffect } from 'react';\nimport { useColorScheme } from '@mantine/hooks';\nimport '../../utils/units-converters/rem.mjs';\nimport 'react/jsx-runtime';\nimport { noop } from '../../utils/noop/noop.mjs';\nimport { MantineContext, useMantineStyleNonce } from '../Mantine.context.mjs';\n\nfunction disableTransition(nonce) {\n  const style = document.createElement(\"style\");\n  style.setAttribute(\"data-mantine-styles\", \"inline\");\n  style.innerHTML = \"*, *::before, *::after {transition: none !important;}\";\n  style.setAttribute(\"data-mantine-disable-transition\", \"true\");\n  nonce && style.setAttribute(\"nonce\", nonce);\n  document.head.appendChild(style);\n  const clear = () => document.querySelectorAll(\"[data-mantine-disable-transition]\").forEach((element) => element.remove());\n  return clear;\n}\nfunction useMantineColorScheme({ keepTransitions } = {}) {\n  const clearStylesRef = useRef(noop);\n  const timeoutRef = useRef(-1);\n  const ctx = useContext(MantineContext);\n  const nonce = useMantineStyleNonce();\n  const nonceValue = useRef(nonce?.());\n  if (!ctx) {\n    throw new Error(\"[@mantine/core] MantineProvider was not found in tree\");\n  }\n  const setColorScheme = (value) => {\n    ctx.setColorScheme(value);\n    clearStylesRef.current = keepTransitions ? () => {\n    } : disableTransition(nonceValue.current);\n    window.clearTimeout(timeoutRef.current);\n    timeoutRef.current = window.setTimeout(() => {\n      clearStylesRef.current?.();\n    }, 10);\n  };\n  const clearColorScheme = () => {\n    ctx.clearColorScheme();\n    clearStylesRef.current = keepTransitions ? () => {\n    } : disableTransition(nonceValue.current);\n    window.clearTimeout(timeoutRef.current);\n    timeoutRef.current = window.setTimeout(() => {\n      clearStylesRef.current?.();\n    }, 10);\n  };\n  const osColorScheme = useColorScheme(\"light\", { getInitialValueInEffect: false });\n  const computedColorScheme = ctx.colorScheme === \"auto\" ? osColorScheme : ctx.colorScheme;\n  const toggleColorScheme = useCallback(\n    () => setColorScheme(computedColorScheme === \"light\" ? \"dark\" : \"light\"),\n    [setColorScheme, computedColorScheme]\n  );\n  useEffect(\n    () => () => {\n      clearStylesRef.current?.();\n      window.clearTimeout(timeoutRef.current);\n    },\n    []\n  );\n  return {\n    colorScheme: ctx.colorScheme,\n    setColorScheme,\n    clearColorScheme,\n    toggleColorScheme\n  };\n}\n\nexport { useMantineColorScheme };\n//# sourceMappingURL=use-mantine-color-scheme.mjs.map\n","'use client';\nimport { useState, useEffect } from 'react';\n\nfunction attachMediaListener(query, callback) {\n  try {\n    query.addEventListener(\"change\", callback);\n    return () => query.removeEventListener(\"change\", callback);\n  } catch (e) {\n    query.addListener(callback);\n    return () => query.removeListener(callback);\n  }\n}\nfunction getInitialValue(query, initialValue) {\n  if (typeof window !== \"undefined\" && \"matchMedia\" in window) {\n    return window.matchMedia(query).matches;\n  }\n  return false;\n}\nfunction useMediaQuery(query, initialValue, { getInitialValueInEffect } = {\n  getInitialValueInEffect: true\n}) {\n  const [matches, setMatches] = useState(\n    getInitialValueInEffect ? initialValue : getInitialValue(query)\n  );\n  useEffect(() => {\n    try {\n      const mediaQuery = window.matchMedia(query);\n      setMatches(mediaQuery.matches);\n      return attachMediaListener(mediaQuery, (event) => setMatches(event.matches));\n    } catch (e) {\n      return void 0;\n    }\n  }, [query]);\n  return matches || false;\n}\n\nexport { useMediaQuery };\n//# sourceMappingURL=use-media-query.mjs.map\n","'use client'\n\nimport React from 'react'\n\ntype CaptureFn = (moduleName: string) => void\n\nexport const LoadableContext = React.createContext<CaptureFn | null>(null)\n\nif (process.env.NODE_ENV !== 'production') {\n  LoadableContext.displayName = 'LoadableContext'\n}\n","module.exports = require('./dist/shared/lib/dynamic')\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/widget\",\n      function () {\n        return require(\"private-next-pages/widget.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/widget\"])\n      });\n    }\n  ","export enum FileFormat {\n  \"JSON\" = \"json\",\n  \"YAML\" = \"yaml\",\n  \"XML\" = \"xml\",\n  \"CSV\" = \"csv\",\n}\n\nexport const formats = [\n  { value: FileFormat.JSON, label: \"JSON\" },\n  { value: FileFormat.YAML, label: \"YAML\" },\n  { value: FileFormat.XML, label: \"XML\" },\n  { value: FileFormat.CSV, label: \"CSV\" },\n];\n\nexport enum TypeLanguage {\n  TypeScript = \"typescript\",\n  TypeScript_Combined = \"typescript/typealias\",\n  Go = \"go\",\n  JSON_SCHEMA = \"json_schema\",\n  Kotlin = \"kotlin\",\n  Rust = \"rust\",\n}\n\nexport const typeOptions = [\n  {\n    label: \"TypeScript\",\n    value: TypeLanguage.TypeScript,\n    lang: \"typescript\",\n  },\n  {\n    label: \"TypeScript (merged)\",\n    value: TypeLanguage.TypeScript_Combined,\n    lang: \"typescript\",\n  },\n  {\n    label: \"Go\",\n    value: TypeLanguage.Go,\n    lang: \"go\",\n  },\n  {\n    label: \"JSON Schema\",\n    value: TypeLanguage.JSON_SCHEMA,\n    lang: \"json\",\n  },\n  {\n    label: \"Kotlin\",\n    value: TypeLanguage.Kotlin,\n    lang: \"kotlin\",\n  },\n  {\n    label: \"Rust\",\n    value: TypeLanguage.Rust,\n    lang: \"rust\",\n  },\n];\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// TODO: Remove use of `any` type.\n/**\n@copyright (c) 2017-present James Kyle <me@thejameskyle.com>\n MIT License\n Permission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n The above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE\n*/\n// https://github.com/jamiebuilds/react-loadable/blob/v5.5.0/src/index.js\n// Modified to be compatible with webpack 4 / Next.js\n\nimport React from 'react'\nimport { LoadableContext } from './loadable-context.shared-runtime'\n\nfunction resolve(obj: any) {\n  return obj && obj.default ? obj.default : obj\n}\n\nconst ALL_INITIALIZERS: any[] = []\nconst READY_INITIALIZERS: any[] = []\nlet initialized = false\n\nfunction load(loader: any) {\n  let promise = loader()\n\n  let state: any = {\n    loading: true,\n    loaded: null,\n    error: null,\n  }\n\n  state.promise = promise\n    .then((loaded: any) => {\n      state.loading = false\n      state.loaded = loaded\n      return loaded\n    })\n    .catch((err: any) => {\n      state.loading = false\n      state.error = err\n      throw err\n    })\n\n  return state\n}\n\nfunction createLoadableComponent(loadFn: any, options: any) {\n  let opts = Object.assign(\n    {\n      loader: null,\n      loading: null,\n      delay: 200,\n      timeout: null,\n      webpack: null,\n      modules: null,\n    },\n    options\n  )\n\n  /** @type LoadableSubscription */\n  let subscription: any = null\n  function init() {\n    if (!subscription) {\n      const sub = new LoadableSubscription(loadFn, opts)\n      subscription = {\n        getCurrentValue: sub.getCurrentValue.bind(sub),\n        subscribe: sub.subscribe.bind(sub),\n        retry: sub.retry.bind(sub),\n        promise: sub.promise.bind(sub),\n      }\n    }\n    return subscription.promise()\n  }\n\n  // Server only\n  if (typeof window === 'undefined') {\n    ALL_INITIALIZERS.push(init)\n  }\n\n  // Client only\n  if (!initialized && typeof window !== 'undefined') {\n    // require.resolveWeak check is needed for environments that don't have it available like Jest\n    const moduleIds =\n      opts.webpack && typeof (require as any).resolveWeak === 'function'\n        ? opts.webpack()\n        : opts.modules\n    if (moduleIds) {\n      READY_INITIALIZERS.push((ids: any) => {\n        for (const moduleId of moduleIds) {\n          if (ids.includes(moduleId)) {\n            return init()\n          }\n        }\n      })\n    }\n  }\n\n  function useLoadableModule() {\n    init()\n\n    const context = React.useContext(LoadableContext)\n    if (context && Array.isArray(opts.modules)) {\n      opts.modules.forEach((moduleName: any) => {\n        context(moduleName)\n      })\n    }\n  }\n\n  function LoadableComponent(props: any, ref: any) {\n    useLoadableModule()\n\n    const state = (React as any).useSyncExternalStore(\n      subscription.subscribe,\n      subscription.getCurrentValue,\n      subscription.getCurrentValue\n    )\n\n    React.useImperativeHandle(\n      ref,\n      () => ({\n        retry: subscription.retry,\n      }),\n      []\n    )\n\n    return React.useMemo(() => {\n      if (state.loading || state.error) {\n        return React.createElement(opts.loading, {\n          isLoading: state.loading,\n          pastDelay: state.pastDelay,\n          timedOut: state.timedOut,\n          error: state.error,\n          retry: subscription.retry,\n        })\n      } else if (state.loaded) {\n        return React.createElement(resolve(state.loaded), props)\n      } else {\n        return null\n      }\n    }, [props, state])\n  }\n\n  LoadableComponent.preload = () => init()\n  LoadableComponent.displayName = 'LoadableComponent'\n\n  return React.forwardRef(LoadableComponent)\n}\n\nclass LoadableSubscription {\n  _loadFn: any\n  _opts: any\n  _callbacks: any\n  _delay: any\n  _timeout: any\n  _res: any\n  _state: any\n  constructor(loadFn: any, opts: any) {\n    this._loadFn = loadFn\n    this._opts = opts\n    this._callbacks = new Set()\n    this._delay = null\n    this._timeout = null\n\n    this.retry()\n  }\n\n  promise() {\n    return this._res.promise\n  }\n\n  retry() {\n    this._clearTimeouts()\n    this._res = this._loadFn(this._opts.loader)\n\n    this._state = {\n      pastDelay: false,\n      timedOut: false,\n    }\n\n    const { _res: res, _opts: opts } = this\n\n    if (res.loading) {\n      if (typeof opts.delay === 'number') {\n        if (opts.delay === 0) {\n          this._state.pastDelay = true\n        } else {\n          this._delay = setTimeout(() => {\n            this._update({\n              pastDelay: true,\n            })\n          }, opts.delay)\n        }\n      }\n\n      if (typeof opts.timeout === 'number') {\n        this._timeout = setTimeout(() => {\n          this._update({ timedOut: true })\n        }, opts.timeout)\n      }\n    }\n\n    this._res.promise\n      .then(() => {\n        this._update({})\n        this._clearTimeouts()\n      })\n      .catch((_err: any) => {\n        this._update({})\n        this._clearTimeouts()\n      })\n    this._update({})\n  }\n\n  _update(partial: any) {\n    this._state = {\n      ...this._state,\n      error: this._res.error,\n      loaded: this._res.loaded,\n      loading: this._res.loading,\n      ...partial,\n    }\n    this._callbacks.forEach((callback: any) => callback())\n  }\n\n  _clearTimeouts() {\n    clearTimeout(this._delay)\n    clearTimeout(this._timeout)\n  }\n\n  getCurrentValue() {\n    return this._state\n  }\n\n  subscribe(callback: any) {\n    this._callbacks.add(callback)\n    return () => {\n      this._callbacks.delete(callback)\n    }\n  }\n}\n\nfunction Loadable(opts: any) {\n  return createLoadableComponent(load, opts)\n}\n\nfunction flushInitializers(initializers: any, ids?: any): any {\n  let promises = []\n\n  while (initializers.length) {\n    let init = initializers.pop()\n    promises.push(init(ids))\n  }\n\n  return Promise.all(promises).then(() => {\n    if (initializers.length) {\n      return flushInitializers(initializers, ids)\n    }\n  })\n}\n\nLoadable.preloadAll = () => {\n  return new Promise((resolveInitializers, reject) => {\n    flushInitializers(ALL_INITIALIZERS).then(resolveInitializers, reject)\n  })\n}\n\nLoadable.preloadReady = (ids: (string | number)[] = []): Promise<void> => {\n  return new Promise<void>((resolvePreload) => {\n    const res = () => {\n      initialized = true\n      return resolvePreload()\n    }\n    // We always will resolve, errors should be handled within loading UIs.\n    flushInitializers(READY_INITIALIZERS, ids).then(res, res)\n  })\n}\n\ndeclare global {\n  interface Window {\n    __NEXT_PRELOADREADY?: (ids?: (string | number)[]) => Promise<void>\n  }\n}\n\nif (typeof window !== 'undefined') {\n  window.__NEXT_PRELOADREADY = Loadable.preloadReady\n}\n\nexport default Loadable\n","'use client';\nimport { useMediaQuery } from '../use-media-query/use-media-query.mjs';\n\nfunction useColorScheme(initialValue, options) {\n  return useMediaQuery(\"(prefers-color-scheme: dark)\", initialValue === \"dark\", options) ? \"dark\" : \"light\";\n}\n\nexport { useColorScheme };\n//# sourceMappingURL=use-color-scheme.mjs.map\n","import React from 'react'\nimport Loadable from './loadable.shared-runtime'\n\nconst isServerSide = typeof window === 'undefined'\n\ntype ComponentModule<P = {}> = { default: React.ComponentType<P> }\n\nexport declare type LoaderComponent<P = {}> = Promise<\n  React.ComponentType<P> | ComponentModule<P>\n>\n\nexport declare type Loader<P = {}> =\n  | (() => LoaderComponent<P>)\n  | LoaderComponent<P>\n\nexport type LoaderMap = { [module: string]: () => Loader<any> }\n\nexport type LoadableGeneratedOptions = {\n  webpack?(): any\n  modules?(): LoaderMap\n}\n\nexport type DynamicOptionsLoadingProps = {\n  error?: Error | null\n  isLoading?: boolean\n  pastDelay?: boolean\n  retry?: () => void\n  timedOut?: boolean\n}\n\n// Normalize loader to return the module as form { default: Component } for `React.lazy`.\n// Also for backward compatible since next/dynamic allows to resolve a component directly with loader\n// Client component reference proxy need to be converted to a module.\nfunction convertModule<P>(mod: React.ComponentType<P> | ComponentModule<P>) {\n  return { default: (mod as ComponentModule<P>)?.default || mod }\n}\n\nexport type DynamicOptions<P = {}> = LoadableGeneratedOptions & {\n  loading?: (loadingProps: DynamicOptionsLoadingProps) => React.ReactNode\n  loader?: Loader<P> | LoaderMap\n  loadableGenerated?: LoadableGeneratedOptions\n  ssr?: boolean\n}\n\nexport type LoadableOptions<P = {}> = DynamicOptions<P>\n\nexport type LoadableFn<P = {}> = (\n  opts: LoadableOptions<P>\n) => React.ComponentType<P>\n\nexport type LoadableComponent<P = {}> = React.ComponentType<P>\n\nexport function noSSR<P = {}>(\n  LoadableInitializer: LoadableFn<P>,\n  loadableOptions: DynamicOptions<P>\n): React.ComponentType<P> {\n  // Removing webpack and modules means react-loadable won't try preloading\n  delete loadableOptions.webpack\n  delete loadableOptions.modules\n\n  // This check is necessary to prevent react-loadable from initializing on the server\n  if (!isServerSide) {\n    return LoadableInitializer(loadableOptions)\n  }\n\n  const Loading = loadableOptions.loading!\n  // This will only be rendered on the server side\n  return () => (\n    <Loading error={null} isLoading pastDelay={false} timedOut={false} />\n  )\n}\n\n/**\n * This function lets you dynamically import a component.\n * It uses [React.lazy()](https://react.dev/reference/react/lazy) with [Suspense](https://react.dev/reference/react/Suspense) under the hood.\n *\n * Read more: [Next.js Docs: `next/dynamic`](https://nextjs.org/docs/app/building-your-application/optimizing/lazy-loading#nextdynamic)\n */\nexport default function dynamic<P = {}>(\n  dynamicOptions: DynamicOptions<P> | Loader<P>,\n  options?: DynamicOptions<P>\n): React.ComponentType<P> {\n  let loadableFn = Loadable as LoadableFn<P>\n\n  let loadableOptions: LoadableOptions<P> = {\n    // A loading component is not required, so we default it\n    loading: ({ error, isLoading, pastDelay }) => {\n      if (!pastDelay) return null\n      if (process.env.NODE_ENV !== 'production') {\n        if (isLoading) {\n          return null\n        }\n        if (error) {\n          return (\n            <p>\n              {error.message}\n              <br />\n              {error.stack}\n            </p>\n          )\n        }\n      }\n      return null\n    },\n  }\n\n  // Support for direct import(), eg: dynamic(import('../hello-world'))\n  // Note that this is only kept for the edge case where someone is passing in a promise as first argument\n  // The react-loadable babel plugin will turn dynamic(import('../hello-world')) into dynamic(() => import('../hello-world'))\n  // To make sure we don't execute the import without rendering first\n  if (dynamicOptions instanceof Promise) {\n    loadableOptions.loader = () => dynamicOptions\n    // Support for having import as a function, eg: dynamic(() => import('../hello-world'))\n  } else if (typeof dynamicOptions === 'function') {\n    loadableOptions.loader = dynamicOptions\n    // Support for having first argument being options, eg: dynamic({loader: import('../hello-world')})\n  } else if (typeof dynamicOptions === 'object') {\n    loadableOptions = { ...loadableOptions, ...dynamicOptions }\n  }\n\n  // Support for passing options, eg: dynamic(import('../hello-world'), {loading: () => <p>Loading something</p>})\n  loadableOptions = { ...loadableOptions, ...options }\n\n  const loaderFn = loadableOptions.loader as () => LoaderComponent<P>\n  const loader = () =>\n    loaderFn != null\n      ? loaderFn().then(convertModule)\n      : Promise.resolve(convertModule(() => null))\n\n  // coming from build/babel/plugins/react-loadable-plugin.js\n  if (loadableOptions.loadableGenerated) {\n    loadableOptions = {\n      ...loadableOptions,\n      ...loadableOptions.loadableGenerated,\n    }\n    delete loadableOptions.loadableGenerated\n  }\n\n  // support for disabling server side rendering, eg: dynamic(() => import('../hello-world'), {ssr: false}).\n  if (typeof loadableOptions.ssr === 'boolean' && !loadableOptions.ssr) {\n    delete loadableOptions.webpack\n    delete loadableOptions.modules\n\n    return noSSR(loadableFn, loadableOptions)\n  }\n\n  return loadableFn({ ...loadableOptions, loader: loader as Loader<P> })\n}\n","'use client';\nconst noop = () => {\n};\n\nexport { noop };\n//# sourceMappingURL=noop.mjs.map\n","import type { ParseError } from \"jsonc-parser\";\nimport { FileFormat } from \"../../enums/file.enum\";\n\nexport const contentToJson = (value: string, format = FileFormat.JSON): Promise<object> => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!value) return resolve({});\n\n      if (format === FileFormat.JSON) {\n        const { parse } = await import(\"jsonc-parser\");\n        const errors: ParseError[] = [];\n        const result = parse(value, errors);\n        if (errors.length > 0) JSON.parse(value);\n        return resolve(result);\n      }\n\n      if (format === FileFormat.YAML) {\n        const { load } = await import(\"js-yaml\");\n        return resolve(load(value) as object);\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLParser } = await import(\"fast-xml-parser\");\n        const parser = new XMLParser({\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n          allowBooleanAttributes: true,\n          parseAttributeValue: true,\n          trimValues: true,\n          parseTagValue: true,\n        });\n        return resolve(parser.parse(value));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { csv2json } = await import(\"json-2-csv\");\n        const result = csv2json(value, {\n          trimFieldValues: true,\n          trimHeaderFields: true,\n          wrapBooleans: true,\n          excelBOM: true,\n        });\n        return resolve(result);\n      }\n\n      return resolve({});\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to parse content\";\n      return reject(errorMessage);\n    }\n  });\n};\n\nexport const jsonToContent = async (json: string, format: FileFormat): Promise<string> => {\n  return new Promise(async resolve => {\n    try {\n      if (!json) return resolve(\"\");\n\n      if (format === FileFormat.JSON) {\n        const parsedJson = JSON.parse(json);\n        return resolve(JSON.stringify(parsedJson, null, 2));\n      }\n\n      if (format === FileFormat.YAML) {\n        const { dump } = await import(\"js-yaml\");\n        const { parse } = await import(\"jsonc-parser\");\n        return resolve(dump(parse(json)));\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLBuilder } = await import(\"fast-xml-parser\");\n        const builder = new XMLBuilder({\n          format: true,\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n        });\n\n        return resolve(builder.build(JSON.parse(json)));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { json2csv } = await import(\"json-2-csv\");\n        const parsedJson = JSON.parse(json);\n\n        const data = Array.isArray(parsedJson) ? parsedJson : [parsedJson];\n        return resolve(\n          json2csv(data, {\n            expandArrayObjects: true,\n            expandNestedObjects: true,\n            excelBOM: true,\n            wrapBooleans: true,\n            trimFieldValues: true,\n            trimHeaderFields: true,\n          })\n        );\n      }\n\n      return resolve(json);\n    } catch (error) {\n      console.error(json, error);\n      return resolve(json);\n    }\n  });\n};\n","export function isIframe() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return true;\n  }\n}\n","import debounce from \"lodash.debounce\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { toast } from \"react-hot-toast\";\nimport { create } from \"zustand\";\nimport exampleJson from \"../data/example.json\";\nimport { FileFormat } from \"../enums/file.enum\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport { isIframe } from \"../lib/utils/helpers\";\nimport { contentToJson, jsonToContent } from \"../lib/utils/jsonAdapter\";\nimport useConfig from \"./useConfig\";\nimport useJson from \"./useJson\";\n\nconst defaultJson = JSON.stringify(exampleJson, null, 2);\n\ntype SetContents = {\n  contents?: string;\n  hasChanges?: boolean;\n  skipUpdate?: boolean;\n  format?: FileFormat;\n};\n\ntype Query = string | string[] | undefined;\n\ninterface JsonActions {\n  getContents: () => string;\n  getFormat: () => FileFormat;\n  getHasChanges: () => boolean;\n  setError: (error: string | null) => void;\n  setHasChanges: (hasChanges: boolean) => void;\n  setContents: (data: SetContents) => void;\n  fetchUrl: (url: string) => void;\n  setFormat: (format: FileFormat) => void;\n  clear: () => void;\n  setFile: (fileData: File) => void;\n  setJsonSchema: (jsonSchema: object | null) => void;\n  checkEditorSession: (url: Query, widget?: boolean) => void;\n}\n\nexport type File = {\n  id: string;\n  views: number;\n  owner_email: string;\n  name: string;\n  content: string;\n  private: boolean;\n  format: FileFormat;\n  created_at: string;\n  updated_at: string;\n};\n\nconst initialStates = {\n  fileData: null as File | null,\n  format: FileFormat.JSON,\n  contents: defaultJson,\n  error: null as any,\n  hasChanges: false,\n  jsonSchema: null as object | null,\n};\n\nexport type FileStates = typeof initialStates;\n\nconst isURL = (value: string) => {\n  return /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/gi.test(\n    value\n  );\n};\n\nconst debouncedUpdateJson = debounce((value: unknown) => {\n  useGraph.getState().setLoading(true);\n  useJson.getState().setJson(JSON.stringify(value, null, 2));\n}, 400);\n\nconst useFile = create<FileStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  clear: () => {\n    set({ contents: \"\" });\n    useJson.getState().clear();\n  },\n  setJsonSchema: jsonSchema => set({ jsonSchema }),\n  setFile: fileData => {\n    set({ fileData, format: fileData.format || FileFormat.JSON });\n    get().setContents({ contents: fileData.content, hasChanges: false });\n    gaEvent(\"set_content\", { label: fileData.format });\n  },\n  getContents: () => get().contents,\n  getFormat: () => get().format,\n  getHasChanges: () => get().hasChanges,\n  setFormat: async format => {\n    try {\n      const prevFormat = get().format;\n\n      set({ format });\n      const contentJson = await contentToJson(get().contents, prevFormat);\n      const jsonContent = await jsonToContent(JSON.stringify(contentJson, null, 2), format);\n\n      get().setContents({ contents: jsonContent });\n    } catch {\n      get().clear();\n      console.warn(\"The content was unable to be converted, so it was cleared instead.\");\n    }\n  },\n  setContents: async ({ contents, hasChanges = true, skipUpdate = false, format }) => {\n    try {\n      set({\n        ...(contents && { contents }),\n        error: null,\n        hasChanges,\n        format: format ?? get().format,\n      });\n\n      const isFetchURL = window.location.href.includes(\"?\");\n      const json = await contentToJson(get().contents, get().format);\n\n      if (!useConfig.getState().liveTransformEnabled && skipUpdate) return;\n\n      if (get().hasChanges && contents && contents.length < 80_000 && !isIframe() && !isFetchURL) {\n        sessionStorage.setItem(\"content\", contents);\n        sessionStorage.setItem(\"format\", get().format);\n        set({ hasChanges: true });\n      }\n\n      debouncedUpdateJson(json);\n    } catch (error: any) {\n      if (error?.mark?.snippet) return set({ error: error.mark.snippet });\n      if (error?.message) set({ error: error.message });\n      useJson.setState({ loading: false });\n      useGraph.setState({ loading: false });\n    }\n  },\n  setError: error => set({ error }),\n  setHasChanges: hasChanges => set({ hasChanges }),\n  fetchUrl: async url => {\n    try {\n      const res = await fetch(url);\n      const json = await res.json();\n      const jsonStr = JSON.stringify(json, null, 2);\n\n      get().setContents({ contents: jsonStr });\n      return useJson.setState({ json: jsonStr, loading: false });\n    } catch {\n      get().clear();\n      toast.error(\"Failed to fetch document from URL!\");\n    }\n  },\n  checkEditorSession: (url, widget) => {\n    if (url && typeof url === \"string\" && isURL(url)) {\n      return get().fetchUrl(url);\n    }\n\n    let contents = defaultJson;\n    const sessionContent = sessionStorage.getItem(\"content\") as string | null;\n    const format = sessionStorage.getItem(\"format\") as FileFormat | null;\n    if (sessionContent && !widget) contents = sessionContent;\n\n    if (format) set({ format });\n    get().setContents({ contents, hasChanges: false });\n  },\n}));\n\nexport default useFile;\n"],"names":["ModalController","dynamic","ssr","GraphView","then","c","query","push","WidgetPage","isReady","useRouter","setColorScheme","useMantineColorScheme","theme","setTheme","React","checkEditorSession","useFile","state","setContents","setDirection","useGraph","clearGraph","json","window","parent","postMessage","frameElement","getAttribute","partner","handler","event","data","options","contents","hasChanges","direction","error","console","toast","addEventListener","removeEventListener","ThemeProvider","darkTheme","lightTheme","Head","generateNextSeo","noindex","nofollow","isWidget","LoadableContext","createContext","TypeLanguage","FileFormat","formats","value","label","typeOptions","lang","ALL_INITIALIZERS","READY_INITIALIZERS","initialized","load","loader","promise","loading","loaded","catch","err","LoadableSubscription","constructor","loadFn","opts","_loadFn","_opts","_callbacks","Set","_delay","_timeout","retry","_res","_clearTimeouts","_state","pastDelay","timedOut","res","delay","setTimeout","_update","timeout","partial","forEach","callback","clearTimeout","getCurrentValue","subscribe","add","delete","Loadable","createLoadableComponent","Object","assign","webpack","modules","subscription","init","sub","bind","moduleIds","moduleId","ids","includes","LoadableComponent","props","ref","context","useContext","Array","isArray","moduleName","useSyncExternalStore","useImperativeHandle","useMemo","createElement","isLoading","resolve","obj","default","preload","displayName","forwardRef","flushInitializers","initializers","promises","length","pop","Promise","all","preloadAll","resolveInitializers","reject","preloadReady","resolvePreload","__NEXT_PRELOADREADY","noSSR","convertModule","mod","LoadableInitializer","loadableOptions","dynamicOptions","loadableFn","loaderFn","loadableGenerated","contentToJson","format","JSON","parse","errors","result","YAML","XML","XMLParser","parser","attributeNamePrefix","ignoreAttributes","allowBooleanAttributes","parseAttributeValue","trimValues","parseTagValue","CSV","csv2json","trimFieldValues","trimHeaderFields","wrapBooleans","excelBOM","errorMessage","Error","message","jsonToContent","parsedJson","stringify","dump","XMLBuilder","builder","build","json2csv","expandArrayObjects","expandNestedObjects","defaultJson","exampleJson","initialStates","fileData","jsonSchema","debouncedUpdateJson","debounce","getState","setLoading","useJson","setJson","create","set","get","clear","setJsonSchema","setFile","content","gaEvent","getContents","getFormat","getHasChanges","setFormat","prevFormat","contentJson","jsonContent","warn","skipUpdate","isFetchURL","location","href","useConfig","liveTransformEnabled","isIframe","self","top","sessionStorage","setItem","mark","snippet","setState","setError","setHasChanges","fetchUrl","url","fetch","jsonStr","widget","isURL","test","sessionContent","getItem"],"sourceRoot":"","ignoreList":[1,2,4,7,9,11]}