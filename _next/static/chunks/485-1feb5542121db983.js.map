{"version":3,"file":"static/chunks/485-1feb5542121db983.js","mappings":"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","sources":["webpack://_N_E/./src/store/useJson.ts","webpack://_N_E/./src/features/editor/views/GraphView/lib/utils/calculateNodeSize.ts","webpack://_N_E/./src/features/editor/views/GraphView/lib/jsonParser.ts","webpack://_N_E/./src/features/editor/views/GraphView/stores/useGraph.ts","webpack://_N_E/./src/constants/graph.ts","webpack://_N_E/./src/lib/utils/jsonAdapter.ts","webpack://_N_E/./src/lib/utils/helpers.ts","webpack://_N_E/./src/store/useFile.ts","webpack://_N_E/./src/store/useConfig.ts","webpack://_N_E/./src/enums/file.enum.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\n\ninterface JsonActions {\n  setJson: (json: string) => void;\n  getJson: () => string;\n  clear: () => void;\n}\n\nconst initialStates = {\n  json: \"{}\",\n  loading: true,\n};\n\nexport type JsonStates = typeof initialStates;\n\nconst useJson = create<JsonStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  getJson: () => get().json,\n  setJson: json => {\n    set({ json, loading: false });\n    useGraph.getState().setGraph(json);\n  },\n  clear: () => {\n    set({ json: \"\", loading: false });\n    useGraph.getState().clearGraph();\n  },\n}));\n\nexport default useJson;\n","import { NODE_DIMENSIONS } from \"../../../../../../constants/graph\";\nimport useConfig from \"../../../../../../store/useConfig\";\n\ntype Text = number | string | [string, string][];\ntype Size = { width: number; height: number };\n\nexport const isContentImage = (value: Text) => {\n  if (typeof value !== \"string\") return false;\n\n  const isImageURL = /(https?:\\/\\/.*\\.(?:png|jpg|gif|svg))/i.test(value);\n  const isBase64 = value.startsWith(\"data:image/\") && value.includes(\"base64\");\n\n  return isImageURL || isBase64;\n};\n\nconst calculateLines = (text: Text): string => {\n  if (Array.isArray(text)) {\n    return text.map(([k, v]) => `${k}: ${JSON.stringify(v).slice(0, 80)}`).join(\"\\n\");\n  }\n\n  return `${text}`;\n};\n\nconst calculateWidthAndHeight = (str: string, single = false) => {\n  if (!str) return { width: 45, height: 45 };\n\n  const dummyElement = document.createElement(\"div\");\n  dummyElement.style.whiteSpace = single ? \"nowrap\" : \"pre-wrap\";\n  dummyElement.innerText = str;\n  dummyElement.style.fontSize = \"12px\";\n  dummyElement.style.width = \"fit-content\";\n  dummyElement.style.padding = \"0 10px\";\n  dummyElement.style.fontWeight = \"500\";\n  dummyElement.style.fontFamily = \"monospace\";\n  document.body.appendChild(dummyElement);\n\n  const clientRect = dummyElement.getBoundingClientRect();\n  const lines = str.split(\"\\n\").length;\n\n  const width = clientRect.width + 4;\n  // Use parent height for single line nodes that are parents\n  const height = single ? NODE_DIMENSIONS.PARENT_HEIGHT : lines * NODE_DIMENSIONS.ROW_HEIGHT;\n\n  document.body.removeChild(dummyElement);\n  return { width, height };\n};\n\nconst sizeCache = new Map<Text, Size>();\n\n// clear cache every 2 mins\nsetInterval(() => sizeCache.clear(), 120_000);\n\nexport const calculateNodeSize = (text: Text, isParent = false) => {\n  const { imagePreviewEnabled } = useConfig.getState();\n  const isImage = isContentImage(text) && imagePreviewEnabled;\n\n  const cacheKey = [text, isParent].toString();\n\n  // check cache if data already exists\n  if (sizeCache.has(cacheKey)) {\n    const size = sizeCache.get(cacheKey);\n    if (size) return size;\n  }\n\n  const lines = calculateLines(text);\n  const sizes = calculateWidthAndHeight(lines, typeof text === \"string\");\n\n  if (isImage) {\n    sizes.width = 80;\n    sizes.height = 80;\n  }\n\n  if (isParent) sizes.width += 80;\n  if (sizes.width > 700) sizes.width = 700;\n\n  sizeCache.set(cacheKey, sizes);\n  return sizes;\n};\n","/**\n * Copyright (c) JSON Crash\n * This source code is licensed under the Apache 2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { parseTree, getNodePath, type Node } from \"jsonc-parser\";\nimport type { EdgeData, NodeData, NodeRow } from \"../../../../../types/graph\";\nimport { calculateNodeSize } from \"./utils/calculateNodeSize\";\n\nexport type Graph = {\n  nodes: NodeData[];\n  edges: EdgeData[];\n};\n\nexport const parser = (json: string): Graph => {\n  const jsonTree = parseTree(json);\n  if (!jsonTree) return { nodes: [], edges: [] };\n\n  const nodes: NodeData[] = [];\n  const edges: EdgeData[] = [];\n  let nodeId = 1;\n  let edgeId = 1;\n\n  function traverse(node: Node, parentId?: string) {\n    const id = String(nodeId++);\n    const text: NodeRow[] = [];\n\n    // If parentId is provided, create an edge from parentId to the current node id\n    if (parentId !== undefined && node.parent?.type === \"array\") {\n      edges.push({\n        id: String(edgeId++),\n        from: parentId,\n        to: id,\n        text: \"\",\n      });\n    }\n\n    const isArray = node.type === \"array\";\n    const isRootArray = !node.parent || node.parent.type === \"array\";\n    if (isArray && isRootArray) {\n      const { width, height } = calculateNodeSize(`[${node.children?.length ?? \"0\"} items]`);\n      nodes.push({\n        id,\n        text: [\n          {\n            key: null,\n            value: `[${node.children?.length ?? 0} items]`,\n            type: \"array\",\n            childrenCount: node.children?.length,\n          },\n        ],\n        width,\n        height,\n        path: [],\n      });\n\n      node.children?.forEach(child => {\n        traverse(child, id);\n      });\n\n      return id;\n    }\n\n    node.children?.forEach(child => {\n      if (!child.children || !child.children[1]) return traverse(child, id);\n\n      const key = child.children[0].value ?? null;\n      const valueNode = child.children[1];\n      const type = valueNode.type;\n\n      if (type === \"array\") {\n        const targetIds: string[] = [];\n\n        valueNode.children?.forEach(arrayChild => {\n          const arrayChildId = traverse(arrayChild, undefined);\n          if (arrayChildId) targetIds.push(arrayChildId);\n        });\n\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n          to: targetIds.length > 0 ? targetIds : undefined,\n          childrenCount: valueNode.children?.length,\n        });\n\n        targetIds.forEach(targetId => {\n          edges.push({\n            id: String(edgeId++),\n            from: id,\n            to: targetId,\n            text: key ?? null,\n          });\n        });\n      } else if (type === \"object\") {\n        const objectNodeId = traverse(valueNode, id);\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n          childrenCount: Object.keys(valueNode.children ?? {}).length,\n          ...(objectNodeId && { to: [objectNodeId] }),\n        });\n\n        if (objectNodeId) {\n          edges.push({\n            id: String(edgeId++),\n            from: id,\n            to: objectNodeId,\n            text: key ?? null,\n          });\n        }\n      } else {\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n        });\n      }\n    });\n\n    // to handle case where empty object inside array [{}]\n    if (node.parent?.type === \"array\" && node.type === \"object\" && node.children?.length === 0) {\n      text.push({\n        key: null,\n        value: \"{0 keys}\",\n        type: \"object\",\n        childrenCount: 0,\n      });\n    }\n\n    const appendParentKey = () => {\n      const getParentKey = (targetNode: any) => {\n        const path = getNodePath(targetNode);\n        return path?.pop()?.toString();\n      };\n\n      if (!node.parent) {\n        return { parentKey: getParentKey(node), parentType: node.type };\n      }\n\n      if (node.parent.type === \"array\") {\n        return { parentKey: getParentKey(node.parent), parentType: \"array\" };\n      }\n\n      if (node.parent.type === \"property\") {\n        return { parentKey: getParentKey(node), parentType: \"object\" };\n      }\n\n      return {\n        parentKey: getParentKey(node),\n        parentType: node.parent.type.replace(\"property\", \"object\"),\n      };\n    };\n\n    // its for singular text like string, number, boolean, null\n    if (text.length === 0) {\n      if (typeof node.value === \"undefined\") return;\n      const { width, height } = calculateNodeSize(node.value);\n\n      nodes.push({\n        id,\n        text: [\n          {\n            key: null,\n            value: node.value,\n            type: node.type,\n          },\n        ],\n        width,\n        height,\n        path: getNodePath(node),\n        ...appendParentKey(),\n      });\n    } else {\n      let t: string | [string, string][] = \"\";\n\n      if (text.some(t => t.key !== null)) {\n        t = text.map(t => {\n          const keyStr = t.key === null ? \"\" : t.key;\n          if (t.type === \"object\") return [keyStr, `{${t.childrenCount ?? 0} keys}`];\n          if (t.type === \"array\") return [keyStr, `[${t.childrenCount ?? 0} items]`];\n          if (t.value === null) return [keyStr, \"null\"];\n\n          return [keyStr, `${t.value}`];\n        });\n      } else {\n        t = `${text[0].value}`;\n      }\n\n      const { width, height } = calculateNodeSize(t);\n      nodes.push({\n        id,\n        text,\n        width,\n        height,\n        path: getNodePath(node),\n        ...appendParentKey(),\n      });\n    }\n\n    return id; // Return the current id for referencing in the parent node\n  }\n\n  traverse(jsonTree);\n  return { nodes, edges };\n};\n","import type { ViewPort } from \"react-zoomable-ui\";\nimport type { CanvasDirection } from \"reaflow\";\nimport { create } from \"zustand\";\nimport { SUPPORTED_LIMIT } from \"../../../../../constants/graph\";\nimport useJson from \"../../../../../store/useJson\";\nimport type { EdgeData, NodeData } from \"../../../../../types/graph\";\nimport { parser } from \"../lib/jsonParser\";\n\nexport interface Graph {\n  viewPort: ViewPort | null;\n  direction: CanvasDirection;\n  loading: boolean;\n  fullscreen: boolean;\n  nodes: NodeData[];\n  edges: EdgeData[];\n  selectedNode: NodeData | null;\n  path: string;\n  aboveSupportedLimit: boolean;\n}\n\nconst initialStates: Graph = {\n  viewPort: null,\n  direction: \"RIGHT\",\n  loading: true,\n  fullscreen: false,\n  nodes: [],\n  edges: [],\n  selectedNode: null,\n  path: \"\",\n  aboveSupportedLimit: false,\n};\n\ninterface GraphActions {\n  setGraph: (json?: string, options?: Partial<Graph>[]) => void;\n  setLoading: (loading: boolean) => void;\n  setDirection: (direction: CanvasDirection) => void;\n  setViewPort: (ref: ViewPort) => void;\n  setSelectedNode: (nodeData: NodeData) => void;\n  focusFirstNode: () => void;\n  toggleFullscreen: (value: boolean) => void;\n  zoomIn: () => void;\n  zoomOut: () => void;\n  centerView: () => void;\n  clearGraph: () => void;\n  setZoomFactor: (zoomFactor: number) => void;\n}\n\nconst useGraph = create<Graph & GraphActions>((set, get) => ({\n  ...initialStates,\n  clearGraph: () => set({ nodes: [], edges: [], loading: false }),\n  setSelectedNode: nodeData => set({ selectedNode: nodeData }),\n  setGraph: (data, options) => {\n    const { nodes, edges } = parser(data ?? useJson.getState().json);\n\n    if (nodes.length > SUPPORTED_LIMIT) {\n      return set({\n        aboveSupportedLimit: true,\n        ...options,\n        loading: false,\n      });\n    }\n\n    set({\n      nodes,\n      edges,\n      aboveSupportedLimit: false,\n      ...options,\n    });\n  },\n  setDirection: (direction = \"RIGHT\") => {\n    set({ direction });\n    setTimeout(() => get().centerView(), 200);\n  },\n  setLoading: loading => set({ loading }),\n  focusFirstNode: () => {\n    const rootNode = document.querySelector(\"g[id$='node-1']\");\n    get().viewPort?.camera?.centerFitElementIntoView(rootNode as HTMLElement, {\n      elementExtraMarginForZoom: 100,\n    });\n  },\n  setZoomFactor: zoomFactor => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, zoomFactor);\n  },\n  zoomIn: () => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, viewPort.zoomFactor + 0.1);\n  },\n  zoomOut: () => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, viewPort.zoomFactor - 0.1);\n  },\n  centerView: () => {\n    const viewPort = get().viewPort;\n    viewPort?.updateContainerSize();\n\n    const canvas = document.querySelector(\".jsoncrack-canvas\") as HTMLElement | null;\n    if (canvas) {\n      viewPort?.camera?.centerFitElementIntoView(canvas);\n    }\n  },\n  toggleFullscreen: fullscreen => set({ fullscreen }),\n  setViewPort: viewPort => set({ viewPort }),\n}));\n\nexport default useGraph;\n","export const NODE_DIMENSIONS = {\n  ROW_HEIGHT: 30, // Regular row height\n  PARENT_HEIGHT: 36, // Height for parent nodes\n} as const;\n\nexport const SUPPORTED_LIMIT = +(process.env.NEXT_PUBLIC_NODE_LIMIT as string);\n","import type { ParseError } from \"jsonc-parser\";\nimport { FileFormat } from \"../../enums/file.enum\";\n\nexport const contentToJson = (value: string, format = FileFormat.JSON): Promise<object> => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!value) return resolve({});\n\n      if (format === FileFormat.JSON) {\n        const { parse } = await import(\"jsonc-parser\");\n        const errors: ParseError[] = [];\n        const result = parse(value, errors);\n        if (errors.length > 0) JSON.parse(value);\n        return resolve(result);\n      }\n\n      if (format === FileFormat.YAML) {\n        const { load } = await import(\"js-yaml\");\n        return resolve(load(value) as object);\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLParser } = await import(\"fast-xml-parser\");\n        const parser = new XMLParser({\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n          allowBooleanAttributes: true,\n          parseAttributeValue: true,\n          trimValues: true,\n          parseTagValue: true,\n        });\n        return resolve(parser.parse(value));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { csv2json } = await import(\"json-2-csv\");\n        const result = csv2json(value, {\n          trimFieldValues: true,\n          trimHeaderFields: true,\n          wrapBooleans: true,\n          excelBOM: true,\n        });\n        return resolve(result);\n      }\n\n      return resolve({});\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to parse content\";\n      return reject(errorMessage);\n    }\n  });\n};\n\nexport const jsonToContent = async (json: string, format: FileFormat): Promise<string> => {\n  return new Promise(async resolve => {\n    try {\n      if (!json) return resolve(\"\");\n\n      if (format === FileFormat.JSON) {\n        const parsedJson = JSON.parse(json);\n        return resolve(JSON.stringify(parsedJson, null, 2));\n      }\n\n      if (format === FileFormat.YAML) {\n        const { dump } = await import(\"js-yaml\");\n        const { parse } = await import(\"jsonc-parser\");\n        return resolve(dump(parse(json)));\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLBuilder } = await import(\"fast-xml-parser\");\n        const builder = new XMLBuilder({\n          format: true,\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n        });\n\n        return resolve(builder.build(JSON.parse(json)));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { json2csv } = await import(\"json-2-csv\");\n        const parsedJson = JSON.parse(json);\n\n        const data = Array.isArray(parsedJson) ? parsedJson : [parsedJson];\n        return resolve(\n          json2csv(data, {\n            expandArrayObjects: true,\n            expandNestedObjects: true,\n            excelBOM: true,\n            wrapBooleans: true,\n            trimFieldValues: true,\n            trimHeaderFields: true,\n          })\n        );\n      }\n\n      return resolve(json);\n    } catch (error) {\n      console.error(json, error);\n      return resolve(json);\n    }\n  });\n};\n","export function isIframe() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return true;\n  }\n}\n","import debounce from \"lodash.debounce\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { toast } from \"react-hot-toast\";\nimport { create } from \"zustand\";\nimport exampleJson from \"../data/example.json\";\nimport { FileFormat } from \"../enums/file.enum\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport { isIframe } from \"../lib/utils/helpers\";\nimport { contentToJson, jsonToContent } from \"../lib/utils/jsonAdapter\";\nimport useConfig from \"./useConfig\";\nimport useJson from \"./useJson\";\n\nconst defaultJson = JSON.stringify(exampleJson, null, 2);\n\ntype SetContents = {\n  contents?: string;\n  hasChanges?: boolean;\n  skipUpdate?: boolean;\n  format?: FileFormat;\n};\n\ntype Query = string | string[] | undefined;\n\ninterface JsonActions {\n  getContents: () => string;\n  getFormat: () => FileFormat;\n  getHasChanges: () => boolean;\n  setError: (error: string | null) => void;\n  setHasChanges: (hasChanges: boolean) => void;\n  setContents: (data: SetContents) => void;\n  fetchUrl: (url: string) => void;\n  setFormat: (format: FileFormat) => void;\n  clear: () => void;\n  setFile: (fileData: File) => void;\n  setJsonSchema: (jsonSchema: object | null) => void;\n  checkEditorSession: (url: Query, widget?: boolean) => void;\n}\n\nexport type File = {\n  id: string;\n  views: number;\n  owner_email: string;\n  name: string;\n  content: string;\n  private: boolean;\n  format: FileFormat;\n  created_at: string;\n  updated_at: string;\n};\n\nconst initialStates = {\n  fileData: null as File | null,\n  format: FileFormat.JSON,\n  contents: defaultJson,\n  error: null as any,\n  hasChanges: false,\n  jsonSchema: null as object | null,\n};\n\nexport type FileStates = typeof initialStates;\n\nconst isURL = (value: string) => {\n  return /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/gi.test(\n    value\n  );\n};\n\nconst debouncedUpdateJson = debounce((value: unknown) => {\n  useGraph.getState().setLoading(true);\n  useJson.getState().setJson(JSON.stringify(value, null, 2));\n}, 400);\n\nconst useFile = create<FileStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  clear: () => {\n    set({ contents: \"\" });\n    useJson.getState().clear();\n  },\n  setJsonSchema: jsonSchema => set({ jsonSchema }),\n  setFile: fileData => {\n    set({ fileData, format: fileData.format || FileFormat.JSON });\n    get().setContents({ contents: fileData.content, hasChanges: false });\n    gaEvent(\"set_content\", { label: fileData.format });\n  },\n  getContents: () => get().contents,\n  getFormat: () => get().format,\n  getHasChanges: () => get().hasChanges,\n  setFormat: async format => {\n    try {\n      const prevFormat = get().format;\n\n      set({ format });\n      const contentJson = await contentToJson(get().contents, prevFormat);\n      const jsonContent = await jsonToContent(JSON.stringify(contentJson, null, 2), format);\n\n      get().setContents({ contents: jsonContent });\n    } catch {\n      get().clear();\n      console.warn(\"The content was unable to be converted, so it was cleared instead.\");\n    }\n  },\n  setContents: async ({ contents, hasChanges = true, skipUpdate = false, format }) => {\n    try {\n      set({\n        ...(contents && { contents }),\n        error: null,\n        hasChanges,\n        format: format ?? get().format,\n      });\n\n      const isFetchURL = window.location.href.includes(\"?\");\n      const json = await contentToJson(get().contents, get().format);\n\n      if (!useConfig.getState().liveTransformEnabled && skipUpdate) return;\n\n      if (get().hasChanges && contents && contents.length < 80_000 && !isIframe() && !isFetchURL) {\n        sessionStorage.setItem(\"content\", contents);\n        sessionStorage.setItem(\"format\", get().format);\n        set({ hasChanges: true });\n      }\n\n      debouncedUpdateJson(json);\n    } catch (error: any) {\n      if (error?.mark?.snippet) return set({ error: error.mark.snippet });\n      if (error?.message) set({ error: error.message });\n      useJson.setState({ loading: false });\n      useGraph.setState({ loading: false });\n    }\n  },\n  setError: error => set({ error }),\n  setHasChanges: hasChanges => set({ hasChanges }),\n  fetchUrl: async url => {\n    try {\n      const res = await fetch(url);\n      const json = await res.json();\n      const jsonStr = JSON.stringify(json, null, 2);\n\n      get().setContents({ contents: jsonStr });\n      return useJson.setState({ json: jsonStr, loading: false });\n    } catch {\n      get().clear();\n      toast.error(\"Failed to fetch document from URL!\");\n    }\n  },\n  checkEditorSession: (url, widget) => {\n    if (url && typeof url === \"string\" && isURL(url)) {\n      return get().fetchUrl(url);\n    }\n\n    let contents = defaultJson;\n    const sessionContent = sessionStorage.getItem(\"content\") as string | null;\n    const format = sessionStorage.getItem(\"format\") as FileFormat | null;\n    if (sessionContent && !widget) contents = sessionContent;\n\n    if (format) set({ format });\n    get().setContents({ contents, hasChanges: false });\n  },\n}));\n\nexport default useFile;\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\n\nconst initialStates = {\n  darkmodeEnabled: true,\n  imagePreviewEnabled: true,\n  liveTransformEnabled: true,\n  gesturesEnabled: false,\n  rulersEnabled: true,\n};\n\nexport interface ConfigActions {\n  toggleDarkMode: (value: boolean) => void;\n  toggleImagePreview: (value: boolean) => void;\n  toggleLiveTransform: (value: boolean) => void;\n  toggleGestures: (value: boolean) => void;\n  toggleRulers: (value: boolean) => void;\n}\n\nconst useConfig = create(\n  persist<typeof initialStates & ConfigActions>(\n    set => ({\n      ...initialStates,\n      toggleRulers: rulersEnabled => set({ rulersEnabled }),\n      toggleGestures: gesturesEnabled => set({ gesturesEnabled }),\n      toggleLiveTransform: liveTransformEnabled => set({ liveTransformEnabled }),\n      toggleDarkMode: darkmodeEnabled => set({ darkmodeEnabled }),\n      toggleImagePreview: imagePreviewEnabled => {\n        set({ imagePreviewEnabled });\n        useGraph.getState().setGraph();\n      },\n    }),\n    {\n      name: \"config\",\n    }\n  )\n);\n\nexport default useConfig;\n","export enum FileFormat {\n  \"JSON\" = \"json\",\n  \"YAML\" = \"yaml\",\n  \"XML\" = \"xml\",\n  \"CSV\" = \"csv\",\n}\n\nexport const formats = [\n  { value: FileFormat.JSON, label: \"JSON\" },\n  { value: FileFormat.YAML, label: \"YAML\" },\n  { value: FileFormat.XML, label: \"XML\" },\n  { value: FileFormat.CSV, label: \"CSV\" },\n];\n\nexport enum TypeLanguage {\n  TypeScript = \"typescript\",\n  TypeScript_Combined = \"typescript/typealias\",\n  Go = \"go\",\n  JSON_SCHEMA = \"json_schema\",\n  Kotlin = \"kotlin\",\n  Rust = \"rust\",\n}\n\nexport const typeOptions = [\n  {\n    label: \"TypeScript\",\n    value: TypeLanguage.TypeScript,\n    lang: \"typescript\",\n  },\n  {\n    label: \"TypeScript (merged)\",\n    value: TypeLanguage.TypeScript_Combined,\n    lang: \"typescript\",\n  },\n  {\n    label: \"Go\",\n    value: TypeLanguage.Go,\n    lang: \"go\",\n  },\n  {\n    label: \"JSON Schema\",\n    value: TypeLanguage.JSON_SCHEMA,\n    lang: \"json\",\n  },\n  {\n    label: \"Kotlin\",\n    value: TypeLanguage.Kotlin,\n    lang: \"kotlin\",\n  },\n  {\n    label: \"Rust\",\n    value: TypeLanguage.Rust,\n    lang: \"rust\",\n  },\n];\n"],"names":["initialStates","json","loading","create","set","get","getJson","useJson","setJson","useGraph","getState","setGraph","clear","clearGraph","isContentImage","value","isImageURL","test","isBase64","startsWith","includes","Map","setInterval","sizeCache","calculateNodeSize","text","isParent","imagePreviewEnabled","useConfig","isImage","cacheKey","toString","has","size","sizes","calculateWidthAndHeight","str","single","lines","width","height","dummyElement","document","createElement","style","whiteSpace","innerText","fontSize","padding","fontWeight","fontFamily","body","appendChild","clientRect","getBoundingClientRect","split","length","NODE_DIMENSIONS","PARENT_HEIGHT","ROW_HEIGHT","removeChild","isArray","map","k","v","JSON","stringify","slice","join","viewPort","direction","fullscreen","nodes","edges","selectedNode","path","aboveSupportedLimit","setSelectedNode","nodeData","data","options","parser","jsonTree","parseTree","nodeId","edgeId","traverse","node","parentId","id","String","undefined","parent","type","push","from","to","isRootArray","children","key","childrenCount","forEach","child","valueNode","targetIds","arrayChild","arrayChildId","targetId","objectNodeId","Object","keys","appendParentKey","getParentKey","targetNode","getNodePath","pop","parentKey","parentType","replace","t","some","keyStr","SUPPORTED_LIMIT","setDirection","setTimeout","centerView","setLoading","focusFirstNode","rootNode","querySelector","camera","centerFitElementIntoView","elementExtraMarginForZoom","setZoomFactor","zoomFactor","recenter","centerX","centerY","zoomIn","zoomOut","updateContainerSize","canvas","toggleFullscreen","setViewPort","process","contentToJson","format","FileFormat","Promise","resolve","reject","parse","errors","result","YAML","load","XML","XMLParser","attributeNamePrefix","ignoreAttributes","allowBooleanAttributes","parseAttributeValue","trimValues","parseTagValue","CSV","csv2json","trimFieldValues","trimHeaderFields","wrapBooleans","excelBOM","error","errorMessage","Error","message","jsonToContent","parsedJson","dump","XMLBuilder","builder","build","json2csv","Array","expandArrayObjects","expandNestedObjects","console","defaultJson","exampleJson","fileData","contents","hasChanges","jsonSchema","debouncedUpdateJson","debounce","useFile","setJsonSchema","setFile","setContents","content","gaEvent","label","getContents","getFormat","getHasChanges","setFormat","prevFormat","contentJson","jsonContent","warn","skipUpdate","isFetchURL","window","location","href","liveTransformEnabled","isIframe","self","top","sessionStorage","setItem","mark","snippet","setState","setError","setHasChanges","fetchUrl","url","res","fetch","jsonStr","toast","checkEditorSession","widget","isURL","sessionContent","getItem","darkmodeEnabled","gesturesEnabled","rulersEnabled","persist","toggleRulers","toggleGestures","toggleLiveTransform","toggleDarkMode","toggleImagePreview","name","TypeLanguage","formats","typeOptions","lang"],"sourceRoot":"","ignoreList":[]}