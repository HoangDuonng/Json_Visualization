"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70671],{6340:(e,t,i)=>{i.d(t,{J:()=>l});var n=i(37876);i(14232);var r=i(69874);let o=i(33686).Ay.span.withConfig({componentId:"sc-e95bd02b-0"})(["display:inline-flex;align-items:center;overflow:hidden;gap:4px;vertical-align:middle;"]),s=e=>e?.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gm),l=({children:e})=>{var t;if("string"==typeof e&&s(e)){let t;return t=e.split(" ").map(e=>s(e)?`<a onclick="event.stopPropagation()" href="${e}" style="text-decoration: underline; pointer-events: all;" target="_blank" rel="noopener noreferrer">${e}</a>`:e).join(" "),(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:t}})}return"string"==typeof e&&(t=e,/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)||/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/.test(t)||/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(0|1|0\.\d+)\s*\)$/.test(t))?(0,n.jsxs)(o,{children:[(0,n.jsx)(r.q,{size:12,radius:4,mr:4,color:e}),e]}):(0,n.jsx)(n.Fragment,{children:`${e}`})}},70671:(e,t,i)=>{i.r(t),i.d(t,{GraphView:()=>ed});var n=i(37876),r=i(14232),o=i(12614),s=i(95171),l=i(99649),a=i(7384),d=i(33686),c=i(39149),h=i.n(c),g=i(74020),x=i(73176),p=i(67116),u=i(66480),f=i(9456);let m=r.memo(e=>{let t=(0,o.l)(),i=(0,f.A)(e=>e.viewPort),s=(0,f.A)(e=>e.edges),[l,a]=r.useState(!1);return(0,n.jsx)(x.oH,{containerClassName:`edge-${e.id}`,onClick:()=>{let t=s.find(t=>t.id===e.properties?.id)?.to,n=document.querySelector(`[data-id$="node-${t}"]`);n&&n.parentElement&&i?.camera.centerFitElementIntoView(n.parentElement,{elementExtraMarginForZoom:150})},onEnter:()=>a(!0),onLeave:()=>a(!1),style:{stroke:"dark"===t?"#444444":"#BCBEC0",...l&&{stroke:"#3B82F6"},strokeWidth:1.5},...e})});var j=i(40215),y=i(56045),b=i(6340),w=i(75774);function v({$value:e,$type:t,theme:i}){return null===e?i.NODE_COLORS.NULL:"object"===t?i.NODE_COLORS.NODE_KEY:"number"===t?i.NODE_COLORS.INTEGER:!0===e?i.NODE_COLORS.BOOL.TRUE:!1===e?i.NODE_COLORS.BOOL.FALSE:i.NODE_COLORS.NODE_VALUE}(0,d.Ay)(w.xC).withConfig({componentId:"sc-ba2336b5-0"})(["text-decoration:underline;pointer-events:all;"]);let E=d.Ay.foreignObject.withConfig({componentId:"sc-ba2336b5-1"})(["text-align:",";color:",";font-family:monospace;font-size:12px;font-weight:500;overflow:hidden;pointer-events:none;&.searched{background:rgba(27,255,0,0.1);border:1px solid ",";border-radius:2px;box-sizing:border-box;}.highlight{background:rgba(255,214,0,0.15);}.renderVisible{display:flex;justify-content:center;align-items:center;font-size:12px;width:100%;height:100%;overflow:hidden;cursor:pointer;}"],({$isObject:e})=>!e&&"center",({theme:e})=>e.NODE_COLORS.TEXT,({theme:e})=>e.TEXT_POSITIVE),C=d.Ay.span.withConfig({componentId:"sc-ba2336b5-2"})(["display:inline;align-items:center;justify-content:center;flex:1;min-width:0;height:auto;line-height:inherit;padding:0;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],({theme:e,$type:t,$value:i=""})=>v({$value:i,$type:t,theme:e})),O=d.Ay.span.withConfig({componentId:"sc-ba2336b5-3"})(["padding:3px 10px;height:","px;line-height:24px;color:",";display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:1px solid ",";box-sizing:border-box;&:last-of-type{border-bottom:none;}.searched &{border-bottom:1px solid ",";}"],y.d.ROW_HEIGHT,({theme:e,$value:t})=>v({$value:t,theme:e,$type:typeof t}),({theme:e})=>e.NODE_COLORS.DIVIDER,({theme:e})=>e.TEXT_POSITIVE);d.Ay.span.withConfig({componentId:"sc-ba2336b5-4"})(["color:",";padding:10px;margin-left:-15px;"],({theme:e})=>e.NODE_COLORS.CHILD_COUNT);let k=({row:e,x:t,y:i,index:r})=>{let o=r*y.d.ROW_HEIGHT;return(0,n.jsxs)(O,{$value:e.value,"data-key":`${e.key}: ${e.value}`,"data-x":t,"data-y":i+o,children:[(0,n.jsxs)(C,{$type:"object",children:[e.key,": "]}),(0,n.jsx)(b.J,{children:"object"===e.type?`{${e.childrenCount??0} keys}`:"array"===e.type?`[${e.childrenCount??0} items]`:e.value})]})},A=r.memo(({node:e,x:t,y:i})=>(0,n.jsx)(E,{"data-id":`node-${e.id}`,width:e.width,height:e.height,x:0,y:0,$isObject:!0,children:e.text.map((r,o)=>(0,n.jsx)(k,{row:r,x:t,y:i,index:o},`${e.id}-${o}`))}),function(e,t){return JSON.stringify(e.node.text)===JSON.stringify(t.node.text)&&e.node.width===t.node.width});var I=i(78721);let S=d.Ay.span.withConfig({componentId:"sc-76ae9663-0"})(["display:flex;justify-content:",";align-items:center;height:100%;width:100%;overflow:hidden;padding:0 10px;"],({$isParent:e})=>e?"center":"flex-start"),z=d.Ay.div.withConfig({componentId:"sc-76ae9663-1"})(["padding:5px;"]),_=d.Ay.img.withConfig({componentId:"sc-76ae9663-2"})(["border-radius:2px;object-fit:contain;background:",";"],({theme:e})=>e.BACKGROUND_MODIFIER_ACCENT),L=r.memo(({node:e,x:t,y:i})=>{let{text:r,width:o,height:s}=e,l=(0,u.A)(e=>e.imagePreviewEnabled)&&(0,I.R)(JSON.stringify(r[0].value)),a=r[0].value;return(0,n.jsx)(E,{"data-id":`node-${e.id}`,width:o,height:s,x:0,y:0,children:l?(0,n.jsx)(z,{children:(0,n.jsx)(_,{src:JSON.stringify(r[0].value),width:"70",height:"70",loading:"lazy"})}):(0,n.jsx)(S,{"data-x":t,"data-y":i,"data-key":JSON.stringify(r),$isParent:!1,children:(0,n.jsx)(C,{$value:a,$type:typeof r[0].value,children:(0,n.jsx)(b.J,{children:a})})})})},function(e,t){return e.node.text===t.node.text&&e.node.width===t.node.width}),N=r.memo(e=>{let t=(0,f.A)(e=>e.setSelectedNode),i=(0,j.h)(e=>e.setVisible),s=(0,o.l)(),l=r.useCallback((e,n)=>{t&&t(n),i("NodeModal",!0)},[t,i]);return(0,n.jsx)(x.bP,{...e,onClick:l,animated:!1,label:null,onEnter:e=>{e.currentTarget.style.stroke="#3B82F6"},onLeave:e=>{e.currentTarget.style.stroke="dark"===s?"#424242":"#BCBEC0"},style:{fill:"dark"===s?"#292929":"#ffffff",stroke:"dark"===s?"#424242":"#BCBEC0",strokeWidth:1},children:({node:t,x:i,y:r})=>e.properties.text[0].key?(0,n.jsx)(A,{node:t,x:i,y:r}):(0,n.jsx)(L,{node:e.properties,x:i,y:r})})});var R=i(30455),T=i(79021),D=i(45050),$=i(8874);let W=()=>{let e=(0,u.A)(e=>e.darkmodeEnabled);return(0,n.jsx)(R.h,{backgroundOpacity:.8,color:e?"gray":"rgb(226, 240, 243)",blur:"1.5",center:!0,children:(0,n.jsxs)(T.B,{maw:"60%",align:"center",justify:"center",gap:"sm",children:[(0,n.jsx)(D.E,{fz:"48",fw:600,c:"bright",children:"File too large!"}),(0,n.jsxs)(D.E,{ta:"center",size:"lg",fw:500,c:"gray",maw:"600",children:["This diagram is too large and not supported at JSON Visualization.",(0,n.jsx)("br",{}),"You can increase the limit by setting ",(0,n.jsx)($.C,{children:"NEXT_PUBLIC_NODE_LIMIT"})," in your"," ",(0,n.jsx)($.C,{children:".env"})," file."]})]})})};var P=i(20562),F=i(52509),M=i(11210),G=i(44193),B=i(72144),V=i(47607),H=i(27857),U=i(93365),J=i(61673);let K=(0,d.Ay)(J.eJv).withConfig({componentId:"sc-b708af31-0"})(["transform:rotate(",");"],({rotate:e})=>`${e}deg`),q=()=>{var e;let t=(0,u.A)(e=>e.toggleGestures),i=(0,u.A)(e=>e.toggleRulers),o=(0,u.A)(e=>e.toggleImagePreview),s=(0,u.A)(e=>e.gesturesEnabled),l=(0,u.A)(e=>e.rulersEnabled),a=(0,u.A)(e=>e.imagePreviewEnabled),d=(0,f.A)(e=>e.setDirection),c=(0,f.A)(e=>e.direction),h=(0,j.h)(e=>e.setVisible),[g,x]=r.useState("CTRL"),p=()=>{var e;let t="RIGHT"===(e=c||"RIGHT")?"DOWN":"DOWN"===e?"LEFT":"LEFT"===e?"UP":"RIGHT";d&&d(t)};return(0,B.O)([["mod+shift+d",p],["mod+f",()=>{document.querySelector("#search-node").focus()}]],[]),r.useEffect(()=>{x(navigator.userAgent.indexOf("Mac OS X")?"⌘":"CTRL")},[]),(0,n.jsx)(P.s,{gap:"xs",align:"center",style:{position:"absolute",top:"10px",left:"10px",zIndex:100},children:(0,n.jsxs)(F.W,{withArrow:!0,children:[(0,n.jsx)(F.W.Target,{children:(0,n.jsx)(M.M,{"aria-label":"actions",size:"lg",color:"gray",variant:"light",children:(0,n.jsx)(U.z9i,{size:"18"})})}),(0,n.jsxs)(F.W.Dropdown,{children:[(0,n.jsx)(F.W.Item,{leftSection:(0,n.jsx)(U.zus,{color:"gray"}),onClick:()=>h("DownloadModal",!0),children:(0,n.jsxs)(P.s,{fz:"xs",justify:"space-between",gap:"md",children:[(0,n.jsx)(D.E,{fz:"xs",children:"Export as image"}),(0,n.jsxs)(D.E,{ml:"md",fz:10,c:"dimmed",children:[g," + S"]})]})}),(0,n.jsx)(F.W.Item,{fz:12,onClick:()=>{p(),(0,V.f0)("rotate_layout",{label:c})},leftSection:(0,n.jsx)(K,{rotate:"LEFT"===(e=c||"RIGHT")?90:"UP"===e?180:"RIGHT"===e?270:360}),rightSection:(0,n.jsxs)(D.E,{ml:"md",fz:10,c:"dimmed",children:[g," Shift D"]}),closeMenuOnClick:!1,children:"Rotate Layout"}),(0,n.jsx)(F.W.Divider,{}),(0,n.jsxs)(F.W,{position:"right",trigger:"hover",offset:0,children:[(0,n.jsx)(F.W.Target,{children:(0,n.jsx)(G.$,{variant:"subtle",size:"xs",color:"text",fullWidth:!0,fw:"400",rightSection:(0,n.jsx)(U.xCi,{}),styles:{root:{paddingInline:11},inner:{justifyContent:"space-between"}},children:"View Options"})}),(0,n.jsxs)(F.W.Dropdown,{children:[(0,n.jsx)(F.W.Item,{leftSection:(0,n.jsx)(H.y8W,{opacity:100*!!l}),onClick:()=>{i(!l),(0,V.f0)("toggle_rulers",{label:l?"on":"off"})},children:(0,n.jsx)(D.E,{size:"xs",children:"Rulers"})}),(0,n.jsx)(F.W.Item,{leftSection:(0,n.jsx)(H.y8W,{opacity:100*!!s}),onClick:()=>{t(!s),(0,V.f0)("toggle_gestures",{label:s?"on":"off"})},children:(0,n.jsx)(D.E,{size:"xs",children:"Zoom on Scroll"})}),(0,n.jsx)(F.W.Item,{leftSection:(0,n.jsx)(H.y8W,{opacity:100*!!a}),onClick:()=>{o(!a),(0,V.f0)("toggle_image_preview",{label:a?"on":"off"})},children:(0,n.jsx)(D.E,{size:"xs",children:"Image Link Preview"})})]})]})]})]})})};var X=i(95830),Y=i(93038);let Z=()=>(0,n.jsx)(X.m,{label:"Your data is processed locally on your device.",fz:"xs",ta:"center",maw:"200",multiline:!0,withArrow:!0,children:(0,n.jsx)(Y.L,{variant:"light",color:"teal",size:"36",style:{position:"absolute",bottom:"10px",right:"10px",zIndex:100},radius:"xl",children:(0,n.jsx)(U.VIB,{size:"22"})})});var Q=i(31408),ee=i(23375),et=i(22190),ei=i(16290);let en=()=>{let e=document.querySelectorAll("foreignObject.searched, .highlight");for(let t=0;t<e.length;t++)e[t].classList.remove("searched","highlight")},er=()=>{let[e,t,i,o,s]=(()=>{let e=(0,f.A)(e=>e.viewPort),[t,i]=r.useState(0),[n,o]=r.useState(0),[s,l]=r.useState(""),[d]=(0,a.o)(s,600);return r.useEffect(()=>{let n;if(!s){en(),i(0),o(0);return}if(!e||!d)return;let r=(n=`span[data-key*='${d}' i]`,document.querySelectorAll(n)),l=r[t]||null;if(en(),l&&l.parentElement){for(let e=0;e<r.length;e++){let t=r[e],i=t.parentElement?.closest("foreignObject");i&&i.classList.add("searched")}r[t].classList.add("highlight"),o(r.length),e?.camera.centerFitElementIntoView(l.parentElement,{elementExtraMarginForZoom:400})}else i(0),o(0);(0,V.f0)("search_graph")},[t,d,s,e]),[s,l,()=>i(e=>(e+1)%n),n,t]})(),l=(0,et.c)();return(0,n.jsx)(Q.k,{variant:"unstyled",type:"search",size:"xs",id:"search-node",w:180,value:e,onChange:e=>t(e.currentTarget.value),placeholder:`Search Node (${"macos"===l?"⌘":"Ctrl"} + F)`,autoComplete:"off",autoCorrect:"off",onKeyDown:(0,ee.vA)([["Enter",i]]),leftSection:(0,n.jsx)(ei.fUO,{}),rightSection:e&&(0,n.jsx)(P.s,{h:30,align:"center",children:(0,n.jsx)(D.E,{size:"xs",c:"dimmed",pr:"md",children:e&&`${o}/${o>0?s+1:"0"}`})}),style:{borderBottom:"1px solid gray"}})},eo=()=>{let e=(0,f.A)(e=>e.zoomIn),t=(0,f.A)(e=>e.zoomOut),i=(0,f.A)(e=>e.centerView),r=(0,f.A)(e=>e.focusFirstNode);return(0,B.O)([["mod+[plus]",e,{usePhysicalKeys:!0}],["mod+[minus]",t,{usePhysicalKeys:!0}],["shift+Digit1",r,{usePhysicalKeys:!0}],["shift+Digit2",i,{usePhysicalKeys:!0}]],[]),(0,n.jsxs)(P.s,{align:"center",gap:"xs",style:{position:"absolute",bottom:"10px",left:"10px",alignItems:"start",zIndex:100},children:[(0,n.jsxs)(M.M.Group,{borderWidth:0,children:[(0,n.jsx)(X.m,{label:(0,n.jsxs)(P.s,{fz:"xs",gap:"md",children:[(0,n.jsx)(D.E,{fz:"xs",children:"Center first item"}),(0,n.jsx)(D.E,{fz:"xs",c:"dimmed",children:"⇧ 1"})]}),withArrow:!0,children:(0,n.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{r(),(0,V.f0)("focus_first_node")},children:(0,n.jsx)(U.oso,{})})}),(0,n.jsx)(X.m,{label:(0,n.jsxs)(P.s,{fz:"xs",gap:"md",children:[(0,n.jsx)(D.E,{fz:"xs",children:"Fit to center"}),(0,n.jsx)(D.E,{fz:"xs",c:"dimmed",children:"⇧ 2"})]}),withArrow:!0,children:(0,n.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{i(),(0,V.f0)("center_view")},children:(0,n.jsx)(U.Inx,{})})}),(0,n.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{t(),(0,V.f0)("zoom_out")},children:(0,n.jsx)(U.I4m,{})}),(0,n.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{e(),(0,V.f0)("zoom_in")},children:(0,n.jsx)(U._rf,{})})]}),(0,n.jsx)(er,{})]})},es=d.Ay.div.withConfig({componentId:"sc-abc9f2d4-0"})(["width:100%;height:100vh;--bg-color:",";--line-color-1:",";--line-color-2:",";background-color:var(--bg-color);",';.jsoncrack-space{cursor:url("/assets/cursor.svg"),auto;}:active{cursor:move;}.dragging,.dragging button{pointer-events:none;}text{fill:'," !important;}rect{fill:",";}@media only screen and (max-width:320px){height:100vh;}"],({theme:e})=>e.GRID_BG_COLOR,({theme:e})=>e.GRID_COLOR_PRIMARY,({theme:e})=>e.GRID_COLOR_SECONDARY,({$showRulers:e})=>e&&`
    background-image: linear-gradient(var(--line-color-1) 1.5px, transparent 1.5px),
      linear-gradient(90deg, var(--line-color-1) 1.5px, transparent 1.5px),
      linear-gradient(var(--line-color-2) 1px, transparent 1px),
      linear-gradient(90deg, var(--line-color-2) 1px, transparent 1px);
    background-position:
      -1.5px -1.5px,
      -1.5px -1.5px,
      -1px -1px,
      -1px -1px;
    background-size:
      100px 100px,
      100px 100px,
      20px 20px,
      20px 20px;
  `,({theme:e})=>e.INTERACTIVE_NORMAL,({theme:e})=>e.BACKGROUND_NODE),el={"elk.layered.compaction.postCompaction.strategy":"EDGE_LENGTH","elk.layered.nodePlacement.strategy":"NETWORK_SIMPLEX","elk.spacing.edgeLabel":"15"},ea=({isWidget:e})=>{let t=(0,f.A)(e=>e.setLoading),i=(0,f.A)(e=>e.centerView),s=(0,f.A)(e=>e.direction),l=(0,f.A)(e=>e.nodes),a=(0,f.A)(e=>e.edges),d=(0,o.l)(),[c,h]=r.useState(2e3),[g,p]=r.useState(2e3),u=r.useCallback(n=>{if(n.width&&n.height){let r=Math.abs(100*(n.width*n.height)/(c*g)-100);h(n.width+50),p(n.height+50),setTimeout(()=>{window.requestAnimationFrame(()=>{(r>70||e)&&i(),t(!1)})})}},[e,g,c,i,t]);return(0,n.jsx)(x.Hl,{className:"jsoncrack-canvas",onLayoutChange:u,node:e=>(0,n.jsx)(N,{...e}),edge:e=>(0,n.jsx)(m,{...e}),nodes:l,edges:a,arrow:null,maxHeight:g,maxWidth:c,height:g,width:c,direction:s,layoutOptions:el,pannable:!1,zoomable:!1,animated:!1,readonly:!0,dragEdge:null,dragNode:null,fit:!0},[s,d].join("-"))},ed=({isWidget:e=!1})=>{let t=(0,f.A)(e=>e.setViewPort),i=(0,f.A)(e=>e.viewPort),o=(0,f.A)(e=>e.aboveSupportedLimit),d=(0,f.A)(e=>e.loading),c=(0,u.A)(e=>e.gesturesEnabled),x=(0,u.A)(e=>e.rulersEnabled),[m]=(0,a.o)(d,300),j=r.useCallback(()=>{let e=document.querySelector(".jsoncrack-canvas");e?.classList.add("dragging")},[]),y=(0,p.HZ)(j,{threshold:150,onFinish:()=>{let e=document.querySelector(".jsoncrack-canvas");e?.classList.remove("dragging")}}),b=r.useCallback(()=>{"activeElement"in document&&document.activeElement?.blur()},[]),w=h()(()=>{t(i)},300);return(0,n.jsxs)(s.a,{pos:"relative",h:"100%",w:"100%",children:[o&&(0,n.jsx)(W,{}),(0,n.jsx)(l.p,{visible:m}),!e&&(0,n.jsx)(q,{}),!e&&(0,n.jsx)(Z,{}),(0,n.jsx)(eo,{}),(0,n.jsx)(es,{$widget:e,onContextMenu:e=>e.preventDefault(),onClick:b,$showRulers:x,...y(),children:(0,n.jsx)(g.Space,{onUpdated:()=>w(),onCreate:t,onContextMenu:e=>e.preventDefault(),treatTwoFingerTrackPadGesturesLikeTouch:c,pollForElementResizing:!0,className:"jsoncrack-space",children:(0,n.jsx)(ea,{isWidget:e})})},String(c))]})}}}]);
//# sourceMappingURL=70671.613a2079f78a2466.js.map