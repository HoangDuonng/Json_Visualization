{"version":3,"file":"static/chunks/6568.387b64b73974453b.js","mappings":"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","sources":["webpack://_N_E/./src/components/Cursor.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef } from \"react\";\n\ninterface ColorRGB {\n  r: number;\n  g: number;\n  b: number;\n}\n\ninterface SplashCursorProps {\n  SIM_RESOLUTION?: number;\n  DYE_RESOLUTION?: number;\n  CAPTURE_RESOLUTION?: number;\n  DENSITY_DISSIPATION?: number;\n  VELOCITY_DISSIPATION?: number;\n  PRESSURE?: number;\n  PRESSURE_ITERATIONS?: number;\n  CURL?: number;\n  SPLAT_RADIUS?: number;\n  SPLAT_FORCE?: number;\n  SHADING?: boolean;\n  COLOR_UPDATE_SPEED?: number;\n  BACK_COLOR?: ColorRGB;\n  TRANSPARENT?: boolean;\n}\n\ninterface Pointer {\n  id: number;\n  texcoordX: number;\n  texcoordY: number;\n  prevTexcoordX: number;\n  prevTexcoordY: number;\n  deltaX: number;\n  deltaY: number;\n  down: boolean;\n  moved: boolean;\n  color: ColorRGB;\n}\n\nfunction pointerPrototype(): Pointer {\n  return {\n    id: -1,\n    texcoordX: 0,\n    texcoordY: 0,\n    prevTexcoordX: 0,\n    prevTexcoordY: 0,\n    deltaX: 0,\n    deltaY: 0,\n    down: false,\n    moved: false,\n    color: { r: 0, g: 0, b: 0 },\n  };\n}\n\nexport default function SplashCursor({\n  SIM_RESOLUTION = 128,\n  DYE_RESOLUTION = 1440,\n  CAPTURE_RESOLUTION = 512,\n  DENSITY_DISSIPATION = 3.5,\n  VELOCITY_DISSIPATION = 2,\n  PRESSURE = 0.1,\n  PRESSURE_ITERATIONS = 20,\n  CURL = 3,\n  SPLAT_RADIUS = 0.2,\n  SPLAT_FORCE = 6000,\n  SHADING = true,\n  COLOR_UPDATE_SPEED = 10,\n  BACK_COLOR = { r: 0.5, g: 0, b: 0 },\n  TRANSPARENT = true,\n}: SplashCursorProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    let pointers: Pointer[] = [pointerPrototype()];\n\n    let config = {\n      SIM_RESOLUTION: SIM_RESOLUTION!,\n      DYE_RESOLUTION: DYE_RESOLUTION!,\n      CAPTURE_RESOLUTION: CAPTURE_RESOLUTION!,\n      DENSITY_DISSIPATION: DENSITY_DISSIPATION!,\n      VELOCITY_DISSIPATION: VELOCITY_DISSIPATION!,\n      PRESSURE: PRESSURE!,\n      PRESSURE_ITERATIONS: PRESSURE_ITERATIONS!,\n      CURL: CURL!,\n      SPLAT_RADIUS: SPLAT_RADIUS!,\n      SPLAT_FORCE: SPLAT_FORCE!,\n      SHADING,\n      COLOR_UPDATE_SPEED: COLOR_UPDATE_SPEED!,\n      PAUSED: false,\n      BACK_COLOR,\n      TRANSPARENT,\n    };\n\n    const { gl, ext } = getWebGLContext(canvas);\n    if (!gl || !ext) return;\n\n    if (!ext.supportLinearFiltering) {\n      config.DYE_RESOLUTION = 256;\n      config.SHADING = false;\n    }\n\n    function getWebGLContext(canvas: HTMLCanvasElement) {\n      const params = {\n        alpha: true,\n        depth: false,\n        stencil: false,\n        antialias: false,\n        preserveDrawingBuffer: false,\n      };\n\n      let gl = canvas.getContext(\"webgl2\", params) as WebGL2RenderingContext | null;\n\n      if (!gl) {\n        gl = (canvas.getContext(\"webgl\", params) ||\n          canvas.getContext(\"experimental-webgl\", params)) as WebGL2RenderingContext | null;\n      }\n\n      if (!gl) {\n        throw new Error(\"Unable to initialize WebGL.\");\n      }\n\n      const isWebGL2 = \"drawBuffers\" in gl;\n\n      let supportLinearFiltering = false;\n      let halfFloat;\n\n      if (isWebGL2) {\n        (gl as WebGL2RenderingContext).getExtension(\"EXT_color_buffer_float\");\n        supportLinearFiltering = !!(gl as WebGL2RenderingContext).getExtension(\n          \"OES_texture_float_linear\"\n        );\n      } else {\n        halfFloat = gl.getExtension(\"OES_texture_half_float\");\n        supportLinearFiltering = !!gl.getExtension(\"OES_texture_half_float_linear\");\n      }\n\n      gl.clearColor(0, 0, 0, 1);\n\n      const halfFloatTexType = isWebGL2\n        ? (gl as WebGL2RenderingContext).HALF_FLOAT\n        : (halfFloat && (halfFloat as any).HALF_FLOAT_OES) || 0;\n\n      let formatRGBA: any;\n      let formatRG: any;\n      let formatR: any;\n\n      if (isWebGL2) {\n        formatRGBA = getSupportedFormat(\n          gl,\n          (gl as WebGL2RenderingContext).RGBA16F,\n          gl.RGBA,\n          halfFloatTexType\n        );\n        formatRG = getSupportedFormat(\n          gl,\n          (gl as WebGL2RenderingContext).RG16F,\n          (gl as WebGL2RenderingContext).RG,\n          halfFloatTexType\n        );\n        formatR = getSupportedFormat(\n          gl,\n          (gl as WebGL2RenderingContext).R16F,\n          (gl as WebGL2RenderingContext).RED,\n          halfFloatTexType\n        );\n      } else {\n        formatRGBA = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n        formatRG = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n        formatR = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n      }\n\n      return {\n        gl,\n        ext: {\n          formatRGBA,\n          formatRG,\n          formatR,\n          halfFloatTexType,\n          supportLinearFiltering,\n        },\n      };\n    }\n\n    function getSupportedFormat(\n      gl: WebGLRenderingContext | WebGL2RenderingContext,\n      internalFormat: number,\n      format: number,\n      type: number\n    ): { internalFormat: number; format: number } | null {\n      if (!supportRenderTextureFormat(gl, internalFormat, format, type)) {\n        if (\"drawBuffers\" in gl) {\n          const gl2 = gl as WebGL2RenderingContext;\n          switch (internalFormat) {\n            case gl2.R16F:\n              return getSupportedFormat(gl2, gl2.RG16F, gl2.RG, type);\n            case gl2.RG16F:\n              return getSupportedFormat(gl2, gl2.RGBA16F, gl2.RGBA, type);\n            default:\n              return null;\n          }\n        }\n        return null;\n      }\n      return { internalFormat, format };\n    }\n\n    function supportRenderTextureFormat(\n      gl: WebGLRenderingContext | WebGL2RenderingContext,\n      internalFormat: number,\n      format: number,\n      type: number\n    ) {\n      const texture = gl.createTexture();\n      if (!texture) return false;\n\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\n\n      const fbo = gl.createFramebuffer();\n      if (!fbo) return false;\n\n      gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n      const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n      return status === gl.FRAMEBUFFER_COMPLETE;\n    }\n\n    function hashCode(s: string) {\n      if (!s.length) return 0;\n      let hash = 0;\n      for (let i = 0; i < s.length; i++) {\n        hash = (hash << 5) - hash + s.charCodeAt(i);\n        hash |= 0;\n      }\n      return hash;\n    }\n\n    function addKeywords(source: string, keywords: string[] | null) {\n      if (!keywords) return source;\n      let keywordsString = \"\";\n      for (const keyword of keywords) {\n        keywordsString += `#define ${keyword}\\n`;\n      }\n      return keywordsString + source;\n    }\n\n    function compileShader(\n      type: number,\n      source: string,\n      keywords: string[] | null = null\n    ): WebGLShader | null {\n      const shaderSource = addKeywords(source, keywords);\n      const shader = gl.createShader(type);\n      if (!shader) return null;\n      gl.shaderSource(shader, shaderSource);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.trace(gl.getShaderInfoLog(shader));\n      }\n      return shader;\n    }\n\n    function createProgram(\n      vertexShader: WebGLShader | null,\n      fragmentShader: WebGLShader | null\n    ): WebGLProgram | null {\n      if (!vertexShader || !fragmentShader) return null;\n      const program = gl.createProgram();\n      if (!program) return null;\n      gl.attachShader(program, vertexShader);\n      gl.attachShader(program, fragmentShader);\n      gl.linkProgram(program);\n      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        console.trace(gl.getProgramInfoLog(program));\n      }\n      return program;\n    }\n\n    function getUniforms(program: WebGLProgram) {\n      let uniforms: Record<string, WebGLUniformLocation | null> = {};\n      const uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n      for (let i = 0; i < uniformCount; i++) {\n        const uniformInfo = gl.getActiveUniform(program, i);\n        if (uniformInfo) {\n          uniforms[uniformInfo.name] = gl.getUniformLocation(program, uniformInfo.name);\n        }\n      }\n      return uniforms;\n    }\n\n    class Program {\n      program: WebGLProgram | null;\n      uniforms: Record<string, WebGLUniformLocation | null>;\n\n      constructor(vertexShader: WebGLShader | null, fragmentShader: WebGLShader | null) {\n        this.program = createProgram(vertexShader, fragmentShader);\n        this.uniforms = this.program ? getUniforms(this.program) : {};\n      }\n\n      bind() {\n        if (this.program) gl.useProgram(this.program);\n      }\n    }\n\n    class Material {\n      vertexShader: WebGLShader | null;\n      fragmentShaderSource: string;\n      programs: Record<number, WebGLProgram | null>;\n      activeProgram: WebGLProgram | null;\n      uniforms: Record<string, WebGLUniformLocation | null>;\n\n      constructor(vertexShader: WebGLShader | null, fragmentShaderSource: string) {\n        this.vertexShader = vertexShader;\n        this.fragmentShaderSource = fragmentShaderSource;\n        this.programs = {};\n        this.activeProgram = null;\n        this.uniforms = {};\n      }\n\n      setKeywords(keywords: string[]) {\n        let hash = 0;\n        for (const kw of keywords) {\n          hash += hashCode(kw);\n        }\n        let program = this.programs[hash];\n        if (program == null) {\n          const fragmentShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            this.fragmentShaderSource,\n            keywords\n          );\n          program = createProgram(this.vertexShader, fragmentShader);\n          this.programs[hash] = program;\n        }\n        if (program === this.activeProgram) return;\n        if (program) {\n          this.uniforms = getUniforms(program);\n        }\n        this.activeProgram = program;\n      }\n\n      bind() {\n        if (this.activeProgram) {\n          gl.useProgram(this.activeProgram);\n        }\n      }\n    }\n\n    const baseVertexShader = compileShader(\n      gl.VERTEX_SHADER,\n      `\n      precision highp float;\n      attribute vec2 aPosition;\n      varying vec2 vUv;\n      varying vec2 vL;\n      varying vec2 vR;\n      varying vec2 vT;\n      varying vec2 vB;\n      uniform vec2 texelSize;\n\n      void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n      }\n    `\n    );\n\n    const copyShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision mediump float;\n      precision mediump sampler2D;\n      varying highp vec2 vUv;\n      uniform sampler2D uTexture;\n\n      void main () {\n          gl_FragColor = texture2D(uTexture, vUv);\n      }\n    `\n    );\n\n    const clearShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision mediump float;\n      precision mediump sampler2D;\n      varying highp vec2 vUv;\n      uniform sampler2D uTexture;\n      uniform float value;\n\n      void main () {\n          gl_FragColor = value * texture2D(uTexture, vUv);\n      }\n    `\n    );\n\n    const displayShaderSource = `\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      varying vec2 vL;\n      varying vec2 vR;\n      varying vec2 vT;\n      varying vec2 vB;\n      uniform sampler2D uTexture;\n      uniform sampler2D uDithering;\n      uniform vec2 ditherScale;\n      uniform vec2 texelSize;\n\n      vec3 linearToGamma (vec3 color) {\n          color = max(color, vec3(0));\n          return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n      }\n\n      void main () {\n          vec3 c = texture2D(uTexture, vUv).rgb;\n          #ifdef SHADING\n              vec3 lc = texture2D(uTexture, vL).rgb;\n              vec3 rc = texture2D(uTexture, vR).rgb;\n              vec3 tc = texture2D(uTexture, vT).rgb;\n              vec3 bc = texture2D(uTexture, vB).rgb;\n\n              float dx = length(rc) - length(lc);\n              float dy = length(tc) - length(bc);\n\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n              vec3 l = vec3(0.0, 0.0, 1.0);\n\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n              c *= diffuse;\n          #endif\n\n          float a = max(c.r, max(c.g, c.b));\n          gl_FragColor = vec4(c, a);\n      }\n    `;\n\n    const splatShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      uniform sampler2D uTarget;\n      uniform float aspectRatio;\n      uniform vec3 color;\n      uniform vec2 point;\n      uniform float radius;\n\n      void main () {\n          vec2 p = vUv - point.xy;\n          p.x *= aspectRatio;\n          vec3 splat = exp(-dot(p, p) / radius) * color;\n          vec3 base = texture2D(uTarget, vUv).xyz;\n          gl_FragColor = vec4(base + splat, 1.0);\n      }\n    `\n    );\n\n    const advectionShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      uniform sampler2D uVelocity;\n      uniform sampler2D uSource;\n      uniform vec2 texelSize;\n      uniform vec2 dyeTexelSize;\n      uniform float dt;\n      uniform float dissipation;\n\n      vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n          vec2 st = uv / tsize - 0.5;\n          vec2 iuv = floor(st);\n          vec2 fuv = fract(st);\n\n          vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n          vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n          vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n          vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n          return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n      }\n\n      void main () {\n          #ifdef MANUAL_FILTERING\n              vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n              vec4 result = bilerp(uSource, coord, dyeTexelSize);\n          #else\n              vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n              vec4 result = texture2D(uSource, coord);\n          #endif\n          float decay = 1.0 + dissipation * dt;\n          gl_FragColor = result / decay;\n      }\n    `,\n      ext.supportLinearFiltering ? null : [\"MANUAL_FILTERING\"]\n    );\n\n    const divergenceShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision mediump float;\n      precision mediump sampler2D;\n      varying highp vec2 vUv;\n      varying highp vec2 vL;\n      varying highp vec2 vR;\n      varying highp vec2 vT;\n      varying highp vec2 vB;\n      uniform sampler2D uVelocity;\n\n      void main () {\n          float L = texture2D(uVelocity, vL).x;\n          float R = texture2D(uVelocity, vR).x;\n          float T = texture2D(uVelocity, vT).y;\n          float B = texture2D(uVelocity, vB).y;\n\n          vec2 C = texture2D(uVelocity, vUv).xy;\n          if (vL.x < 0.0) { L = -C.x; }\n          if (vR.x > 1.0) { R = -C.x; }\n          if (vT.y > 1.0) { T = -C.y; }\n          if (vB.y < 0.0) { B = -C.y; }\n\n          float div = 0.5 * (R - L + T - B);\n          gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n      }\n    `\n    );\n\n    const curlShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision mediump float;\n      precision mediump sampler2D;\n      varying highp vec2 vUv;\n      varying highp vec2 vL;\n      varying highp vec2 vR;\n      varying highp vec2 vT;\n      varying highp vec2 vB;\n      uniform sampler2D uVelocity;\n\n      void main () {\n          float L = texture2D(uVelocity, vL).y;\n          float R = texture2D(uVelocity, vR).y;\n          float T = texture2D(uVelocity, vT).x;\n          float B = texture2D(uVelocity, vB).x;\n          float vorticity = R - L - T + B;\n          gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n      }\n    `\n    );\n\n    const vorticityShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      varying vec2 vL;\n      varying vec2 vR;\n      varying vec2 vT;\n      varying vec2 vB;\n      uniform sampler2D uVelocity;\n      uniform sampler2D uCurl;\n      uniform float curl;\n      uniform float dt;\n\n      void main () {\n          float L = texture2D(uCurl, vL).x;\n          float R = texture2D(uCurl, vR).x;\n          float T = texture2D(uCurl, vT).x;\n          float B = texture2D(uCurl, vB).x;\n          float C = texture2D(uCurl, vUv).x;\n\n          vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n          force /= length(force) + 0.0001;\n          force *= curl * C;\n          force.y *= -1.0;\n\n          vec2 velocity = texture2D(uVelocity, vUv).xy;\n          velocity += force * dt;\n          velocity = min(max(velocity, -1000.0), 1000.0);\n          gl_FragColor = vec4(velocity, 0.0, 1.0);\n      }\n    `\n    );\n\n    const pressureShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision mediump float;\n      precision mediump sampler2D;\n      varying highp vec2 vUv;\n      varying highp vec2 vL;\n      varying highp vec2 vR;\n      varying highp vec2 vT;\n      varying highp vec2 vB;\n      uniform sampler2D uPressure;\n      uniform sampler2D uDivergence;\n\n      void main () {\n          float L = texture2D(uPressure, vL).x;\n          float R = texture2D(uPressure, vR).x;\n          float T = texture2D(uPressure, vT).x;\n          float B = texture2D(uPressure, vB).x;\n          float C = texture2D(uPressure, vUv).x;\n          float divergence = texture2D(uDivergence, vUv).x;\n          float pressure = (L + R + B + T - divergence) * 0.25;\n          gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n      }\n    `\n    );\n\n    const gradientSubtractShader = compileShader(\n      gl.FRAGMENT_SHADER,\n      `\n      precision mediump float;\n      precision mediump sampler2D;\n      varying highp vec2 vUv;\n      varying highp vec2 vL;\n      varying highp vec2 vR;\n      varying highp vec2 vT;\n      varying highp vec2 vB;\n      uniform sampler2D uPressure;\n      uniform sampler2D uVelocity;\n\n      void main () {\n          float L = texture2D(uPressure, vL).x;\n          float R = texture2D(uPressure, vR).x;\n          float T = texture2D(uPressure, vT).x;\n          float B = texture2D(uPressure, vB).x;\n          vec2 velocity = texture2D(uVelocity, vUv).xy;\n          velocity.xy -= vec2(R - L, T - B);\n          gl_FragColor = vec4(velocity, 0.0, 1.0);\n      }\n    `\n    );\n\n    const blit = (() => {\n      const buffer = gl.createBuffer()!;\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n      gl.bufferData(\n        gl.ARRAY_BUFFER,\n        new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]),\n        gl.STATIC_DRAW\n      );\n      const elemBuffer = gl.createBuffer()!;\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elemBuffer);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW);\n      gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n      gl.enableVertexAttribArray(0);\n\n      return (target: FBO | null, doClear = false) => {\n        if (!gl) return;\n        if (!target) {\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        } else {\n          gl.viewport(0, 0, target.width, target.height);\n          gl.bindFramebuffer(gl.FRAMEBUFFER, target.fbo);\n        }\n        if (doClear) {\n          gl.clearColor(0, 0, 0, 1);\n          gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n      };\n    })();\n\n    interface FBO {\n      texture: WebGLTexture;\n      fbo: WebGLFramebuffer;\n      width: number;\n      height: number;\n      texelSizeX: number;\n      texelSizeY: number;\n      attach: (id: number) => number;\n    }\n\n    interface DoubleFBO {\n      width: number;\n      height: number;\n      texelSizeX: number;\n      texelSizeY: number;\n      read: FBO;\n      write: FBO;\n      swap: () => void;\n    }\n\n    let dye: DoubleFBO;\n    let velocity: DoubleFBO;\n    let divergence: FBO;\n    let curl: FBO;\n    let pressure: DoubleFBO;\n\n    const copyProgram = new Program(baseVertexShader, copyShader);\n    const clearProgram = new Program(baseVertexShader, clearShader);\n    const splatProgram = new Program(baseVertexShader, splatShader);\n    const advectionProgram = new Program(baseVertexShader, advectionShader);\n    const divergenceProgram = new Program(baseVertexShader, divergenceShader);\n    const curlProgram = new Program(baseVertexShader, curlShader);\n    const vorticityProgram = new Program(baseVertexShader, vorticityShader);\n    const pressureProgram = new Program(baseVertexShader, pressureShader);\n    const gradienSubtractProgram = new Program(baseVertexShader, gradientSubtractShader);\n    const displayMaterial = new Material(baseVertexShader, displayShaderSource);\n\n    function createFBO(\n      w: number,\n      h: number,\n      internalFormat: number,\n      format: number,\n      type: number,\n      param: number\n    ): FBO {\n      gl.activeTexture(gl.TEXTURE0);\n      const texture = gl.createTexture()!;\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\n      const fbo = gl.createFramebuffer()!;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n      gl.viewport(0, 0, w, h);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n\n      const texelSizeX = 1 / w;\n      const texelSizeY = 1 / h;\n\n      return {\n        texture,\n        fbo,\n        width: w,\n        height: h,\n        texelSizeX,\n        texelSizeY,\n        attach(id: number) {\n          gl.activeTexture(gl.TEXTURE0 + id);\n          gl.bindTexture(gl.TEXTURE_2D, texture);\n          return id;\n        },\n      };\n    }\n\n    function createDoubleFBO(\n      w: number,\n      h: number,\n      internalFormat: number,\n      format: number,\n      type: number,\n      param: number\n    ): DoubleFBO {\n      const fbo1 = createFBO(w, h, internalFormat, format, type, param);\n      const fbo2 = createFBO(w, h, internalFormat, format, type, param);\n      return {\n        width: w,\n        height: h,\n        texelSizeX: fbo1.texelSizeX,\n        texelSizeY: fbo1.texelSizeY,\n        read: fbo1,\n        write: fbo2,\n        swap() {\n          const tmp = this.read;\n          this.read = this.write;\n          this.write = tmp;\n        },\n      };\n    }\n\n    function resizeFBO(\n      target: FBO,\n      w: number,\n      h: number,\n      internalFormat: number,\n      format: number,\n      type: number,\n      param: number\n    ) {\n      const newFBO = createFBO(w, h, internalFormat, format, type, param);\n      copyProgram.bind();\n      if (copyProgram.uniforms.uTexture)\n        gl.uniform1i(copyProgram.uniforms.uTexture, target.attach(0));\n      blit(newFBO, false);\n      return newFBO;\n    }\n\n    function resizeDoubleFBO(\n      target: DoubleFBO,\n      w: number,\n      h: number,\n      internalFormat: number,\n      format: number,\n      type: number,\n      param: number\n    ) {\n      if (target.width === w && target.height === h) return target;\n      target.read = resizeFBO(target.read, w, h, internalFormat, format, type, param);\n      target.write = createFBO(w, h, internalFormat, format, type, param);\n      target.width = w;\n      target.height = h;\n      target.texelSizeX = 1 / w;\n      target.texelSizeY = 1 / h;\n      return target;\n    }\n\n    function initFramebuffers() {\n      const simRes = getResolution(config.SIM_RESOLUTION!);\n      const dyeRes = getResolution(config.DYE_RESOLUTION!);\n\n      const texType = ext.halfFloatTexType;\n      const rgba = ext.formatRGBA;\n      const rg = ext.formatRG;\n      const r = ext.formatR;\n      const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST;\n      gl.disable(gl.BLEND);\n\n      if (!dye) {\n        dye = createDoubleFBO(\n          dyeRes.width,\n          dyeRes.height,\n          rgba.internalFormat,\n          rgba.format,\n          texType,\n          filtering\n        );\n      } else {\n        dye = resizeDoubleFBO(\n          dye,\n          dyeRes.width,\n          dyeRes.height,\n          rgba.internalFormat,\n          rgba.format,\n          texType,\n          filtering\n        );\n      }\n\n      if (!velocity) {\n        velocity = createDoubleFBO(\n          simRes.width,\n          simRes.height,\n          rg.internalFormat,\n          rg.format,\n          texType,\n          filtering\n        );\n      } else {\n        velocity = resizeDoubleFBO(\n          velocity,\n          simRes.width,\n          simRes.height,\n          rg.internalFormat,\n          rg.format,\n          texType,\n          filtering\n        );\n      }\n\n      divergence = createFBO(\n        simRes.width,\n        simRes.height,\n        r.internalFormat,\n        r.format,\n        texType,\n        gl.NEAREST\n      );\n      curl = createFBO(\n        simRes.width,\n        simRes.height,\n        r.internalFormat,\n        r.format,\n        texType,\n        gl.NEAREST\n      );\n      pressure = createDoubleFBO(\n        simRes.width,\n        simRes.height,\n        r.internalFormat,\n        r.format,\n        texType,\n        gl.NEAREST\n      );\n    }\n\n    function updateKeywords() {\n      const displayKeywords: string[] = [];\n      if (config.SHADING) displayKeywords.push(\"SHADING\");\n      displayMaterial.setKeywords(displayKeywords);\n    }\n\n    function getResolution(resolution: number) {\n      const w = gl.drawingBufferWidth;\n      const h = gl.drawingBufferHeight;\n      const aspectRatio = w / h;\n      let aspect = aspectRatio < 1 ? 1 / aspectRatio : aspectRatio;\n      const min = Math.round(resolution);\n      const max = Math.round(resolution * aspect);\n      if (w > h) {\n        return { width: max, height: min };\n      }\n      return { width: min, height: max };\n    }\n\n    function scaleByPixelRatio(input: number) {\n      const pixelRatio = window.devicePixelRatio || 1;\n      return Math.floor(input * pixelRatio);\n    }\n\n    updateKeywords();\n    initFramebuffers();\n\n    let lastUpdateTime = Date.now();\n    let colorUpdateTimer = 0.0;\n\n    function updateFrame() {\n      const dt = calcDeltaTime();\n      if (resizeCanvas()) initFramebuffers();\n      updateColors(dt);\n      applyInputs();\n      step(dt);\n      render(null);\n      requestAnimationFrame(updateFrame);\n    }\n\n    function calcDeltaTime() {\n      const now = Date.now();\n      let dt = (now - lastUpdateTime) / 1000;\n      dt = Math.min(dt, 0.016666);\n      lastUpdateTime = now;\n      return dt;\n    }\n\n    function resizeCanvas() {\n      const width = scaleByPixelRatio(canvas!.clientWidth);\n      const height = scaleByPixelRatio(canvas!.clientHeight);\n      if (canvas!.width !== width || canvas!.height !== height) {\n        canvas!.width = width;\n        canvas!.height = height;\n        return true;\n      }\n      return false;\n    }\n\n    function updateColors(dt: number) {\n      colorUpdateTimer += dt * config.COLOR_UPDATE_SPEED;\n      if (colorUpdateTimer >= 1) {\n        colorUpdateTimer = wrap(colorUpdateTimer, 0, 1);\n        pointers.forEach(p => {\n          p.color = generateColor();\n        });\n      }\n    }\n\n    function applyInputs() {\n      for (const p of pointers) {\n        if (p.moved) {\n          p.moved = false;\n          splatPointer(p);\n        }\n      }\n    }\n\n    function step(dt: number) {\n      gl.disable(gl.BLEND);\n\n      curlProgram.bind();\n      if (curlProgram.uniforms.texelSize) {\n        gl.uniform2f(curlProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n      }\n      if (curlProgram.uniforms.uVelocity) {\n        gl.uniform1i(curlProgram.uniforms.uVelocity, velocity.read.attach(0));\n      }\n      blit(curl);\n\n      vorticityProgram.bind();\n      if (vorticityProgram.uniforms.texelSize) {\n        gl.uniform2f(vorticityProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n      }\n      if (vorticityProgram.uniforms.uVelocity) {\n        gl.uniform1i(vorticityProgram.uniforms.uVelocity, velocity.read.attach(0));\n      }\n      if (vorticityProgram.uniforms.uCurl) {\n        gl.uniform1i(vorticityProgram.uniforms.uCurl, curl.attach(1));\n      }\n      if (vorticityProgram.uniforms.curl) {\n        gl.uniform1f(vorticityProgram.uniforms.curl, config.CURL);\n      }\n      if (vorticityProgram.uniforms.dt) {\n        gl.uniform1f(vorticityProgram.uniforms.dt, dt);\n      }\n      blit(velocity.write);\n      velocity.swap();\n\n      divergenceProgram.bind();\n      if (divergenceProgram.uniforms.texelSize) {\n        gl.uniform2f(\n          divergenceProgram.uniforms.texelSize,\n          velocity.texelSizeX,\n          velocity.texelSizeY\n        );\n      }\n      if (divergenceProgram.uniforms.uVelocity) {\n        gl.uniform1i(divergenceProgram.uniforms.uVelocity, velocity.read.attach(0));\n      }\n      blit(divergence);\n\n      clearProgram.bind();\n      if (clearProgram.uniforms.uTexture) {\n        gl.uniform1i(clearProgram.uniforms.uTexture, pressure.read.attach(0));\n      }\n      if (clearProgram.uniforms.value) {\n        gl.uniform1f(clearProgram.uniforms.value, config.PRESSURE);\n      }\n      blit(pressure.write);\n      pressure.swap();\n\n      pressureProgram.bind();\n      if (pressureProgram.uniforms.texelSize) {\n        gl.uniform2f(pressureProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n      }\n      if (pressureProgram.uniforms.uDivergence) {\n        gl.uniform1i(pressureProgram.uniforms.uDivergence, divergence.attach(0));\n      }\n      for (let i = 0; i < config.PRESSURE_ITERATIONS; i++) {\n        if (pressureProgram.uniforms.uPressure) {\n          gl.uniform1i(pressureProgram.uniforms.uPressure, pressure.read.attach(1));\n        }\n        blit(pressure.write);\n        pressure.swap();\n      }\n\n      gradienSubtractProgram.bind();\n      if (gradienSubtractProgram.uniforms.texelSize) {\n        gl.uniform2f(\n          gradienSubtractProgram.uniforms.texelSize,\n          velocity.texelSizeX,\n          velocity.texelSizeY\n        );\n      }\n      if (gradienSubtractProgram.uniforms.uPressure) {\n        gl.uniform1i(gradienSubtractProgram.uniforms.uPressure, pressure.read.attach(0));\n      }\n      if (gradienSubtractProgram.uniforms.uVelocity) {\n        gl.uniform1i(gradienSubtractProgram.uniforms.uVelocity, velocity.read.attach(1));\n      }\n      blit(velocity.write);\n      velocity.swap();\n\n      advectionProgram.bind();\n      if (advectionProgram.uniforms.texelSize) {\n        gl.uniform2f(advectionProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n      }\n      if (!ext.supportLinearFiltering && advectionProgram.uniforms.dyeTexelSize) {\n        gl.uniform2f(\n          advectionProgram.uniforms.dyeTexelSize,\n          velocity.texelSizeX,\n          velocity.texelSizeY\n        );\n      }\n      const velocityId = velocity.read.attach(0);\n      if (advectionProgram.uniforms.uVelocity) {\n        gl.uniform1i(advectionProgram.uniforms.uVelocity, velocityId);\n      }\n      if (advectionProgram.uniforms.uSource) {\n        gl.uniform1i(advectionProgram.uniforms.uSource, velocityId);\n      }\n      if (advectionProgram.uniforms.dt) {\n        gl.uniform1f(advectionProgram.uniforms.dt, dt);\n      }\n      if (advectionProgram.uniforms.dissipation) {\n        gl.uniform1f(advectionProgram.uniforms.dissipation, config.VELOCITY_DISSIPATION);\n      }\n      blit(velocity.write);\n      velocity.swap();\n\n      if (!ext.supportLinearFiltering && advectionProgram.uniforms.dyeTexelSize) {\n        gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, dye.texelSizeX, dye.texelSizeY);\n      }\n      if (advectionProgram.uniforms.uVelocity) {\n        gl.uniform1i(advectionProgram.uniforms.uVelocity, velocity.read.attach(0));\n      }\n      if (advectionProgram.uniforms.uSource) {\n        gl.uniform1i(advectionProgram.uniforms.uSource, dye.read.attach(1));\n      }\n      if (advectionProgram.uniforms.dissipation) {\n        gl.uniform1f(advectionProgram.uniforms.dissipation, config.DENSITY_DISSIPATION);\n      }\n      blit(dye.write);\n      dye.swap();\n    }\n\n    function render(target: FBO | null) {\n      gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n      gl.enable(gl.BLEND);\n      drawDisplay(target);\n    }\n\n    function drawDisplay(target: FBO | null) {\n      const width = target ? target.width : gl.drawingBufferWidth;\n      const height = target ? target.height : gl.drawingBufferHeight;\n      displayMaterial.bind();\n      if (config.SHADING && displayMaterial.uniforms.texelSize) {\n        gl.uniform2f(displayMaterial.uniforms.texelSize, 1 / width, 1 / height);\n      }\n      if (displayMaterial.uniforms.uTexture) {\n        gl.uniform1i(displayMaterial.uniforms.uTexture, dye.read.attach(0));\n      }\n      blit(target, false);\n    }\n\n    function splatPointer(pointer: Pointer) {\n      const dx = pointer.deltaX * config.SPLAT_FORCE;\n      const dy = pointer.deltaY * config.SPLAT_FORCE;\n      splat(pointer.texcoordX, pointer.texcoordY, dx, dy, pointer.color);\n    }\n\n    function clickSplat(pointer: Pointer) {\n      const color = generateColor();\n      color.r *= 10;\n      color.g *= 10;\n      color.b *= 10;\n      const dx = 10 * (Math.random() - 0.5);\n      const dy = 30 * (Math.random() - 0.5);\n      splat(pointer.texcoordX, pointer.texcoordY, dx, dy, color);\n    }\n\n    function splat(x: number, y: number, dx: number, dy: number, color: ColorRGB) {\n      splatProgram.bind();\n      if (splatProgram.uniforms.uTarget) {\n        gl.uniform1i(splatProgram.uniforms.uTarget, velocity.read.attach(0));\n      }\n      if (splatProgram.uniforms.aspectRatio) {\n        gl.uniform1f(splatProgram.uniforms.aspectRatio, canvas!.width / canvas!.height);\n      }\n      if (splatProgram.uniforms.point) {\n        gl.uniform2f(splatProgram.uniforms.point, x, y);\n      }\n      if (splatProgram.uniforms.color) {\n        gl.uniform3f(splatProgram.uniforms.color, dx, dy, 0);\n      }\n      if (splatProgram.uniforms.radius) {\n        gl.uniform1f(splatProgram.uniforms.radius, correctRadius(config.SPLAT_RADIUS / 100)!);\n      }\n      blit(velocity.write);\n      velocity.swap();\n\n      if (splatProgram.uniforms.uTarget) {\n        gl.uniform1i(splatProgram.uniforms.uTarget, dye.read.attach(0));\n      }\n      if (splatProgram.uniforms.color) {\n        gl.uniform3f(splatProgram.uniforms.color, color.r, color.g, color.b);\n      }\n      blit(dye.write);\n      dye.swap();\n    }\n\n    function correctRadius(radius: number) {\n      const aspectRatio = canvas!.width / canvas!.height;\n      if (aspectRatio > 1) radius *= aspectRatio;\n      return radius;\n    }\n\n    function updatePointerDownData(pointer: Pointer, id: number, posX: number, posY: number) {\n      pointer.id = id;\n      pointer.down = true;\n      pointer.moved = false;\n      pointer.texcoordX = posX / canvas!.width;\n      pointer.texcoordY = 1 - posY / canvas!.height;\n      pointer.prevTexcoordX = pointer.texcoordX;\n      pointer.prevTexcoordY = pointer.texcoordY;\n      pointer.deltaX = 0;\n      pointer.deltaY = 0;\n      pointer.color = generateColor();\n    }\n\n    function updatePointerMoveData(pointer: Pointer, posX: number, posY: number, color: ColorRGB) {\n      pointer.prevTexcoordX = pointer.texcoordX;\n      pointer.prevTexcoordY = pointer.texcoordY;\n      pointer.texcoordX = posX / canvas!.width;\n      pointer.texcoordY = 1 - posY / canvas!.height;\n      pointer.deltaX = correctDeltaX(pointer.texcoordX - pointer.prevTexcoordX)!;\n      pointer.deltaY = correctDeltaY(pointer.texcoordY - pointer.prevTexcoordY)!;\n      pointer.moved = Math.abs(pointer.deltaX) > 0 || Math.abs(pointer.deltaY) > 0;\n      pointer.color = color;\n    }\n\n    function updatePointerUpData(pointer: Pointer) {\n      pointer.down = false;\n    }\n\n    function correctDeltaX(delta: number) {\n      const aspectRatio = canvas!.width / canvas!.height;\n      if (aspectRatio < 1) delta *= aspectRatio;\n      return delta;\n    }\n\n    function correctDeltaY(delta: number) {\n      const aspectRatio = canvas!.width / canvas!.height;\n      if (aspectRatio > 1) delta /= aspectRatio;\n      return delta;\n    }\n\n    function generateColor(): ColorRGB {\n      const c = HSVtoRGB(Math.random(), 1.0, 1.0);\n      c.r *= 0.15;\n      c.g *= 0.15;\n      c.b *= 0.15;\n      return c;\n    }\n\n    function HSVtoRGB(h: number, s: number, v: number): ColorRGB {\n      let r = 0,\n        g = 0,\n        b = 0;\n      const i = Math.floor(h * 6);\n      const f = h * 6 - i;\n      const p = v * (1 - s);\n      const q = v * (1 - f * s);\n      const t = v * (1 - (1 - f) * s);\n\n      switch (i % 6) {\n        case 0:\n          r = v;\n          g = t;\n          b = p;\n          break;\n        case 1:\n          r = q;\n          g = v;\n          b = p;\n          break;\n        case 2:\n          r = p;\n          g = v;\n          b = t;\n          break;\n        case 3:\n          r = p;\n          g = q;\n          b = v;\n          break;\n        case 4:\n          r = t;\n          g = p;\n          b = v;\n          break;\n        case 5:\n          r = v;\n          g = p;\n          b = q;\n          break;\n      }\n      return { r, g, b };\n    }\n\n    function wrap(value: number, min: number, max: number) {\n      const range = max - min;\n      if (range === 0) return min;\n      return ((value - min) % range) + min;\n    }\n\n    window.addEventListener(\"mousedown\", e => {\n      const pointer = pointers[0];\n      const posX = scaleByPixelRatio(e.clientX);\n      const posY = scaleByPixelRatio(e.clientY);\n      updatePointerDownData(pointer, -1, posX, posY);\n      clickSplat(pointer);\n    });\n\n    function handleFirstMouseMove(e: MouseEvent) {\n      const pointer = pointers[0];\n      const posX = scaleByPixelRatio(e.clientX);\n      const posY = scaleByPixelRatio(e.clientY);\n      const color = generateColor();\n      updateFrame();\n      updatePointerMoveData(pointer, posX, posY, color);\n      document.body.removeEventListener(\"mousemove\", handleFirstMouseMove);\n    }\n    document.body.addEventListener(\"mousemove\", handleFirstMouseMove);\n\n    window.addEventListener(\"mousemove\", e => {\n      const pointer = pointers[0];\n      const posX = scaleByPixelRatio(e.clientX);\n      const posY = scaleByPixelRatio(e.clientY);\n      const color = pointer.color;\n      updatePointerMoveData(pointer, posX, posY, color);\n    });\n\n    function handleFirstTouchStart(e: TouchEvent) {\n      const touches = e.targetTouches;\n      const pointer = pointers[0];\n      for (let i = 0; i < touches.length; i++) {\n        const posX = scaleByPixelRatio(touches[i].clientX);\n        const posY = scaleByPixelRatio(touches[i].clientY);\n        updateFrame();\n        updatePointerDownData(pointer, touches[i].identifier, posX, posY);\n      }\n      document.body.removeEventListener(\"touchstart\", handleFirstTouchStart);\n    }\n    document.body.addEventListener(\"touchstart\", handleFirstTouchStart);\n\n    window.addEventListener(\n      \"touchstart\",\n      e => {\n        const touches = e.targetTouches;\n        const pointer = pointers[0];\n        for (let i = 0; i < touches.length; i++) {\n          const posX = scaleByPixelRatio(touches[i].clientX);\n          const posY = scaleByPixelRatio(touches[i].clientY);\n          updatePointerDownData(pointer, touches[i].identifier, posX, posY);\n        }\n      },\n      false\n    );\n\n    window.addEventListener(\n      \"touchmove\",\n      e => {\n        const touches = e.targetTouches;\n        const pointer = pointers[0];\n        for (let i = 0; i < touches.length; i++) {\n          const posX = scaleByPixelRatio(touches[i].clientX);\n          const posY = scaleByPixelRatio(touches[i].clientY);\n          updatePointerMoveData(pointer, posX, posY, pointer.color);\n        }\n      },\n      false\n    );\n\n    window.addEventListener(\"touchend\", e => {\n      const touches = e.changedTouches;\n      const pointer = pointers[0];\n      for (let i = 0; i < touches.length; i++) {\n        updatePointerUpData(pointer);\n      }\n    });\n  }, [\n    SIM_RESOLUTION,\n    DYE_RESOLUTION,\n    CAPTURE_RESOLUTION,\n    DENSITY_DISSIPATION,\n    VELOCITY_DISSIPATION,\n    PRESSURE,\n    PRESSURE_ITERATIONS,\n    CURL,\n    SPLAT_RADIUS,\n    SPLAT_FORCE,\n    SHADING,\n    COLOR_UPDATE_SPEED,\n    BACK_COLOR,\n    TRANSPARENT,\n  ]);\n\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        zIndex: 50,\n        pointerEvents: \"none\",\n        width: \"100%\",\n        height: \"100%\",\n      }}\n    >\n      <canvas\n        ref={canvasRef}\n        id=\"fluid\"\n        style={{\n          width: \"100vw\",\n          height: \"100vh\",\n          display: \"block\",\n        }}\n      />\n    </div>\n  );\n}\n"],"names":["SplashCursor","SIM_RESOLUTION","DYE_RESOLUTION","CAPTURE_RESOLUTION","DENSITY_DISSIPATION","VELOCITY_DISSIPATION","PRESSURE","PRESSURE_ITERATIONS","CURL","SPLAT_RADIUS","SPLAT_FORCE","SHADING","COLOR_UPDATE_SPEED","BACK_COLOR","r","g","b","TRANSPARENT","canvasRef","useRef","useEffect","dye","velocity","divergence","curl","pressure","buffer","elemBuffer","displayKeywords","canvas","current","pointers","id","texcoordX","texcoordY","prevTexcoordX","prevTexcoordY","deltaX","deltaY","down","moved","color","config","gl","ext","getWebGLContext","halfFloat","formatRGBA","formatRG","formatR","params","alpha","depth","stencil","antialias","preserveDrawingBuffer","getContext","isWebGL2","supportLinearFiltering","getExtension","clearColor","halfFloatTexType","HALF_FLOAT","HALF_FLOAT_OES","getSupportedFormat","RGBA16F","RGBA","RG16F","RG","R16F","RED","internalFormat","format","type","supportRenderTextureFormat","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","gl2","compileShader","source","keywords","shaderSource","addKeywords","keywordsString","keyword","shader","createShader","getShaderParameter","COMPILE_STATUS","console","trace","getShaderInfoLog","createProgram","vertexShader","fragmentShader","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","getUniforms","uniforms","uniformCount","ACTIVE_UNIFORMS","i","uniformInfo","getActiveUniform","name","getUniformLocation","Program","bind","useProgram","Material","fragmentShaderSource","programs","activeProgram","setKeywords","hash","kw","hashCode","s","length","charCodeAt","FRAGMENT_SHADER","baseVertexShader","VERTEX_SHADER","copyShader","clearShader","displayShaderSource","splatShader","advectionShader","divergenceShader","curlShader","vorticityShader","pressureShader","gradientSubtractShader","blit","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","createBuffer","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","target","doClear","viewport","width","height","drawingBufferWidth","drawingBufferHeight","clear","COLOR_BUFFER_BIT","drawElements","TRIANGLES","UNSIGNED_SHORT","copyProgram","clearProgram","splatProgram","advectionProgram","divergenceProgram","curlProgram","vorticityProgram","pressureProgram","gradienSubtractProgram","displayMaterial","createFBO","w","h","param","activeTexture","TEXTURE0","texelSizeX","texelSizeY","attach","createDoubleFBO","fbo1","fbo2","read","write","swap","tmp","resizeDoubleFBO","uTexture","uniform1i","newFBO","resizeFBO","initFramebuffers","simRes","getResolution","dyeRes","texType","rgba","rg","filtering","LINEAR","disable","BLEND","resolution","aspectRatio","min","Math","round","max","aspect","scaleByPixelRatio","input","floor","window","pixelRatio","devicePixelRatio","push","lastUpdateTime","Date","now","colorUpdateTimer","updateFrame","value","dt","range","calcDeltaTime","clientWidth","clientHeight","wrap","forEach","p","generateColor","applyInputs","splatPointer","dx","pointer","dy","splat","step","texelSize","uniform2f","uVelocity","uCurl","uniform1f","uDivergence","uPressure","dyeTexelSize","velocityId","uSource","dissipation","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","requestAnimationFrame","x","y","uTarget","point","uniform3f","radius","updatePointerDownData","posX","posY","updatePointerMoveData","delta","correctDeltaX","abs","c","HSVtoRGB","v","f","q","t","random","addEventListener","e","clientX","clientY","document","body","handleFirstMouseMove","removeEventListener","handleFirstTouchStart","touches","targetTouches","identifier","changedTouches","div","style","position","top","left","zIndex","pointerEvents","ref","display"],"sourceRoot":"","ignoreList":[]}