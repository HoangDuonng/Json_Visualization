"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83945],{26867:(e,t,n)=>{n.d(t,{Fx:()=>s,R9:()=>i,o5:()=>l,xW:()=>o});var r,a,l=((r={}).JSON="json",r.YAML="yaml",r.XML="xml",r.CSV="csv",r);let s=[{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"xml",label:"XML"},{value:"csv",label:"CSV"}];var i=((a={}).TypeScript="typescript",a.TypeScript_Combined="typescript/typealias",a.Go="go",a.JSON_SCHEMA="json_schema",a.Kotlin="kotlin",a.Rust="rust",a);let o=[{label:"TypeScript",value:"typescript",lang:"typescript"},{label:"TypeScript (merged)",value:"typescript/typealias",lang:"typescript"},{label:"Go",value:"go",lang:"go"},{label:"JSON Schema",value:"json_schema",lang:"json"},{label:"Kotlin",value:"kotlin",lang:"kotlin"},{label:"Rust",value:"rust",lang:"rust"}]},35281:(e,t,n)=>{n.d(t,{N:()=>h});var r=n(37876);n(14232);var a=n(74188),l=n(45050),s=n(18462),i=n(97685),o=n(27592),c=n(26867),d=n(94505);let h=()=>{let e=(0,d.A)(e=>e.setContents);return(0,r.jsx)(s.mR.FullScreen,{maxFiles:1,accept:["application/json","application/x-yaml","text/csv","application/xml","application/toml"],onReject:e=>i.Ay.error(`Unable to load file ${e[0].file.name}`),onDrop:async t=>{try{let n=await t[0].text(),r=t[0].name.split(".").pop();r||(r=c.o5.JSON),e({contents:n,format:r,hasChanges:!1})}catch(e){i.Ay.error("An error occurred while reading the file."),console.error(e)}},children:(0,r.jsxs)(a.Y,{justify:"center",ta:"center",align:"center",gap:"xl",h:"100vh",style:{pointerEvents:"none"},children:[(0,r.jsxs)(s.mR.Accept,{children:[(0,r.jsx)(o.Iuj,{size:100}),(0,r.jsx)(l.E,{fz:"h1",fw:500,mt:"lg",children:"Upload to JSON Visualization"}),(0,r.jsx)(l.E,{fz:"lg",c:"dimmed",mt:"sm",children:"(Max file size: 300 KB)"})]}),(0,r.jsxs)(s.mR.Reject,{children:[(0,r.jsx)(o.EZY,{size:100}),(0,r.jsx)(l.E,{fz:"h1",fw:500,mt:"lg",children:"Invalid file"}),(0,r.jsx)(l.E,{fz:"lg",c:"dimmed",mt:"sm",children:"Allowed formats are JSON, YAML, CSV, XML, TOML"})]})]})})}},46995:(e,t,n)=>{n.d(t,{e:()=>d});var r=n(37876),a=n(14232),l=n(48230),s=n.n(l),i=n(33686);let o=i.Ay.div.withConfig({componentId:"sc-f15f124e-0"})(["display:flex;align-items:center;gap:8px;color:",";"],({theme:e})=>e.TEXT_NORMAL),c=i.Ay.span.withConfig({componentId:"sc-f15f124e-1"})(['font-weight:400;margin:0;font-family:"Playfair Display","Sagittaire Display",serif;font-size:',";white-space:nowrap;z-index:10;vertical-align:middle;color:currentColor;text-shadow:0 0 20px rgba(255,255,255,0.5);letter-spacing:-0.02em;"],({fontSize:e})=>e),d=({fontSize:e="1.2rem",hideText:t,hideLogo:n,...l})=>{let i=a.useCallback(e=>{window.location.href.includes("widget")&&(e.preventDefault(),window.open("/","_blank","noopener,noreferrer"))},[]);return(0,r.jsx)(s(),{href:"/",prefetch:!1,target:"_self",onClick:i,children:(0,r.jsx)(o,{children:!t&&(0,r.jsx)(c,{fontSize:e,...l,children:"JSON VIZ"})})})}},54629:(e,t,n)=>{n.d(t,{d:()=>v});var r=n(37876),a=n(14232),l=n(63101),s=n(20562),i=n(45050),o=n(52509),c=n(33686),d=n(47607),h=n(54375),p=n(46152),g=n(16727),x=n(27592),f=n(26867),m=n(79501),u=n(94505),w=n(9456);let j=c.Ay.div.withConfig({componentId:"sc-ec31f27f-0"})(["position:relative;display:flex;align-items:center;justify-content:space-between;border-top:1px solid ",";background:",";max-height:27px;height:27px;z-index:35;padding-right:6px;@media screen and (max-width:320px){display:none;}"],({theme:e})=>e.BACKGROUND_MODIFIER_ACCENT,({theme:e})=>e.TOOLBAR_BG),y=c.Ay.div.withConfig({componentId:"sc-ec31f27f-1"})(["display:flex;align-items:center;justify-content:left;gap:4px;padding-left:8px;@media screen and (max-width:480px){display:none;}"]),A=c.Ay.div.withConfig({componentId:"sc-ec31f27f-2"})(["display:flex;align-items:center;justify-content:right;gap:4px;"]),b=c.Ay.button.withConfig({componentId:"sc-ec31f27f-3"})(["display:flex;align-items:center;gap:4px;width:fit-content;margin:0;height:28px;padding:4px;font-size:12px;font-weight:400;color:",";background:",";white-space:nowrap;text-overflow:ellipsis;overflow:hidden;&:hover:not(&:disabled){background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);color:",";}&:disabled{opacity:0.6;cursor:default;}"],({theme:e})=>e.INTERACTIVE_NORMAL,({$bg:e})=>e,({theme:e})=>e.INTERACTIVE_HOVER),v=()=>{let e=(0,u.A)(e=>e.fileData),t=(0,m.A)(e=>e.toggleLiveTransform),n=(0,m.A)(e=>e.liveTransformEnabled),c=(0,u.A)(e=>e.error),v=(0,u.A)(e=>e.setContents),S=(0,w.A)(e=>e.toggleFullscreen),C=(0,w.A)(e=>e.fullscreen),E=(0,u.A)(e=>e.setFormat),O=(0,u.A)(e=>e.format);return a.useEffect(()=>{e?.name&&(window.document.title=`${e.name} | JSON Visualization`)},[e]),(0,r.jsxs)(j,{children:[(0,r.jsxs)(y,{children:[(0,r.jsx)(b,{onClick:()=>{S(!C),(0,d.f0)("toggle_fullscreen")},children:(0,r.jsx)(h.Fmm,{})}),(0,r.jsx)(b,{children:c?(0,r.jsxs)(l.A,{width:"auto",shadow:"md",position:"top",withArrow:!0,children:[(0,r.jsx)(l.A.Target,{children:(0,r.jsxs)(s.s,{align:"center",gap:2,children:[(0,r.jsx)(x.Zt1,{color:"red"}),(0,r.jsx)(i.E,{c:"red",fw:500,fz:"xs",children:"Invalid"})]})}),(0,r.jsx)(l.A.Dropdown,{style:{pointerEvents:"none"},children:(0,r.jsx)(i.E,{size:"xs",children:c})})]}):(0,r.jsxs)(s.s,{align:"center",gap:2,children:[(0,r.jsx)(x.vbi,{}),(0,r.jsx)(i.E,{size:"xs",children:"Valid"})]})}),(0,r.jsxs)(b,{onClick:()=>{t(!n),(0,d.f0)("toggle_live_transform")},children:[n?(0,r.jsx)(x.wVW,{}):(0,r.jsx)(x.kAE,{}),(0,r.jsx)(i.E,{fz:"xs",children:"Live Transform"})]}),!n&&(0,r.jsxs)(b,{onClick:()=>v({}),disabled:!!c,children:[(0,r.jsx)(x.Hm0,{}),"Click to Transform"]})]}),(0,r.jsx)(A,{children:(0,r.jsxs)(o.W,{offset:8,children:[(0,r.jsx)(o.W.Target,{children:(0,r.jsx)(b,{children:(0,r.jsxs)(s.s,{align:"center",gap:2,children:[(0,r.jsx)(g.Awo,{}),(0,r.jsx)(i.E,{size:"xs",children:O?.toUpperCase()})]})})}),(0,r.jsx)(o.W.Dropdown,{children:f.Fx.map(e=>(0,r.jsx)(o.W.Item,{fz:12,onClick:()=>E(e.value),rightSection:O===e.value&&(0,r.jsx)(p.N__,{}),children:e.label},e.value))})]})})]})}},68371:(e,t,n)=>{n.d(t,{n:()=>a});var r,a=((r={}).Graph="graph",r.Tree="tree",r.JsonDraw="jsondraw",r)},93808:(e,t,n)=>{n.d(t,{r:()=>a,x:()=>l});var r=n(26867);let a=(e,t=r.o5.JSON)=>new Promise(async(a,l)=>{try{if(!e)return a({});if(t===r.o5.JSON){let{parse:t}=await Promise.resolve().then(n.bind(n,45094)),r=[],l=t(e,r);return r.length>0&&JSON.parse(e),a(l)}if(t===r.o5.YAML){let{load:t}=await n.e(83423).then(n.bind(n,83423));return a(t(e))}if(t===r.o5.XML){let{XMLParser:t}=await n.e(55417).then(n.bind(n,55417)),r=new t({attributeNamePrefix:"$",ignoreAttributes:!1,allowBooleanAttributes:!0,parseAttributeValue:!0,trimValues:!0,parseTagValue:!0});return a(r.parse(e))}if(t===r.o5.CSV){let{csv2json:t}=await n.e(44223).then(n.bind(n,44223)),r=t(e,{trimFieldValues:!0,trimHeaderFields:!0,wrapBooleans:!0,excelBOM:!0});return a(r)}return a({})}catch(e){return l(e instanceof Error?e.message:"Failed to parse content")}}),l=async(e,t)=>new Promise(async a=>{try{if(!e)return a("");if(t===r.o5.JSON){let t=JSON.parse(e);return a(JSON.stringify(t,null,2))}if(t===r.o5.YAML){let{dump:t}=await n.e(83423).then(n.bind(n,83423)),{parse:r}=await Promise.resolve().then(n.bind(n,45094));return a(t(r(e)))}if(t===r.o5.XML){let{XMLBuilder:t}=await n.e(55417).then(n.bind(n,55417)),r=new t({format:!0,attributeNamePrefix:"$",ignoreAttributes:!1});return a(r.build(JSON.parse(e)))}if(t===r.o5.CSV){let{json2csv:t}=await n.e(44223).then(n.bind(n,44223)),r=JSON.parse(e),l=Array.isArray(r)?r:[r];return a(t(l,{expandArrayObjects:!0,expandNestedObjects:!0,excelBOM:!0,wrapBooleans:!0,trimFieldValues:!0,trimHeaderFields:!0}))}return a(e)}catch(t){return console.error(e,t),a(e)}})},94505:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(39149),a=n.n(r),l=n(47607),s=n(97685),i=n(73022);let o=JSON.parse('{"fruits":[{"name":"Apple","color":"#FF0000","details":{"type":"Pome","season":"Fall"},"nutrients":{"calories":52,"fiber":"2.4g","vitaminC":"4.6mg"}},{"name":"Banana","color":"#FFFF00","details":{"type":"Berry","season":"Year-round"},"nutrients":{"calories":89,"fiber":"2.6g","potassium":"358mg"}},{"name":"Orange","color":"#FFA500","details":{"type":"Citrus","season":"Winter"}}]}');var c=n(26867),d=n(9456),h=n(93808),p=n(79501),g=n(18512);let x=JSON.stringify(o,null,2),f={fileData:null,format:c.o5.JSON,contents:x,error:null,hasChanges:!1,jsonSchema:null},m=a()(e=>{d.A.getState().setLoading(!0),g.A.getState().setJson(JSON.stringify(e,null,2))},400),u=(0,i.v)()((e,t)=>({...f,clear:()=>{e({contents:""}),g.A.getState().clear()},setJsonSchema:t=>e({jsonSchema:t}),setFile:n=>{e({fileData:n,format:n.format||c.o5.JSON}),t().setContents({contents:n.content,hasChanges:!1}),(0,l.f0)("set_content",{label:n.format})},getContents:()=>t().contents,getFormat:()=>t().format,getHasChanges:()=>t().hasChanges,setFormat:async n=>{try{let r=t().format;e({format:n});let a=await (0,h.r)(t().contents,r),l=await (0,h.x)(JSON.stringify(a,null,2),n);t().setContents({contents:l})}catch{t().clear(),console.warn("The content was unable to be converted, so it was cleared instead.")}},setContents:async({contents:n,hasChanges:r=!0,skipUpdate:a=!1,format:l})=>{try{e({...n&&{contents:n},error:null,hasChanges:r,format:l??t().format});let s=window.location.href.includes("?"),i=await (0,h.r)(t().contents,t().format);if(!p.A.getState().liveTransformEnabled&&a)return;t().hasChanges&&n&&n.length<8e4&&!function(){try{return window.self!==window.top}catch{return!0}}()&&!s&&(sessionStorage.setItem("content",n),sessionStorage.setItem("format",t().format),e({hasChanges:!0})),m(i)}catch(t){if(t?.mark?.snippet)return e({error:t.mark.snippet});t?.message&&e({error:t.message}),g.A.setState({loading:!1}),d.A.setState({loading:!1})}},setError:t=>e({error:t}),setHasChanges:t=>e({hasChanges:t}),fetchUrl:async e=>{try{let n=await fetch(e),r=await n.json(),a=JSON.stringify(r,null,2);return t().setContents({contents:a}),g.A.setState({json:a,loading:!1})}catch{t().clear(),s.oR.error("Failed to fetch document from URL!")}},checkEditorSession:(n,r)=>{if(n&&"string"==typeof n&&/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(n))return t().fetchUrl(n);let a=x,l=sessionStorage.getItem("content"),s=sessionStorage.getItem("format");l&&!r&&(a=l),s&&e({format:s}),t().setContents({contents:a,hasChanges:!1})}}))},98061:(e,t,n)=>{n.d(t,{M:()=>T});var r=n(37876),a=n(14232),l=n(48230),s=n.n(l),i=n(89099),o=n(74188),c=n(20562),d=n(38335),h=n(33686),p=n(97685),g=n(16290),x=n(46047),f=n(68371),m=n(46995),u=n(9456),w=n(52509),j=n(47607),y=n(12446),A=n(94505),b=n(40215);let v=h.Ay.button.withConfig({componentId:"sc-2c047a14-0"})(["display:",";align-items:center;gap:4px;place-content:center;font-size:14px;background:",";color:",";padding:6px;border-radius:3px;white-space:nowrap;&:hover{background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);}&:hover{color:",";opacity:1;box-shadow:none;}"],({$hide:e})=>e?"none":"flex",({$highlight:e})=>e?"linear-gradient(rgba(0, 0, 0, 0.1) 0 0)":"none",({theme:e})=>e.INTERACTIVE_NORMAL,({theme:e})=>e.INTERACTIVE_HOVER),S=()=>{let e=(0,b.h)(e=>e.setVisible),t=(0,A.A)(e=>e.getContents),n=(0,A.A)(e=>e.getFormat);return(0,r.jsxs)(w.W,{shadow:"md",withArrow:!0,children:[(0,r.jsx)(w.W.Target,{children:(0,r.jsx)(v,{title:"File",children:(0,r.jsxs)(c.s,{align:"center",gap:3,children:["File",(0,r.jsx)(y.GLr,{})]})})}),(0,r.jsxs)(w.W.Dropdown,{children:[(0,r.jsx)(w.W.Item,{onClick:()=>e("ImportModal",!0),children:"Import"}),(0,r.jsx)(w.W.Item,{onClick:()=>{let e=document.createElement("a"),r=new Blob([t()],{type:"text/plain"});e.href=window.URL.createObjectURL(r),e.download=`json-visualization.${n()}`,e.click(),(0,j.f0)("save_file",{label:n()})},children:"Export"})]})]})};var C=n(79501);let E=()=>{let e=(0,C.A)(e=>e.darkmodeEnabled),t=(0,C.A)(e=>e.toggleDarkMode);return(0,r.jsx)(v,{title:"Fullscreen",onClick:()=>t(!e),children:e?(0,r.jsx)(x.wQq,{size:"18"}):(0,r.jsx)(x.V6H,{size:"18"})})};var O=n(16727),k=n(27592);let N=()=>{let e=(0,b.h)(e=>e.setVisible);return(0,r.jsxs)(w.W,{shadow:"md",withArrow:!0,children:[(0,r.jsx)(w.W.Target,{children:(0,r.jsx)(v,{onClick:()=>(0,j.f0)("show_tools_menu"),children:(0,r.jsxs)(c.s,{align:"center",gap:3,children:["Tools ",(0,r.jsx)(y.GLr,{})]})})}),(0,r.jsxs)(w.W.Dropdown,{children:[(0,r.jsx)(w.W.Item,{leftSection:(0,r.jsx)(k.NyE,{}),onClick:()=>{e("JQModal",!0),(0,j.f0)("open_jq_modal")},children:"JSON Query (jq)"}),(0,r.jsx)(w.W.Item,{leftSection:(0,r.jsx)(O.F2,{}),onClick:()=>{e("JPathModal",!0),(0,j.f0)("open_json_path_modal")},children:"JSON Path"}),(0,r.jsx)(w.W.Item,{leftSection:(0,r.jsx)(k.ntS,{}),onClick:()=>{e("SchemaModal",!0),(0,j.f0)("open_schema_modal")},children:"JSON Schema"}),(0,r.jsx)(w.W.Divider,{}),(0,r.jsx)(w.W.Item,{leftSection:(0,r.jsx)(k.SUB,{}),onClick:()=>{e("TypeModal",!0),(0,j.f0)("open_type_modal")},children:"Generate Type"})]})]})};var _=n(74815);let z=()=>{let[e,t]=(0,d.F)({key:"viewMode",defaultValue:f.n.Graph});return(0,r.jsxs)(w.W,{shadow:"md",closeOnItemClick:!1,withArrow:!0,children:[(0,r.jsx)(w.W.Target,{children:(0,r.jsx)(v,{onClick:()=>(0,j.f0)("show_view_menu"),children:(0,r.jsxs)(c.s,{align:"center",gap:3,children:["View ",(0,r.jsx)(y.GLr,{})]})})}),(0,r.jsx)(w.W.Dropdown,{children:(0,r.jsx)(_.I,{size:"md",w:"100%",value:e,onChange:e=>{t(e),(0,j.f0)("change_view_mode",{label:e})},data:[{value:f.n.Graph,label:"Graph"},{value:f.n.Tree,label:"Tree"},{value:f.n.JsonDraw,label:"JsonDraw"}],fullWidth:!0,orientation:"vertical"})})]})},I=h.Ay.div.withConfig({componentId:"sc-8b245860-0"})(["position:relative;display:flex;width:100%;align-items:center;gap:4px;justify-content:space-between;height:45px;padding:6px 12px;background:",";color:",";z-index:36;border-bottom:1px solid ",";@media only screen and (max-width:320px){display:none;}"],({theme:e})=>e.TOOLBAR_BG,({theme:e})=>e.SILVER,({theme:e})=>e.SILVER_DARK);function F(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(()=>{p.Ay.error("Unable to enter fullscreen mode.")})}let T=()=>{let e=(0,i.useRouter)(),t="/draw"===e.pathname,[n,l]=a.useState(!1),[,h]=(0,d.F)({key:"viewMode",defaultValue:f.n.Graph});return a.useEffect(()=>{let e=()=>{l(!!document.fullscreenElement)};return e(),document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]),(0,r.jsxs)(I,{children:[(0,r.jsxs)(o.Y,{gap:"xs",justify:"left",w:"100%",style:{flexWrap:"nowrap"},children:[(0,r.jsx)(v,{title:"JSON Visualization",children:(0,r.jsx)(c.s,{gap:"xs",align:"center",justify:"center",children:(0,r.jsx)(m.e,{fontSize:"14px",hideLogo:!0})})}),(0,r.jsx)(S,{}),(0,r.jsx)(z,{}),(0,r.jsx)(N,{}),(0,r.jsx)(v,{title:"Editor",$highlight:!t,onClick:()=>{h(f.n.Graph),e.push("/editor")},children:"Editor"}),(0,r.jsx)(v,{title:"Draw",$highlight:t,onClick:()=>{h(f.n.JsonDraw),e.push("/draw")},children:"Draw"}),(0,r.jsx)(v,{title:"Toggle Editor",onClick:()=>u.A.getState().toggleFullscreen(!u.A.getState().fullscreen),children:(0,r.jsx)(g.B8H,{size:"20"})})]}),(0,r.jsxs)(o.Y,{gap:"xs",justify:"right",w:"100%",style:{flexWrap:"nowrap"},children:[(0,r.jsx)(E,{}),(0,r.jsx)(s(),{href:"https://github.com/HoangDuonng",rel:"noopener",target:"_blank",children:(0,r.jsx)(v,{title:"GitHub",children:(0,r.jsx)(x.hL4,{size:"20"})})}),(0,r.jsx)(v,{title:n?"Exit fullscreen":"Fullscreen",onClick:F,children:n?(0,r.jsx)(g.IgM,{size:"20"}):(0,r.jsx)(g.ssW,{size:"20"})})]})]})}}}]);
//# sourceMappingURL=83945-32eddb9e183e006f.js.map