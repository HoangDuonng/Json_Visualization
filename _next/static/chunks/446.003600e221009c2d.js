"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{30446:(e,t,r)=>{r.r(t),r.d(t,{GraphView:()=>eg});var i=r(37876),n=r(14232),o=r(12614),s=r(95171),a=r(99649),l=r(7384),d=r(18827),c=r(39149),g=r.n(c),h=r(74020),x=r(73176),p=r(67116),u=r(82338),m=r(29380);let f=n.memo(e=>{let t=(0,o.l)(),r=(0,m.A)(e=>e.viewPort),s=(0,m.A)(e=>e.edges),[a,l]=n.useState(!1);return(0,i.jsx)(x.oH,{containerClassName:`edge-${e.id}`,onClick:()=>{let t=s.find(t=>t.id===e.properties?.id)?.to,i=document.querySelector(`[data-id$="node-${t}"]`);i&&i.parentElement&&r?.camera.centerFitElementIntoView(i.parentElement,{elementExtraMarginForZoom:150})},onEnter:()=>l(!0),onLeave:()=>l(!1),style:{stroke:"dark"===t?"#444444":"#BCBEC0",...a&&{stroke:"#3B82F6"},strokeWidth:1.5},...e})});var y=r(80973),j=r(40795),b=r(55994),w=r(75774);function v({$value:e,$type:t,theme:r}){return null===e?r.NODE_COLORS.NULL:"object"===t?r.NODE_COLORS.NODE_KEY:"number"===t?r.NODE_COLORS.INTEGER:!0===e?r.NODE_COLORS.BOOL.TRUE:!1===e?r.NODE_COLORS.BOOL.FALSE:r.NODE_COLORS.NODE_VALUE}(0,d.Ay)(w.xC).withConfig({componentId:"sc-ba2336b5-0"})(["text-decoration:underline;pointer-events:all;"]);let E=d.Ay.foreignObject.withConfig({componentId:"sc-ba2336b5-1"})(["text-align:",";color:",";font-family:monospace;font-size:12px;font-weight:500;overflow:hidden;pointer-events:none;&.searched{background:rgba(27,255,0,0.1);border:1px solid ",";border-radius:2px;box-sizing:border-box;}.highlight{background:rgba(255,214,0,0.15);}.renderVisible{display:flex;justify-content:center;align-items:center;font-size:12px;width:100%;height:100%;overflow:hidden;cursor:pointer;}"],({$isObject:e})=>!e&&"center",({theme:e})=>e.NODE_COLORS.TEXT,({theme:e})=>e.TEXT_POSITIVE),C=d.Ay.span.withConfig({componentId:"sc-ba2336b5-2"})(["display:inline;align-items:center;justify-content:center;flex:1;min-width:0;height:auto;line-height:inherit;padding:0;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],({theme:e,$type:t,$value:r=""})=>v({$value:r,$type:t,theme:e})),O=d.Ay.span.withConfig({componentId:"sc-ba2336b5-3"})(["padding:3px 10px;height:","px;line-height:24px;color:",";display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:1px solid ",";box-sizing:border-box;&:last-of-type{border-bottom:none;}.searched &{border-bottom:1px solid ",";}"],j.d.ROW_HEIGHT,({theme:e,$value:t})=>v({$value:t,theme:e,$type:typeof t}),({theme:e})=>e.NODE_COLORS.DIVIDER,({theme:e})=>e.TEXT_POSITIVE);d.Ay.span.withConfig({componentId:"sc-ba2336b5-4"})(["color:",";padding:10px;margin-left:-15px;"],({theme:e})=>e.NODE_COLORS.CHILD_COUNT);let k=({row:e,x:t,y:r,index:n})=>{let o=n*j.d.ROW_HEIGHT;return(0,i.jsxs)(O,{$value:e.value,"data-key":`${e.key}: ${e.value}`,"data-x":t,"data-y":r+o,children:[(0,i.jsxs)(C,{$type:"object",children:[e.key,": "]}),(0,i.jsx)(b.J,{children:"object"===e.type?`{${e.childrenCount??0} keys}`:"array"===e.type?`[${e.childrenCount??0} items]`:e.value})]})},A=n.memo(({node:e,x:t,y:r})=>(0,i.jsx)(E,{"data-id":`node-${e.id}`,width:e.width,height:e.height,x:0,y:0,$isObject:!0,children:e.text.map((n,o)=>(0,i.jsx)(k,{row:n,x:t,y:r,index:o},`${e.id}-${o}`))}),function(e,t){return JSON.stringify(e.node.text)===JSON.stringify(t.node.text)&&e.node.width===t.node.width});var I=r(21419);let z=d.Ay.span.withConfig({componentId:"sc-76ae9663-0"})(["display:flex;justify-content:",";align-items:center;height:100%;width:100%;overflow:hidden;padding:0 10px;"],({$isParent:e})=>e?"center":"flex-start"),S=d.Ay.div.withConfig({componentId:"sc-76ae9663-1"})(["padding:5px;"]),_=d.Ay.img.withConfig({componentId:"sc-76ae9663-2"})(["border-radius:2px;object-fit:contain;background:",";"],({theme:e})=>e.BACKGROUND_MODIFIER_ACCENT),L=n.memo(({node:e,x:t,y:r})=>{let{text:n,width:o,height:s}=e,a=(0,u.A)(e=>e.imagePreviewEnabled)&&(0,I.R)(JSON.stringify(n[0].value)),l=n[0].value;return(0,i.jsx)(E,{"data-id":`node-${e.id}`,width:o,height:s,x:0,y:0,children:a?(0,i.jsx)(S,{children:(0,i.jsx)(_,{src:JSON.stringify(n[0].value),width:"70",height:"70",loading:"lazy"})}):(0,i.jsx)(z,{"data-x":t,"data-y":r,"data-key":JSON.stringify(n),$isParent:!1,children:(0,i.jsx)(C,{$value:l,$type:typeof n[0].value,children:(0,i.jsx)(b.J,{children:l})})})})},function(e,t){return e.node.text===t.node.text&&e.node.width===t.node.width}),R=n.memo(e=>{let t=(0,m.A)(e=>e.setSelectedNode),r=(0,y.h)(e=>e.setVisible),s=(0,o.l)(),a=n.useCallback((e,i)=>{t&&t(i),r("NodeModal",!0)},[t,r]);return(0,i.jsx)(x.bP,{...e,onClick:a,animated:!1,label:null,onEnter:e=>{e.currentTarget.style.stroke="#3B82F6"},onLeave:e=>{e.currentTarget.style.stroke="dark"===s?"#424242":"#BCBEC0"},style:{fill:"dark"===s?"#292929":"#ffffff",stroke:"dark"===s?"#424242":"#BCBEC0",strokeWidth:1},children:({node:t,x:r,y:n})=>e.properties.text[0].key?(0,i.jsx)(A,{node:t,x:r,y:n}):(0,i.jsx)(L,{node:e.properties,x:r,y:n})})});var T=r(30455),N=r(79021),D=r(85832),$=r(45050),W=r(95844);let P=(0,d.i7)(["0%{transform:translateX(-120%) rotate(25deg);opacity:0.5;}5%{opacity:0.5;transform:translateX(-80%) rotate(25deg);}70%{transform:translateX(80%) rotate(25deg);opacity:0.5;}80%{transform:translateX(120%) rotate(25deg);opacity:0;}100%{transform:translateX(120%) rotate(25deg);opacity:0;}"]);d.Ay.div.withConfig({componentId:"sc-1011696c-0"})(['position:relative;overflow:hidden;display:inline-block;border-radius:0.5rem;z-index:10;&::before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient( to right,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 35%,rgba(255,255,255,0.5) 50%,rgba(255,255,255,0) 65%,rgba(255,255,255,0) 100% );transform:translateX(-120%) rotate(25deg);z-index:20;pointer-events:none;animation:'," 4s ease-out infinite;transition:transform 0.2s ease-out;}"],P);let F=()=>{let e=(0,u.A)(e=>e.darkmodeEnabled);return(0,i.jsx)(T.h,{backgroundOpacity:.8,color:e?"gray":"rgb(226, 240, 243)",blur:"1.5",center:!0,children:(0,i.jsxs)(N.B,{maw:"60%",align:"center",justify:"center",gap:"sm",children:[(0,i.jsx)(D._,{src:"https://todiagram.com/logo.svg",alt:"Unsupported",w:72,h:72}),(0,i.jsx)($.E,{fz:"48",fw:600,c:"bright",children:"Time to upgrade!"}),(0,i.jsxs)($.E,{ta:"center",size:"lg",fw:500,c:"gray",maw:"600",children:["This diagram is too large and not supported at JSON Visualization.",(0,i.jsx)("br",{}),"Try"," ",(0,i.jsx)(W.M,{inherit:!0,c:"teal",fw:"500",href:"https://todiagram.com/editor?utm_source=jsoncrack&utm_medium=data_limit",target:"_blank",rel:"noopener",children:"ToDiagram"})," ","for larger diagrams and more features."]})]})})};var M=r(20562),G=r(52509),V=r(11210),B=r(44193),H=r(72144),U=r(47607),X=r(56011),J=r(60543),K=r(31531);let q=(0,d.Ay)(K.eJv).withConfig({componentId:"sc-b708af31-0"})(["transform:rotate(",");"],({rotate:e})=>`${e}deg`),Y=()=>{var e;let t=(0,u.A)(e=>e.toggleGestures),r=(0,u.A)(e=>e.toggleRulers),o=(0,u.A)(e=>e.toggleImagePreview),s=(0,u.A)(e=>e.gesturesEnabled),a=(0,u.A)(e=>e.rulersEnabled),l=(0,u.A)(e=>e.imagePreviewEnabled),d=(0,m.A)(e=>e.setDirection),c=(0,m.A)(e=>e.direction),g=(0,y.h)(e=>e.setVisible),[h,x]=n.useState("CTRL"),p=()=>{var e;let t="RIGHT"===(e=c||"RIGHT")?"DOWN":"DOWN"===e?"LEFT":"LEFT"===e?"UP":"RIGHT";d&&d(t)};return(0,H.O)([["mod+shift+d",p],["mod+f",()=>{document.querySelector("#search-node").focus()}]],[]),n.useEffect(()=>{x(navigator.userAgent.indexOf("Mac OS X")?"⌘":"CTRL")},[]),(0,i.jsx)(M.s,{gap:"xs",align:"center",style:{position:"absolute",top:"10px",left:"10px",zIndex:100},children:(0,i.jsxs)(G.W,{withArrow:!0,children:[(0,i.jsx)(G.W.Target,{children:(0,i.jsx)(V.M,{"aria-label":"actions",size:"lg",color:"gray",variant:"light",children:(0,i.jsx)(J.z9i,{size:"18"})})}),(0,i.jsxs)(G.W.Dropdown,{children:[(0,i.jsx)(G.W.Item,{leftSection:(0,i.jsx)(J.zus,{color:"gray"}),onClick:()=>g("DownloadModal",!0),children:(0,i.jsxs)(M.s,{fz:"xs",justify:"space-between",gap:"md",children:[(0,i.jsx)($.E,{fz:"xs",children:"Export as image"}),(0,i.jsxs)($.E,{ml:"md",fz:10,c:"dimmed",children:[h," + S"]})]})}),(0,i.jsx)(G.W.Item,{fz:12,onClick:()=>{p(),(0,U.f0)("rotate_layout",{label:c})},leftSection:(0,i.jsx)(q,{rotate:"LEFT"===(e=c||"RIGHT")?90:"UP"===e?180:"RIGHT"===e?270:360}),rightSection:(0,i.jsxs)($.E,{ml:"md",fz:10,c:"dimmed",children:[h," Shift D"]}),closeMenuOnClick:!1,children:"Rotate Layout"}),(0,i.jsx)(G.W.Divider,{}),(0,i.jsxs)(G.W,{position:"right",trigger:"hover",offset:0,children:[(0,i.jsx)(G.W.Target,{children:(0,i.jsx)(B.$,{variant:"subtle",size:"xs",color:"text",fullWidth:!0,fw:"400",rightSection:(0,i.jsx)(J.xCi,{}),styles:{root:{paddingInline:11},inner:{justifyContent:"space-between"}},children:"View Options"})}),(0,i.jsxs)(G.W.Dropdown,{children:[(0,i.jsx)(G.W.Item,{leftSection:(0,i.jsx)(X.y8W,{opacity:100*!!a}),onClick:()=>{r(!a),(0,U.f0)("toggle_rulers",{label:a?"on":"off"})},children:(0,i.jsx)($.E,{size:"xs",children:"Rulers"})}),(0,i.jsx)(G.W.Item,{leftSection:(0,i.jsx)(X.y8W,{opacity:100*!!s}),onClick:()=>{t(!s),(0,U.f0)("toggle_gestures",{label:s?"on":"off"})},children:(0,i.jsx)($.E,{size:"xs",children:"Zoom on Scroll"})}),(0,i.jsx)(G.W.Item,{leftSection:(0,i.jsx)(X.y8W,{opacity:100*!!l}),onClick:()=>{o(!l),(0,U.f0)("toggle_image_preview",{label:l?"on":"off"})},children:(0,i.jsx)($.E,{size:"xs",children:"Image Link Preview"})})]})]})]})]})})};var Z=r(95830),Q=r(93038);let ee=()=>(0,i.jsx)(Z.m,{label:"Your data is processed locally on your device.",fz:"xs",ta:"center",maw:"200",multiline:!0,withArrow:!0,children:(0,i.jsx)(Q.L,{variant:"light",color:"teal",size:"36",style:{position:"absolute",bottom:"10px",right:"10px",zIndex:100},radius:"xl",children:(0,i.jsx)(J.VIB,{size:"22"})})});var et=r(31408),er=r(23375),ei=r(22190),en=r(32812);let eo=()=>{let e=document.querySelectorAll("foreignObject.searched, .highlight");for(let t=0;t<e.length;t++)e[t].classList.remove("searched","highlight")},es=()=>{let[e,t,r,o,s]=(()=>{let e=(0,m.A)(e=>e.viewPort),[t,r]=n.useState(0),[i,o]=n.useState(0),[s,a]=n.useState(""),[d]=(0,l.o)(s,600);return n.useEffect(()=>{let i;if(!s){eo(),r(0),o(0);return}if(!e||!d)return;let n=(i=`span[data-key*='${d}' i]`,document.querySelectorAll(i)),a=n[t]||null;if(eo(),a&&a.parentElement){for(let e=0;e<n.length;e++){let t=n[e],r=t.parentElement?.closest("foreignObject");r&&r.classList.add("searched")}n[t].classList.add("highlight"),o(n.length),e?.camera.centerFitElementIntoView(a.parentElement,{elementExtraMarginForZoom:400})}else r(0),o(0);(0,U.f0)("search_graph")},[t,d,s,e]),[s,a,()=>r(e=>(e+1)%i),i,t]})(),a=(0,ei.c)();return(0,i.jsx)(et.k,{variant:"unstyled",type:"search",size:"xs",id:"search-node",w:180,value:e,onChange:e=>t(e.currentTarget.value),placeholder:`Search Node (${"macos"===a?"⌘":"Ctrl"} + F)`,autoComplete:"off",autoCorrect:"off",onKeyDown:(0,er.vA)([["Enter",r]]),leftSection:(0,i.jsx)(en.fUO,{}),rightSection:e&&(0,i.jsx)(M.s,{h:30,align:"center",children:(0,i.jsx)($.E,{size:"xs",c:"dimmed",pr:"md",children:e&&`${o}/${o>0?s+1:"0"}`})}),style:{borderBottom:"1px solid gray"}})},ea=()=>{let e=(0,m.A)(e=>e.zoomIn),t=(0,m.A)(e=>e.zoomOut),r=(0,m.A)(e=>e.centerView),n=(0,m.A)(e=>e.focusFirstNode);return(0,H.O)([["mod+[plus]",e,{usePhysicalKeys:!0}],["mod+[minus]",t,{usePhysicalKeys:!0}],["shift+Digit1",n,{usePhysicalKeys:!0}],["shift+Digit2",r,{usePhysicalKeys:!0}]],[]),(0,i.jsxs)(M.s,{align:"center",gap:"xs",style:{position:"absolute",bottom:"10px",left:"10px",alignItems:"start",zIndex:100},children:[(0,i.jsxs)(V.M.Group,{borderWidth:0,children:[(0,i.jsx)(Z.m,{label:(0,i.jsxs)(M.s,{fz:"xs",gap:"md",children:[(0,i.jsx)($.E,{fz:"xs",children:"Center first item"}),(0,i.jsx)($.E,{fz:"xs",c:"dimmed",children:"⇧ 1"})]}),withArrow:!0,children:(0,i.jsx)(V.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{n(),(0,U.f0)("focus_first_node")},children:(0,i.jsx)(J.oso,{})})}),(0,i.jsx)(Z.m,{label:(0,i.jsxs)(M.s,{fz:"xs",gap:"md",children:[(0,i.jsx)($.E,{fz:"xs",children:"Fit to center"}),(0,i.jsx)($.E,{fz:"xs",c:"dimmed",children:"⇧ 2"})]}),withArrow:!0,children:(0,i.jsx)(V.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{r(),(0,U.f0)("center_view")},children:(0,i.jsx)(J.Inx,{})})}),(0,i.jsx)(V.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{t(),(0,U.f0)("zoom_out")},children:(0,i.jsx)(J.I4m,{})}),(0,i.jsx)(V.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{e(),(0,U.f0)("zoom_in")},children:(0,i.jsx)(J._rf,{})})]}),(0,i.jsx)(es,{})]})},el=d.Ay.div.withConfig({componentId:"sc-abc9f2d4-0"})(["width:100%;height:100vh;--bg-color:",";--line-color-1:",";--line-color-2:",";background-color:var(--bg-color);",';.jsoncrack-space{cursor:url("/assets/cursor.svg"),auto;}:active{cursor:move;}.dragging,.dragging button{pointer-events:none;}text{fill:'," !important;}rect{fill:",";}@media only screen and (max-width:320px){height:100vh;}"],({theme:e})=>e.GRID_BG_COLOR,({theme:e})=>e.GRID_COLOR_PRIMARY,({theme:e})=>e.GRID_COLOR_SECONDARY,({$showRulers:e})=>e&&`
    background-image: linear-gradient(var(--line-color-1) 1.5px, transparent 1.5px),
      linear-gradient(90deg, var(--line-color-1) 1.5px, transparent 1.5px),
      linear-gradient(var(--line-color-2) 1px, transparent 1px),
      linear-gradient(90deg, var(--line-color-2) 1px, transparent 1px);
    background-position:
      -1.5px -1.5px,
      -1.5px -1.5px,
      -1px -1px,
      -1px -1px;
    background-size:
      100px 100px,
      100px 100px,
      20px 20px,
      20px 20px;
  `,({theme:e})=>e.INTERACTIVE_NORMAL,({theme:e})=>e.BACKGROUND_NODE),ed={"elk.layered.compaction.postCompaction.strategy":"EDGE_LENGTH","elk.layered.nodePlacement.strategy":"NETWORK_SIMPLEX","elk.spacing.edgeLabel":"15"},ec=({isWidget:e})=>{let t=(0,m.A)(e=>e.setLoading),r=(0,m.A)(e=>e.centerView),s=(0,m.A)(e=>e.direction),a=(0,m.A)(e=>e.nodes),l=(0,m.A)(e=>e.edges),d=(0,o.l)(),[c,g]=n.useState(2e3),[h,p]=n.useState(2e3),u=n.useCallback(i=>{if(i.width&&i.height){let n=Math.abs(100*(i.width*i.height)/(c*h)-100);g(i.width+50),p(i.height+50),setTimeout(()=>{window.requestAnimationFrame(()=>{(n>70||e)&&r(),t(!1)})})}},[e,h,c,r,t]);return(0,i.jsx)(x.Hl,{className:"jsoncrack-canvas",onLayoutChange:u,node:e=>(0,i.jsx)(R,{...e}),edge:e=>(0,i.jsx)(f,{...e}),nodes:a,edges:l,arrow:null,maxHeight:h,maxWidth:c,height:h,width:c,direction:s,layoutOptions:ed,pannable:!1,zoomable:!1,animated:!1,readonly:!0,dragEdge:null,dragNode:null,fit:!0},[s,d].join("-"))},eg=({isWidget:e=!1})=>{let t=(0,m.A)(e=>e.setViewPort),r=(0,m.A)(e=>e.viewPort),o=(0,m.A)(e=>e.aboveSupportedLimit),d=(0,m.A)(e=>e.loading),c=(0,u.A)(e=>e.gesturesEnabled),x=(0,u.A)(e=>e.rulersEnabled),[f]=(0,l.o)(d,300),y=n.useCallback(()=>{let e=document.querySelector(".jsoncrack-canvas");e?.classList.add("dragging")},[]),j=(0,p.HZ)(y,{threshold:150,onFinish:()=>{let e=document.querySelector(".jsoncrack-canvas");e?.classList.remove("dragging")}}),b=n.useCallback(()=>{"activeElement"in document&&document.activeElement?.blur()},[]),w=g()(()=>{t(r)},300);return(0,i.jsxs)(s.a,{pos:"relative",h:"100%",w:"100%",children:[o&&(0,i.jsx)(F,{}),(0,i.jsx)(a.p,{visible:f}),!e&&(0,i.jsx)(Y,{}),!e&&(0,i.jsx)(ee,{}),(0,i.jsx)(ea,{}),(0,i.jsx)(el,{$widget:e,onContextMenu:e=>e.preventDefault(),onClick:b,$showRulers:x,...j(),children:(0,i.jsx)(h.Space,{onUpdated:()=>w(),onCreate:t,onContextMenu:e=>e.preventDefault(),treatTwoFingerTrackPadGesturesLikeTouch:c,pollForElementResizing:!0,className:"jsoncrack-space",children:(0,i.jsx)(ec,{isWidget:e})})},String(c))]})}},55994:(e,t,r)=>{r.d(t,{J:()=>a});var i=r(37876);r(14232);var n=r(69874);let o=r(18827).Ay.span.withConfig({componentId:"sc-e95bd02b-0"})(["display:inline-flex;align-items:center;overflow:hidden;gap:4px;vertical-align:middle;"]),s=e=>e?.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gm),a=({children:e})=>{var t;if("string"==typeof e&&s(e)){let t;return t=e.split(" ").map(e=>s(e)?`<a onclick="event.stopPropagation()" href="${e}" style="text-decoration: underline; pointer-events: all;" target="_blank" rel="noopener noreferrer">${e}</a>`:e).join(" "),(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:t}})}return"string"==typeof e&&(t=e,/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)||/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/.test(t)||/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(0|1|0\.\d+)\s*\)$/.test(t))?(0,i.jsxs)(o,{children:[(0,i.jsx)(n.q,{size:12,radius:4,mr:4,color:e}),e]}):(0,i.jsx)(i.Fragment,{children:`${e}`})}}}]);
//# sourceMappingURL=446.003600e221009c2d.js.map