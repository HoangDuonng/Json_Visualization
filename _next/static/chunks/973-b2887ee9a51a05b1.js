"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{25566:(e,t,a)=>{a.d(t,{j:()=>r});let r=Object.freeze(Object.keys(a(56099)))},56099:(e,t,a)=>{a.r(t),a.d(t,{DownloadModal:()=>v,ImportModal:()=>N,JPathModal:()=>U,JQModal:()=>G,NodeModal:()=>z,SchemaModal:()=>R,TypeModal:()=>V});var r,l,o=a(37876),n=a(14232),s=a(1405),i=a(31408),c=a(74815),d=a(8684),u=a(60994),p=a(61342),h=a(74188),g=a(44193),m=a(63115),y=a(47607),j=a(97685),f=a(73193),b=((r=b||{}).SVG="svg",r.PNG="png",r.JPEG="jpeg",r);let x=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","transparent"],C=()=>document.querySelector(".jsoncrack-canvas")??document.querySelector("svg[id*='ref']"),v=({opened:e,onClose:t})=>{let[a,r]=n.useState("png"),[l,b]=n.useState({filename:"jsoncrack.com",backgroundColor:"#FFFFFF",quality:1}),v=async()=>{try{j.Ay.loading("Copying to clipboard...",{id:"toastClipboard"});let e=C();if(!e)return void j.Ay.error("Canvas not found.");let t={quality:l.quality,backgroundColor:l.backgroundColor,skipFonts:!0},a=await (0,m.ZR)(e,t);if(!a)return;await navigator.clipboard?.write([new ClipboardItem({[a.type]:a})]),j.Ay.success("Copied to clipboard"),(0,y.f0)("clipboard_img")}catch(e){e instanceof Error&&"NotAllowedError"===e.name?j.Ay.error("Clipboard write permission denied. Please allow clipboard access in your browser settings."):j.Ay.error("Failed to copy to clipboard")}finally{j.Ay.dismiss("toastClipboard"),t()}},w=async()=>{try{var e,r;let t;j.Ay.loading("Downloading...",{id:"toastDownload"});let o=C();if(!o)return void j.Ay.error("Canvas not found.");let n={quality:l.quality,backgroundColor:l.backgroundColor,skipFonts:!0};e=await (e=>{switch(e){case"svg":return m.YI;case"png":return m.$E;case"jpeg":return m.gO}})(a)(o,n),r=`${l.filename}.${a}`,(t=document.createElement("a")).download=r,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),(0,y.f0)("download_img",{label:a})}catch{j.Ay.error("Failed to download image!")}finally{j.Ay.dismiss("toastDownload"),t()}},S=(e,t)=>b({...l,[e]:t});return(0,o.jsxs)(s.a,{opened:e,onClose:t,title:"Download Image",centered:!0,children:[(0,o.jsx)(i.k,{label:"File Name",value:l.filename,onChange:e=>S("filename",e.target.value),mb:"lg"}),(0,o.jsx)(c.I,{value:a,onChange:e=>r(e),fullWidth:!0,data:[{label:"PNG",value:"png"},{label:"JPEG",value:"jpeg"},{label:"SVG",value:"svg"}],mb:"lg"}),(0,o.jsx)(d.A,{label:"Background Color",value:l.backgroundColor,onChange:e=>S("backgroundColor",e),withEyeDropper:!1,mb:"lg"}),(0,o.jsx)(u.s,{format:"rgba",value:l.backgroundColor,onChange:e=>S("backgroundColor",e),swatches:x,withPicker:!1,fullWidth:!0}),(0,o.jsx)(p.c,{my:"xs"}),(0,o.jsxs)(h.Y,{justify:"right",children:[(0,o.jsx)(g.$,{leftSection:(0,o.jsx)(f.nxz,{}),onClick:v,children:"Clipboard"}),(0,o.jsx)(g.$,{color:"green",leftSection:(0,o.jsx)(f.a4x,{}),onClick:w,children:"Download"})]})]})};var w=a(79021),S=a(89704),k=a(45050),A=a(61385),J=a(32812),E=a(60485);let N=({opened:e,onClose:t})=>{let[a,r]=n.useState(""),[l,c]=n.useState(null),d=(0,E.A)(e=>e.setContents),u=(0,E.A)(e=>e.setFormat);return(0,o.jsxs)(s.a,{title:"Import File",opened:e,onClose:()=>{c(null),r(""),t()},centered:!0,children:[(0,o.jsxs)(w.B,{py:"sm",children:[(0,o.jsx)(i.k,{value:a,onChange:e=>r(e.target.value),type:"url",placeholder:"URL of JSON to fetch","data-autofocus":!0}),(0,o.jsx)(S.t,{radius:"md",style:{cursor:"pointer"},children:(0,o.jsx)(A.mR,{onDrop:e=>c(e[0]),onReject:e=>j.Ay.error(`Unable to load file ${e[0].file.name}`),maxFiles:1,p:"md",accept:["application/json","application/x-yaml","text/csv","application/xml","application/toml"],children:(0,o.jsxs)(w.B,{justify:"center",align:"center",gap:"sm",mih:220,children:[(0,o.jsx)(J.kaf,{size:48}),(0,o.jsx)(k.E,{fw:"bold",children:"Drop here or click to upload files"}),(0,o.jsx)(k.E,{c:"dimmed",fz:"sm",children:l?.name??"None"})]})})})]}),(0,o.jsx)(h.Y,{justify:"right",children:(0,o.jsx)(g.$,{onClick:()=>{if(a)return c(null),j.Ay.loading("Loading...",{id:"toastFetch"}),(0,y.f0)("fetch_url"),fetch(a).then(e=>e.json()).then(e=>{d({contents:JSON.stringify(e,null,2)}),t()}).catch(()=>j.Ay.error("Failed to fetch JSON!")).finally(()=>j.Ay.dismiss("toastFetch"));if(l){let e=l.name.lastIndexOf("."),a=l.name.substring(e+1);u(a),l.text().then(e=>{d({contents:e}),c(null),r(""),t()}),(0,y.f0)("import_file",{label:a})}},disabled:!(l||a),children:"Import"})})]})};var O=a(20562),F=a(17457),B=a(16433),_=a(54359),D=a(29380);let z=({opened:e,onClose:t})=>{let a=(0,D.A)(e=>e.selectedNode);return(0,o.jsx)(s.a,{size:"auto",opened:e,onClose:t,centered:!0,withCloseButton:!1,children:(0,o.jsxs)(w.B,{pb:"sm",gap:"sm",children:[(0,o.jsxs)(w.B,{gap:"xs",children:[(0,o.jsxs)(O.s,{justify:"space-between",align:"center",children:[(0,o.jsx)(k.E,{fz:"xs",fw:500,children:"Content"}),(0,o.jsx)(F.J,{onClick:t})]}),(0,o.jsx)(B.F.Autosize,{mah:250,maw:600,children:(0,o.jsx)(_.q,{code:(e=>{if(!e||0===e.length)return"{}";if(1===e.length&&!e[0].key)return`${e[0].value}`;let t={};return e?.forEach(e=>{"array"!==e.type&&"object"!==e.type&&e.key&&(t[e.key]=e.value)}),JSON.stringify(t,null,2)})(a?.text??[]),miw:350,maw:600,language:"json",withCopyButton:!0})})]}),(0,o.jsx)(k.E,{fz:"xs",fw:500,children:"JSON Path"}),(0,o.jsx)(B.F.Autosize,{maw:600,children:(0,o.jsx)(_.q,{code:(e=>{if(!e||0===e.length)return"$";let t=e.map(e=>"number"==typeof e?e:`"${e}"`);return`$[${t.join("][")}]`})(a?.path),miw:350,mah:250,language:"json",copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",withCopyButton:!0})})]})})};var q=a(95844),P=a(10850),$=a(32002),M=a(82338);let R=({opened:e,onClose:t})=>{let a=(0,E.A)(e=>e.setJsonSchema),r=(0,M.A)(e=>e.darkmodeEnabled?"vs-dark":"light"),[l,i]=n.useState(JSON.stringify({$schema:"http://json-schema.org/draft-04/schema#",title:"Product",description:"A product from catalog",type:"object",properties:{id:{description:"The unique identifier for a product",type:"integer"}},required:["id"]},null,2));return(0,o.jsx)(s.a,{title:"JSON Schema",size:"lg",opened:e,onClose:t,centered:!0,children:(0,o.jsxs)(w.B,{children:[(0,o.jsx)(k.E,{fz:"sm",children:"Any validation failures are shown at the bottom toolbar of pane."}),(0,o.jsxs)(q.M,{fz:"sm",target:"_blank",href:"https://niem.github.io/json/sample-schema/",rel:"noopener noreferrer",children:["View Examples ",(0,o.jsx)($.iOX,{})]}),(0,o.jsx)(S.t,{withBorder:!0,radius:"sm",style:{overflow:"hidden"},children:(0,o.jsx)(P.Ay,{value:l??"",theme:r,onChange:e=>i(e),height:300,language:"json",options:{formatOnPaste:!0,tabSize:2,formatOnType:!0,scrollBeyondLastLine:!1,stickyScroll:{enabled:!1},minimap:{enabled:!1}}})}),(0,o.jsxs)(h.Y,{p:"0",justify:"right",children:[(0,o.jsx)(g.$,{variant:"subtle",color:"gray",onClick:()=>{a(null),i(""),(0,j.oR)("Disabled JSON Schema"),t()},disabled:!l,children:"Clear"}),(0,o.jsx)(g.$,{variant:"default",onClick:()=>{try{let e=JSON.parse(l);a(e),(0,y.f0)("apply_json_schema"),j.oR.success("Applied schema!"),t()}catch{j.oR.error("Invalid Schema")}},disabled:!l,children:"Apply"})]})]})})};var T=a(158);let G=({opened:e,onClose:t})=>{let r,l,c,{updateJson:d}=(r=(0,T.A)(e=>e.getJson),l=(0,E.A)(e=>e.setContents),c=async({value:e})=>{let{run:t}=await a.e(7431).then(a.bind(a,17431));return t("Root",e,JSON.stringify({output_mode:"typescript/typealias"}))},{updateJson:async(e,t)=>{try{let o=await Promise.all([a.e(8513),a.e(4387),a.e(8220),a.e(6432),a.e(7604)]).then(a.t.bind(a,30177,23)),n=await o.promised.json(JSON.parse(r()),e);l({contents:JSON.stringify(n,null,2)}),t?.()}catch(e){console.error(e),j.Ay.error("Unable to process the request.")}},getJsonType:async()=>await c({value:r()})}),[u,p]=n.useState("");return(0,o.jsx)(s.a,{title:"JSON Query",size:"lg",opened:e,onClose:t,centered:!0,children:(0,o.jsxs)(w.B,{children:[(0,o.jsxs)(k.E,{fz:"sm",children:["jq is a lightweight and flexible command-line JSON processor. JSON Visualization uses simplified version of jq, not all features are supported.",(0,o.jsx)("br",{}),(0,o.jsxs)(q.M,{fz:"sm",target:"_blank",href:"https://jqlang.github.io/jq/manual/",rel:"noopener noreferrer",children:["Read documentation. ",(0,o.jsx)($.iOX,{})]})]}),(0,o.jsx)(i.k,{leftSection:"jq",placeholder:"Enter jq query",value:u,onChange:e=>p(e.currentTarget.value)}),(0,o.jsx)(h.Y,{justify:"right",children:(0,o.jsx)(g.$,{onClick:()=>d(u,t),children:"Display on Graph"})})]})})};var I=a(88179),L=((l=L||{}).TypeScript="typescript",l.TypeScript_Combined="typescript/typealias",l.Go="go",l.JSON_SCHEMA="json_schema",l.Kotlin="kotlin",l.Rust="rust",l);let Y=[{label:"TypeScript",value:"typescript",lang:"typescript"},{label:"TypeScript (combined)",value:"typescript/typealias",lang:"typescript"},{label:"Go",value:"go",lang:"go"},{label:"JSON Schema",value:"json_schema",lang:"json"},{label:"Kotlin",value:"kotlin",lang:"kotlin"},{label:"Rust",value:"rust",lang:"rust"}],V=({opened:e,onClose:t})=>{let r=(0,T.A)(e=>e.getJson),[l,i]=n.useState(""),[c,d]=n.useState("typescript"),u=n.useMemo(()=>Y[Y.findIndex(e=>e.value===c)]?.lang,[c]),p=n.useCallback(async({value:e})=>{let{run:t}=await a.e(7431).then(a.bind(a,17431));return t("Root",e,JSON.stringify({output_mode:c}))},[c]);return n.useEffect(()=>{if(e)try{"go"===c?a.e(8687).then(a.t.bind(a,18687,23)).then(e=>{Promise.all([a.e(1762),a.e(160)]).then(a.t.bind(a,42456,23)).then(t=>{let a=e.default(r());i(t.default(a.go))})}):p({value:r()}).then(i)}catch(e){console.error(e)}},[r,e,c,p]),(0,o.jsx)(s.a,{title:"Generate Types",size:"lg",opened:e,onClose:t,centered:!0,children:(0,o.jsxs)(w.B,{pos:"relative",children:[(0,o.jsx)(I.l,{value:c,data:Y,onChange:e=>{d(e),(0,y.f0)("generate_type",{label:e})},allowDeselect:!1}),(0,o.jsx)(B.F.Autosize,{mah:400,maw:700,children:(0,o.jsx)(_.q,{language:u,copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",radius:6,code:l})})]})})};var X=a(94075);let U=({opened:e,onClose:t})=>{let a=(0,T.A)(e=>e.getJson),r=(0,E.A)(e=>e.setContents),[l,c]=n.useState("");return(0,o.jsx)(s.a,{title:"JSON Path",size:"lg",opened:e,onClose:t,centered:!0,children:(0,o.jsxs)(w.B,{children:[(0,o.jsxs)(k.E,{fz:"sm",children:['JsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The "root member object" in JsonPath is always referred to as $ regardless if it is an object or array.',(0,o.jsx)("br",{}),(0,o.jsxs)(q.M,{fz:"sm",target:"_blank",href:"https://docs.oracle.com/cd/E60058_01/PDF/8.0.8.x/8.0.8.0.0/PMF_HTML/JsonPath_Expressions.htm",rel:"noopener noreferrer",children:["Read documentation. ",(0,o.jsx)($.iOX,{})]})]}),(0,o.jsx)(i.k,{value:l,onChange:e=>c(e.currentTarget.value),placeholder:"Enter JSON Path...","data-autofocus":!0}),(0,o.jsx)(h.Y,{justify:"right",children:(0,o.jsx)(g.$,{onClick:()=>{try{let e=a(),o=(0,X.E)({path:l,json:JSON.parse(e)});r({contents:JSON.stringify(o,null,2)}),(0,y.f0)("run_json_path"),t()}catch(e){e instanceof Error&&j.Ay.error(e.message)}},disabled:!l.length,children:"Run"})})]})})}},80973:(e,t,a)=>{a.d(t,{h:()=>o});var r=a(78068);let l=a(25566).j.reduce((e,t)=>(e[t]=!1,e),{}),o=(0,r.h)()(e=>({...l,setVisible:(t,a)=>{e({[t]:a})}}))}}]);
//# sourceMappingURL=973-b2887ee9a51a05b1.js.map