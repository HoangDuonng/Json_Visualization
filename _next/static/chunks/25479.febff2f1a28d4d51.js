(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25479],{14151:(r,e,t)=>{var n=t(51076);r.exports=function(r){if(137!==r[0]||80!==r[1]||78!==r[2]||71!==r[3])throw Error("Invalid .png file header");if(13!==r[4]||10!==r[5])throw Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==r[6])throw Error("Invalid .png file header");if(10!==r[7])throw Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var e=!1,t=[],f=8;f<r.length;){a[3]=r[f++],a[2]=r[f++],a[1]=r[f++],a[0]=r[f++];var d=i[0]+4,h=new Uint8Array(d);h[0]=r[f++],h[1]=r[f++],h[2]=r[f++],h[3]=r[f++];var c=String.fromCharCode(h[0])+String.fromCharCode(h[1])+String.fromCharCode(h[2])+String.fromCharCode(h[3]);if(!t.length&&"IHDR"!==c)throw Error("IHDR header missing");if("IEND"===c){e=!0,t.push({name:c,data:new Uint8Array(0)});break}for(var l=4;l<d;l++)h[l]=r[f++];a[3]=r[f++],a[2]=r[f++],a[1]=r[f++],a[0]=r[f++];var s=o[0];if(n.buf(h)!==s)throw Error("CRC values for "+c+" header do not match, PNG file is likely corrupted");var u=new Uint8Array(h.buffer.slice(4));t.push({name:c,data:u})}if(!e)throw Error(".png file ended prematurely: no IEND header was found");return t};var a=new Uint8Array(4),o=new Int32Array(a.buffer),i=new Uint32Array(a.buffer)},25479:(r,e,t)=>{"use strict";t.r(e),t.d(e,{decodePngMetadata:()=>u,encodePngMetadata:()=>s,getTEXtChunk:()=>l});var n=t(29274),a=t(77434),o=t.n(a),i=t(14151),f=t.n(i),d=t(70528),h=t(84517),c=t(94264);let l=async r=>{let e=f()(new Uint8Array(await (0,h._L)(r))).find(r=>"tEXt"===r.name);return e?n.decode(e.data):null},s=async({blob:r,metadata:e})=>{let t=f()(new Uint8Array(await (0,h._L)(r))),a=n.encode(d.Z$T.jsondraw,JSON.stringify((0,c.lF)({text:e,compress:!0})));return t.splice(-1,0,a),new Blob([o()(t)],{type:d.Z$T.png})},u=async r=>{let e=await l(r);if(e?.keyword===d.Z$T.jsondraw)try{let r=JSON.parse(e.text);if(!("encoded"in r)){if("type"in r&&r.type===d.yhg.jsondraw)return e.text;throw Error("FAILED")}return(0,c.D4)(r)}catch(r){throw console.error(r),Error("FAILED")}throw Error("INVALID")}},29274:(r,e,t)=>{e.encode=t(95232),e.decode=t(71112)},51076:(r,e,t)=>{var n,a=t(82909).Buffer;n=function(r){r.version="0.3.0";var e=function(){for(var r=0,e=Array(256),t=0;256!=t;++t)r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=1&(r=t)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1)?-0x12477ce0^r>>>1:r>>>1,e[t]=r;return"u">typeof Int32Array?new Int32Array(e):e}(),t=void 0!==a;function n(r){for(var t=-1,n=0,a=r.length-7;n<a;)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255])>>>8^e[(t^r[n++])&255];for(;n<a+7;)t=t>>>8^e[(t^r[n++])&255];return -1^t}r.table=e,r.bstr=function(r){if(r.length>32768&&t)return n(new a(r));for(var o=-1,i=r.length-1,f=0;f<i;)o=e[(o^r.charCodeAt(f++))&255]^o>>>8,o=e[(o^r.charCodeAt(f++))&255]^o>>>8;return f===i&&(o=o>>>8^e[(o^r.charCodeAt(f))&255]),-1^o},r.buf=function(r){if(r.length>1e4)return n(r);for(var t=-1,a=0,o=r.length-3;a<o;)t=(t=(t=(t=t>>>8^e[(t^r[a++])&255])>>>8^e[(t^r[a++])&255])>>>8^e[(t^r[a++])&255])>>>8^e[(t^r[a++])&255];for(;a<o+3;)t=t>>>8^e[(t^r[a++])&255];return -1^t},r.str=function(r){for(var t,n,a=-1,o=0,i=r.length;o<i;)(t=r.charCodeAt(o++))<128?a=a>>>8^e[(a^t)&255]:t<2048?a=(a=a>>>8^e[(a^(192|t>>6&31))&255])>>>8^e[(a^(128|63&t))&255]:t>=55296&&t<57344?(t=(1023&t)+64,n=1023&r.charCodeAt(o++),a=(a=(a=(a=a>>>8^e[(a^(240|t>>8&7))&255])>>>8^e[(a^(128|t>>2&63))&255])>>>8^e[(a^(128|n>>6&15|3&t))&255])>>>8^e[(a^(128|63&n))&255]):a=(a=(a=a>>>8^e[(a^(224|t>>12&15))&255])>>>8^e[(a^(128|t>>6&63))&255])>>>8^e[(a^(128|63&t))&255];return -1^a}},"u"<typeof DO_NOT_EXPORT_CRC?n(e):n({})},71112:r=>{r.exports=function(r){r.data&&r.name&&(r=r.data);for(var e=!0,t="",n="",a=0;a<r.length;a++){var o=r[a];if(e)o?n+=String.fromCharCode(o):e=!1;else if(o)t+=String.fromCharCode(o);else throw Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content")}return{keyword:n,text:t}}},77434:(r,e,t)=>{var n=t(96085),a=t(51076);r.exports=function(r){var e,t=8,d=8;for(e=0;e<r.length;e++)t+=r[e].data.length,t+=12;var h=new Uint8Array(t);for(e=0,h[0]=137,h[1]=80,h[2]=78,h[3]=71,h[4]=13,h[5]=10,h[6]=26,h[7]=10;e<r.length;e++){var c=r[e],l=c.name,s=c.data,u=s.length,w=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)];f[0]=u,h[d++]=o[3],h[d++]=o[2],h[d++]=o[1],h[d++]=o[0],h[d++]=w[0],h[d++]=w[1],h[d++]=w[2],h[d++]=w[3];for(var g=0;g<u;)h[d++]=s[g++];var v=w.concat(n(s)),y=a.buf(v);i[0]=y,h[d++]=o[3],h[d++]=o[2],h[d++]=o[1],h[d++]=o[0]}return h};var o=new Uint8Array(4),i=new Int32Array(o.buffer),f=new Uint32Array(o.buffer)},95232:r=>{r.exports=function(r,e){if(r=String(r),e=String(e),!/^[\x00-\xFF]+$/.test(r)||!/^[\x00-\xFF]+$/.test(e))throw Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(r.length>=80)throw Error('Keyword "'+r+'" is longer than the 79-character limit imposed by the PNG specification');for(var t,n=new Uint8Array(r.length+e.length+1),a=0,o=0;o<r.length;o++){if(!(t=r.charCodeAt(o)))throw Error("0x00 character is not permitted in tEXt keywords");n[a++]=t}n[a++]=0;for(var i=0;i<e.length;i++){if(!(t=e.charCodeAt(i)))throw Error("0x00 character is not permitted in tEXt content");n[a++]=t}return{name:"tEXt",data:n}}},96085:r=>{r.exports=function(r,e,t){var n=[],a=r.length;if(0===a)return n;var o=e<0?Math.max(0,e+a):e||0;for(void 0!==t&&(a=t<0?t+a:t);a-- >o;)n[a-o]=r[a];return n}}}]);
//# sourceMappingURL=25479.febff2f1a28d4d51.js.map