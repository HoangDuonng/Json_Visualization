"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11670],{11670:(e,t,n)=>{n.r(t),n.d(t,{DotGrid:()=>u});var i=n(37876),r=n(14232),l=n(33686),o=n(96941);let s=l.Ay.section.withConfig({componentId:"sc-6ee3f3a8-0"})(["position:absolute;inset:0;overflow:hidden;pointer-events:none;"]),a=l.Ay.div.withConfig({componentId:"sc-6ee3f3a8-1"})(["width:100%;height:100%;position:relative;"]),f=l.Ay.canvas.withConfig({componentId:"sc-6ee3f3a8-2"})(["display:block;width:100%;height:100%;pointer-events:auto;"]);function c(e){let t=e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}let u=({dotSize:e=2,gap:t=20,baseColor:n="#e0e0e0",activeColor:l="#f7c948",proximity:u=100,speedTrigger:d=100,shockRadius:p=250,shockStrength:h=5,maxSpeed:w=5e3,resistance:y=750,returnDuration:v=1.5,className:m="",style:x})=>{let g=(0,r.useRef)(null),O=(0,r.useRef)(null),b=(0,r.useRef)([]),M=(0,r.useRef)({x:-1e3,y:-1e3,vx:0,vy:0,speed:0,lastTime:0,lastX:0,lastY:0}),C=(0,r.useMemo)(()=>c(n),[n]),A=(0,r.useMemo)(()=>c(l),[l]),E=(0,r.useMemo)(()=>{if(!window.Path2D)return null;let t=new Path2D;return t.arc(0,0,e/2,0,2*Math.PI),t},[e]),R=(0,r.useCallback)(()=>{let n=g.current,i=O.current;if(!n||!i)return;let{width:r,height:l}=n.getBoundingClientRect(),o=window.devicePixelRatio||1;i.width=r*o,i.height=l*o,i.style.width=`${r}px`,i.style.height=`${l}px`;let s=i.getContext("2d");s&&s.scale(o,o);let a=Math.floor((r+t)/(e+t)),f=Math.floor((l+t)/(e+t)),c=e+t,u=(r-(c*a-t))/2+e/2,d=(l-(c*f-t))/2+e/2,p=[];for(let e=0;e<f;e++)for(let t=0;t<a;t++){let n=u+t*c,i=d+e*c;p.push({cx:n,cy:i,xOffset:0,yOffset:0,_inertiaApplied:!1})}b.current=p},[e,t]);return(0,r.useEffect)(()=>{let e;if(!E)return;let t=u*u,i=()=>{let r=O.current;if(!r)return;let l=r.getContext("2d");if(!l)return;l.clearRect(0,0,r.width,r.height);let{x:o,y:s}=M.current;for(let e of b.current){let i=e.cx+e.xOffset,r=e.cy+e.yOffset,a=e.cx-o,f=e.cy-s,c=a*a+f*f,d=n;if(c<=t){let e=1-Math.sqrt(c)/u,t=Math.round(C.r+(A.r-C.r)*e),n=Math.round(C.g+(A.g-C.g)*e),i=Math.round(C.b+(A.b-C.b)*e);d=`rgb(${t},${n},${i})`}l.save(),l.translate(i,r),l.fillStyle=d,l.fill(E),l.restore()}e=requestAnimationFrame(i)};return i(),()=>cancelAnimationFrame(e)},[u,n,A,C,E]),(0,r.useEffect)(()=>{R();let e=null;return"ResizeObserver"in window?(e=new ResizeObserver(R),g.current&&e.observe(g.current)):window.addEventListener("resize",R),()=>{e?e.disconnect():window.removeEventListener("resize",R)}},[R]),(0,r.useEffect)(()=>{var e;let t,n=e=>{let t=O.current?.getBoundingClientRect();if(!t)return;let n=e.clientX-t.left,i=e.clientY-t.top;for(let e of b.current){let t=Math.hypot(e.cx-n,e.cy-i);if(t<p&&!e._inertiaApplied){e._inertiaApplied=!0,o.os.killTweensOf(e);let r=Math.max(0,1-t/p),l=(e.cx-n)*h*r,s=(e.cy-i)*h*r;o.os.to(e,{xOffset:l,yOffset:s,duration:.6,ease:"power2.out",onComplete:()=>{o.os.to(e,{xOffset:0,yOffset:0,duration:v,ease:"elastic.out(1,0.75)"}),e._inertiaApplied=!1}})}}},i=(e=e=>{let t=performance.now(),n=M.current,i=n.lastTime?t-n.lastTime:16,r=e.clientX-n.lastX,l=e.clientY-n.lastY,s=r/i*1e3,a=l/i*1e3,f=Math.hypot(s,a);if(f>w){let e=w/f;s*=e,a*=e,f=w}n.lastTime=t,n.lastX=e.clientX,n.lastY=e.clientY,n.vx=s,n.vy=a,n.speed=f;let c=O.current?.getBoundingClientRect();if(c)for(let t of(n.x=e.clientX-c.left,n.y=e.clientY-c.top,b.current)){let e=Math.hypot(t.cx-n.x,t.cy-n.y);if(f>d&&e<u&&!t._inertiaApplied){t._inertiaApplied=!0,o.os.killTweensOf(t);let e=(t.cx-n.x)*.3,i=(t.cy-n.y)*.3;o.os.to(t,{xOffset:e,yOffset:i,duration:.6,ease:"power2.out",onComplete:()=>{o.os.to(t,{xOffset:0,yOffset:0,duration:v,ease:"elastic.out(1,0.75)"}),t._inertiaApplied=!1}})}}},t=0,function(...n){let i=performance.now();i-t>=50&&(t=i,e.apply(this,n))});return window.addEventListener("mousemove",i,{passive:!0}),window.addEventListener("click",n),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("click",n)}},[w,d,u,y,v,p,h]),(0,i.jsx)(s,{className:m,style:x,children:(0,i.jsx)(a,{ref:g,children:(0,i.jsx)(f,{ref:O})})})}}}]);
//# sourceMappingURL=11670.8d790e93441fa13b.js.map