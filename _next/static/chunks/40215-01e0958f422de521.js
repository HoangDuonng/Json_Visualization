"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40215],{7220:(e,t,a)=>{a.d(t,{j:()=>r});let r=Object.freeze(Object.keys(a(97992)))},40215:(e,t,a)=>{a.d(t,{h:()=>n});var r=a(78068);let o=a(7220).j.reduce((e,t)=>(e[t]=!1,e),{}),n=(0,r.h)()(e=>({...o,setVisible:(t,a)=>{e({[t]:a})}}))},97992:(e,t,a)=>{a.r(t),a.d(t,{DownloadModal:()=>v,ImportModal:()=>N,JPathModal:()=>Q,JQModal:()=>L,NodeModal:()=>$,SchemaModal:()=>I,TypeModal:()=>U});var r,o,n=a(37876),l=a(14232),s=a(44969),i=a(31408),c=a(74815),d=a(8684),u=a(60994),p=a(61342),h=a(74188),y=a(44193),g=a(63115),m=a(47607),f=a(97685),j=a(18571),b=((r=b||{}).SVG="svg",r.PNG="png",r.JPEG="jpeg",r);let x=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","transparent"],C=()=>document.querySelector(".jsoncrack-canvas")??document.querySelector("svg[id*='ref']"),v=({opened:e,onClose:t})=>{let[a,r]=l.useState("png"),[o,b]=l.useState({filename:"json-visualization",backgroundColor:"#FFFFFF",quality:1}),v=async()=>{try{f.Ay.loading("Copying to clipboard...",{id:"toastClipboard"});let e=C();if(!e)return void f.Ay.error("Canvas not found.");let t={quality:o.quality,backgroundColor:o.backgroundColor,skipFonts:!0},a=await (0,g.ZR)(e,t);if(!a)return;await navigator.clipboard?.write([new ClipboardItem({[a.type]:a})]),f.Ay.success("Copied to clipboard"),(0,m.f0)("clipboard_img")}catch(e){e instanceof Error&&"NotAllowedError"===e.name?f.Ay.error("Clipboard write permission denied. Please allow clipboard access in your browser settings."):f.Ay.error("Failed to copy to clipboard")}finally{f.Ay.dismiss("toastClipboard"),t()}},w=async()=>{try{var e,r;let t;f.Ay.loading("Downloading...",{id:"toastDownload"});let n=C();if(!n)return void f.Ay.error("Canvas not found.");let l={quality:o.quality,backgroundColor:o.backgroundColor,skipFonts:!0};e=await (e=>{switch(e){case"svg":return g.YI;case"png":return g.$E;case"jpeg":return g.gO}})(a)(n,l),r=`${o.filename}.${a}`,(t=document.createElement("a")).download=r,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),(0,m.f0)("download_img",{label:a})}catch{f.Ay.error("Failed to download image!")}finally{f.Ay.dismiss("toastDownload"),t()}},S=(e,t)=>b({...o,[e]:t});return(0,n.jsxs)(s.a,{opened:e,onClose:t,title:"Download Image",centered:!0,children:[(0,n.jsx)(i.k,{label:"File Name",value:o.filename,onChange:e=>S("filename",e.target.value),mb:"lg"}),(0,n.jsx)(c.I,{value:a,onChange:e=>r(e),fullWidth:!0,data:[{label:"PNG",value:"png"},{label:"JPEG",value:"jpeg"},{label:"SVG",value:"svg"}],mb:"lg"}),(0,n.jsx)(d.A,{label:"Background Color",value:o.backgroundColor,onChange:e=>S("backgroundColor",e),withEyeDropper:!1,mb:"lg"}),(0,n.jsx)(u.s,{format:"rgba",value:o.backgroundColor,onChange:e=>S("backgroundColor",e),swatches:x,withPicker:!1,fullWidth:!0}),(0,n.jsx)(p.c,{my:"xs"}),(0,n.jsxs)(h.Y,{justify:"right",children:[(0,n.jsx)(y.$,{leftSection:(0,n.jsx)(j.nxz,{}),onClick:v,children:"Clipboard"}),(0,n.jsx)(y.$,{color:"green",leftSection:(0,n.jsx)(j.a4x,{}),onClick:w,children:"Download"})]})]})};var w=a(79021),S=a(89704),k=a(45050),A=a(18462),J=a(16290),E=a(94505);let N=({opened:e,onClose:t})=>{let[a,r]=l.useState(""),[o,c]=l.useState(null),d=(0,E.A)(e=>e.setContents),u=(0,E.A)(e=>e.setFormat);return(0,n.jsxs)(s.a,{title:"Import File",opened:e,onClose:()=>{c(null),r(""),t()},centered:!0,children:[(0,n.jsxs)(w.B,{py:"sm",children:[(0,n.jsx)(i.k,{value:a,onChange:e=>r(e.target.value),type:"url",placeholder:"URL of JSON to fetch","data-autofocus":!0}),(0,n.jsx)(S.t,{radius:"md",style:{cursor:"pointer"},children:(0,n.jsx)(A.mR,{onDrop:e=>c(e[0]),onReject:e=>f.Ay.error(`Unable to load file ${e[0].file.name}`),maxFiles:1,p:"md",accept:["application/json","application/x-yaml","text/csv","application/xml","application/toml"],children:(0,n.jsxs)(w.B,{justify:"center",align:"center",gap:"sm",mih:220,children:[(0,n.jsx)(J.kaf,{size:48}),(0,n.jsx)(k.E,{fw:"bold",children:"Drop here or click to upload files"}),(0,n.jsx)(k.E,{c:"dimmed",fz:"sm",children:o?.name??"None"})]})})})]}),(0,n.jsx)(h.Y,{justify:"right",children:(0,n.jsx)(y.$,{onClick:()=>{if(a)return c(null),f.Ay.loading("Loading...",{id:"toastFetch"}),(0,m.f0)("fetch_url"),fetch(a).then(e=>e.json()).then(e=>{d({contents:JSON.stringify(e,null,2)}),t()}).catch(()=>f.Ay.error("Failed to fetch JSON!")).finally(()=>f.Ay.dismiss("toastFetch"));if(o){let e=o.name.lastIndexOf("."),a=o.name.substring(e+1);u(a),o.text().then(e=>{d({contents:e}),c(null),r(""),t()}),(0,m.f0)("import_file",{label:a})}},disabled:!(o||a),children:"Import"})})]})};var O=a(20562),F=a(17457),B=a(16433),z=a(54359),D=a(31158),_=a(9456);let q=(0,D.Ay)(s.a).withConfig({componentId:"sc-210691a9-0"})(['*{font-family:"JetBrains Mono",monospace !important;}']),$=({opened:e,onClose:t})=>{let a=(0,_.A)(e=>e.selectedNode);return(0,n.jsx)(q,{size:"auto",opened:e,onClose:t,centered:!0,withCloseButton:!1,children:(0,n.jsxs)(w.B,{pb:"sm",gap:"sm",children:[(0,n.jsxs)(w.B,{gap:"xs",children:[(0,n.jsxs)(O.s,{justify:"space-between",align:"center",children:[(0,n.jsx)(k.E,{fz:"xs",fw:500,children:"Content"}),(0,n.jsx)(F.J,{onClick:t})]}),(0,n.jsx)(B.F.Autosize,{mah:250,maw:600,children:(0,n.jsx)(z.q,{code:(e=>{if(!e||0===e.length)return"{}";if(1===e.length&&!e[0].key)return`${e[0].value}`;let t={};return e?.forEach(e=>{"array"!==e.type&&"object"!==e.type&&e.key&&(t[e.key]=e.value)}),JSON.stringify(t,null,2)})(a?.text??[]),miw:350,maw:600,language:"json",withCopyButton:!0})})]}),(0,n.jsx)(k.E,{fz:"xs",fw:500,children:"JSON Path"}),(0,n.jsx)(B.F.Autosize,{maw:600,children:(0,n.jsx)(z.q,{code:(e=>{if(!e||0===e.length)return"$";let t=e.map(e=>"number"==typeof e?e:`"${e}"`);return`$[${t.join("][")}]`})(a?.path),miw:350,mah:250,language:"json",copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",withCopyButton:!0})})]})})};var P=a(95844),M=a(10850),R=a(27592),T=a(79501);let I=({opened:e,onClose:t})=>{let a=(0,E.A)(e=>e.setJsonSchema),r=(0,T.A)(e=>e.darkmodeEnabled?"vs-dark":"light"),[o,i]=l.useState(JSON.stringify({$schema:"http://json-schema.org/draft-04/schema#",title:"Product",description:"A product from catalog",type:"object",properties:{id:{description:"The unique identifier for a product",type:"integer"}},required:["id"]},null,2));return(0,n.jsx)(s.a,{title:"JSON Schema",size:"lg",opened:e,onClose:t,centered:!0,children:(0,n.jsxs)(w.B,{children:[(0,n.jsx)(k.E,{fz:"sm",children:"Any validation failures are shown at the bottom toolbar of pane."}),(0,n.jsxs)(P.M,{fz:"sm",target:"_blank",href:"/docs/json-schema",rel:"noopener noreferrer",children:["View Examples ",(0,n.jsx)(R.iOX,{})]}),(0,n.jsx)(S.t,{withBorder:!0,radius:"sm",style:{overflow:"hidden"},children:(0,n.jsx)(M.Ay,{value:o??"",theme:r,onChange:e=>i(e),height:300,language:"json",options:{formatOnPaste:!0,tabSize:2,formatOnType:!0,scrollBeyondLastLine:!1,stickyScroll:{enabled:!1},minimap:{enabled:!1}}})}),(0,n.jsxs)(h.Y,{p:"0",justify:"right",children:[(0,n.jsx)(y.$,{variant:"subtle",color:"gray",onClick:()=>{a(null),i(""),(0,f.oR)("Disabled JSON Schema"),t()},disabled:!o,children:"Clear"}),(0,n.jsx)(y.$,{variant:"default",onClick:()=>{try{let e=JSON.parse(o);a(e),(0,m.f0)("apply_json_schema"),f.oR.success("Applied schema!"),t()}catch{f.oR.error("Invalid Schema")}},disabled:!o,children:"Apply"})]})]})})};var G=a(18512);let L=({opened:e,onClose:t})=>{let r,o,c,{updateJson:d}=(r=(0,G.A)(e=>e.getJson),o=(0,E.A)(e=>e.setContents),c=async({value:e})=>{let{run:t}=await a.e(17431).then(a.bind(a,17431));return t("Root",e,JSON.stringify({output_mode:"typescript/typealias"}))},{updateJson:async(e,t)=>{try{let n=await Promise.all([a.e(38513),a.e(44387),a.e(40631),a.e(7604)]).then(a.t.bind(a,30177,23)),l=await n.promised.json(JSON.parse(r()),e);o({contents:JSON.stringify(l,null,2)}),t?.()}catch(e){console.error(e),f.Ay.error("Unable to process the request.")}},getJsonType:async()=>await c({value:r()})}),[u,p]=l.useState("");return(0,n.jsx)(s.a,{title:"JSON Query",size:"lg",opened:e,onClose:t,centered:!0,children:(0,n.jsxs)(w.B,{children:[(0,n.jsxs)(k.E,{fz:"sm",children:["jq is a lightweight and flexible command-line JSON processor. JSON Visualization uses simplified version of jq, not all features are supported.",(0,n.jsx)("br",{}),(0,n.jsxs)(P.M,{fz:"sm",target:"_blank",href:"/docs/jq-query",rel:"noopener noreferrer",children:["Read documentation. ",(0,n.jsx)(R.iOX,{})]})]}),(0,n.jsx)(i.k,{leftSection:"jq",placeholder:"Enter jq query",value:u,onChange:e=>p(e.currentTarget.value)}),(0,n.jsx)(h.Y,{justify:"right",children:(0,n.jsx)(y.$,{onClick:()=>d(u,t),children:"Display on Graph"})})]})})};var Y=a(88179),V=((o=V||{}).TypeScript="typescript",o.TypeScript_Combined="typescript/typealias",o.Go="go",o.JSON_SCHEMA="json_schema",o.Kotlin="kotlin",o.Rust="rust",o);let X=[{label:"TypeScript",value:"typescript",lang:"typescript"},{label:"TypeScript (combined)",value:"typescript/typealias",lang:"typescript"},{label:"Go",value:"go",lang:"go"},{label:"JSON Schema",value:"json_schema",lang:"json"},{label:"Kotlin",value:"kotlin",lang:"kotlin"},{label:"Rust",value:"rust",lang:"rust"}],U=({opened:e,onClose:t})=>{let r=(0,G.A)(e=>e.getJson),[o,i]=l.useState(""),[c,d]=l.useState("typescript"),u=l.useMemo(()=>X[X.findIndex(e=>e.value===c)]?.lang,[c]),p=l.useCallback(async({value:e})=>{let{run:t}=await a.e(17431).then(a.bind(a,17431));return t("Root",e,JSON.stringify({output_mode:c}))},[c]);return l.useEffect(()=>{if(e)try{"go"===c?a.e(14173).then(a.t.bind(a,14173,23)).then(e=>{Promise.all([a.e(21762),a.e(90160)]).then(a.t.bind(a,42456,23)).then(t=>{let a=e.default(r());i(t.default(a.go))})}):p({value:r()}).then(i)}catch(e){console.error(e)}},[r,e,c,p]),(0,n.jsx)(s.a,{title:"Generate Types",size:"lg",opened:e,onClose:t,centered:!0,children:(0,n.jsxs)(w.B,{pos:"relative",children:[(0,n.jsx)(Y.l,{value:c,data:X,onChange:e=>{d(e),(0,m.f0)("generate_type",{label:e})},allowDeselect:!1}),(0,n.jsx)(B.F.Autosize,{mah:400,maw:700,children:(0,n.jsx)(z.q,{language:u,copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",radius:6,code:o})})]})})};var K=a(94075);let Q=({opened:e,onClose:t})=>{let a=(0,G.A)(e=>e.getJson),r=(0,E.A)(e=>e.setContents),[o,c]=l.useState("");return(0,n.jsx)(s.a,{title:"JSON Path",size:"lg",opened:e,onClose:t,centered:!0,children:(0,n.jsxs)(w.B,{children:[(0,n.jsxs)(k.E,{fz:"sm",children:['JsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The "root member object" in JsonPath is always referred to as $ regardless if it is an object or array.',(0,n.jsx)("br",{}),(0,n.jsxs)(P.M,{fz:"sm",target:"_blank",href:"/docs/json-path",rel:"noopener noreferrer",children:["Read documentation. ",(0,n.jsx)(R.iOX,{})]})]}),(0,n.jsx)(i.k,{value:o,onChange:e=>c(e.currentTarget.value),placeholder:"Enter JSON Path...","data-autofocus":!0}),(0,n.jsx)(h.Y,{justify:"right",children:(0,n.jsx)(y.$,{onClick:()=>{try{let e=a(),n=(0,K.E)({path:o,json:JSON.parse(e)});r({contents:JSON.stringify(n,null,2)}),(0,m.f0)("run_json_path"),t()}catch(e){e instanceof Error&&f.Ay.error(e.message)}},disabled:!o.length,children:"Run"})})]})})}}}]);
//# sourceMappingURL=40215-01e0958f422de521.js.map