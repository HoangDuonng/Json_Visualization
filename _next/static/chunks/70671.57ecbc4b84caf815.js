"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70671],{6340:(e,t,n)=>{n.d(t,{J:()=>l});var i=n(37876);n(14232);var r=n(69874);let o=n(31158).Ay.span.withConfig({componentId:"sc-e95bd02b-0"})(["display:inline-flex;align-items:center;overflow:hidden;gap:4px;vertical-align:middle;"]),s=e=>e?.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gm),l=({children:e})=>{var t;if("string"==typeof e&&s(e)){let t;return t=e.split(" ").map(e=>s(e)?`<a onclick="event.stopPropagation()" href="${e}" style="text-decoration: underline; pointer-events: all;" target="_blank" rel="noopener noreferrer">${e}</a>`:e).join(" "),(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:t}})}return"string"==typeof e&&(t=e,/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)||/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/.test(t)||/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(0|1|0\.\d+)\s*\)$/.test(t))?(0,i.jsxs)(o,{children:[(0,i.jsx)(r.q,{size:12,radius:4,mr:4,color:e}),e]}):(0,i.jsx)(i.Fragment,{children:`${e}`})}},70671:(e,t,n)=>{n.r(t),n.d(t,{GraphView:()=>ec});var i=n(37876),r=n(14232),o=n(12614),s=n(95171),l=n(7384),a=n(31158),d=n(39149),c=n.n(d),h=n(74020),g=n(73176),x=n(67116),p=n(76664),u=n(79501),f=n(9456);let m=r.memo(e=>{let t=(0,o.l)(),n=(0,f.A)(e=>e.viewPort),s=(0,f.A)(e=>e.edges),[l,a]=r.useState(!1);return(0,i.jsx)(g.oH,{containerClassName:`edge-${e.id}`,onClick:()=>{let t=s.find(t=>t.id===e.properties?.id)?.to,i=document.querySelector(`[data-id$="node-${t}"]`);i&&i.parentElement&&n?.camera.centerFitElementIntoView(i.parentElement,{elementExtraMarginForZoom:150})},onEnter:()=>a(!0),onLeave:()=>a(!1),style:{stroke:"dark"===t?"#444444":"#BCBEC0",...l&&{stroke:"#3B82F6"},strokeWidth:1.5},...e})});var j=n(40215),y=n(56045),b=n(6340),w=n(75774);function v({$value:e,$type:t,theme:n}){return null===e?n.NODE_COLORS.NULL:"object"===t?n.NODE_COLORS.NODE_KEY:"number"===t?n.NODE_COLORS.INTEGER:!0===e?n.NODE_COLORS.BOOL.TRUE:!1===e?n.NODE_COLORS.BOOL.FALSE:n.NODE_COLORS.NODE_VALUE}(0,a.Ay)(w.xC).withConfig({componentId:"sc-ba2336b5-0"})(["text-decoration:underline;pointer-events:all;"]);let E=a.Ay.foreignObject.withConfig({componentId:"sc-ba2336b5-1"})(["text-align:",";color:",";font-family:monospace;font-size:12px;font-weight:500;overflow:hidden;pointer-events:none;&.searched{background:rgba(27,255,0,0.1);border:1px solid ",";border-radius:2px;box-sizing:border-box;}.highlight{background:rgba(255,214,0,0.15);}.renderVisible{display:flex;justify-content:center;align-items:center;font-size:12px;width:100%;height:100%;overflow:hidden;cursor:pointer;}"],({$isObject:e})=>!e&&"center",({theme:e})=>e.NODE_COLORS.TEXT,({theme:e})=>e.TEXT_POSITIVE),C=a.Ay.span.withConfig({componentId:"sc-ba2336b5-2"})(["display:inline;align-items:center;justify-content:center;flex:1;min-width:0;height:auto;line-height:inherit;padding:0;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],({theme:e,$type:t,$value:n=""})=>v({$value:n,$type:t,theme:e})),O=a.Ay.span.withConfig({componentId:"sc-ba2336b5-3"})(["padding:3px 10px;height:","px;line-height:24px;color:",";display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:1px solid ",";box-sizing:border-box;&:last-of-type{border-bottom:none;}.searched &{border-bottom:1px solid ",";}"],y.d.ROW_HEIGHT,({theme:e,$value:t})=>v({$value:t,theme:e,$type:typeof t}),({theme:e})=>e.NODE_COLORS.DIVIDER,({theme:e})=>e.TEXT_POSITIVE);a.Ay.span.withConfig({componentId:"sc-ba2336b5-4"})(["color:",";padding:10px;margin-left:-15px;"],({theme:e})=>e.NODE_COLORS.CHILD_COUNT);let k=({row:e,x:t,y:n,index:r})=>{let o=r*y.d.ROW_HEIGHT;return(0,i.jsxs)(O,{$value:e.value,"data-key":`${e.key}: ${e.value}`,"data-x":t,"data-y":n+o,children:[(0,i.jsxs)(C,{$type:"object",children:[e.key,": "]}),(0,i.jsx)(b.J,{children:"object"===e.type?`{${e.childrenCount??0} keys}`:"array"===e.type?`[${e.childrenCount??0} items]`:e.value})]})},A=r.memo(({node:e,x:t,y:n})=>(0,i.jsx)(E,{"data-id":`node-${e.id}`,width:e.width,height:e.height,x:0,y:0,$isObject:!0,children:e.text.map((r,o)=>(0,i.jsx)(k,{row:r,x:t,y:n,index:o},`${e.id}-${o}`))}),function(e,t){return JSON.stringify(e.node.text)===JSON.stringify(t.node.text)&&e.node.width===t.node.width});var I=n(78721);let S=a.Ay.span.withConfig({componentId:"sc-76ae9663-0"})(["display:flex;justify-content:",";align-items:center;height:100%;width:100%;overflow:hidden;padding:0 10px;"],({$isParent:e})=>e?"center":"flex-start"),z=a.Ay.div.withConfig({componentId:"sc-76ae9663-1"})(["padding:5px;"]),_=a.Ay.img.withConfig({componentId:"sc-76ae9663-2"})(["border-radius:2px;object-fit:contain;background:",";"],({theme:e})=>e.BACKGROUND_MODIFIER_ACCENT),L=r.memo(({node:e,x:t,y:n})=>{let{text:r,width:o,height:s}=e,l=(0,u.A)(e=>e.imagePreviewEnabled)&&(0,I.R)(JSON.stringify(r[0].value)),a=r[0].value;return(0,i.jsx)(E,{"data-id":`node-${e.id}`,width:o,height:s,x:0,y:0,children:l?(0,i.jsx)(z,{children:(0,i.jsx)(_,{src:JSON.stringify(r[0].value),width:"70",height:"70",loading:"lazy"})}):(0,i.jsx)(S,{"data-x":t,"data-y":n,"data-key":JSON.stringify(r),$isParent:!1,children:(0,i.jsx)(C,{$value:a,$type:typeof r[0].value,children:(0,i.jsx)(b.J,{children:a})})})})},function(e,t){return e.node.text===t.node.text&&e.node.width===t.node.width}),R=r.memo(e=>{let t=(0,f.A)(e=>e.setSelectedNode),n=(0,j.h)(e=>e.setVisible),s=(0,o.l)(),l=r.useCallback((e,i)=>{t&&t(i),n("NodeModal",!0)},[t,n]);return(0,i.jsx)(g.bP,{...e,onClick:l,animated:!1,label:null,onEnter:e=>{e.currentTarget.style.stroke="#3B82F6"},onLeave:e=>{e.currentTarget.style.stroke="dark"===s?"#424242":"#BCBEC0"},style:{fill:"dark"===s?"#292929":"#ffffff",stroke:"dark"===s?"#424242":"#BCBEC0",strokeWidth:1},children:({node:t,x:n,y:r})=>e.properties.text[0].key?(0,i.jsx)(A,{node:t,x:n,y:r}):(0,i.jsx)(L,{node:e.properties,x:n,y:r})})});var N=n(30455),T=n(79021),D=n(45050),$=n(8874);let W=()=>{let e=(0,u.A)(e=>e.darkmodeEnabled);return(0,i.jsx)(N.h,{backgroundOpacity:.8,color:e?"gray":"rgb(226, 240, 243)",blur:"1.5",center:!0,children:(0,i.jsxs)(T.B,{maw:"60%",align:"center",justify:"center",gap:"sm",children:[(0,i.jsx)(D.E,{fz:"48",fw:600,c:"bright",children:"File too large!"}),(0,i.jsxs)(D.E,{ta:"center",size:"lg",fw:500,c:"gray",maw:"600",children:["This diagram is too large and not supported at JSON Visualization.",(0,i.jsx)("br",{}),"You can increase the limit by setting ",(0,i.jsx)($.C,{children:"NEXT_PUBLIC_NODE_LIMIT"})," in your"," ",(0,i.jsx)($.C,{children:".env"})," file."]})]})})};var P=n(20562),F=n(52509),M=n(11210),G=n(44193),B=n(72144),V=n(47607),H=n(27857),U=n(93365),J=n(61673),K=n(94505);let q=(0,a.Ay)(J.eJv).withConfig({componentId:"sc-7fd566f7-0"})(["transform:rotate(",");"],({rotate:e})=>`${e}deg`),X=()=>{var e;let t=(0,u.A)(e=>e.toggleGestures),n=(0,u.A)(e=>e.toggleRulers),o=(0,u.A)(e=>e.toggleImagePreview),s=(0,u.A)(e=>e.gesturesEnabled),l=(0,u.A)(e=>e.rulersEnabled),a=(0,u.A)(e=>e.imagePreviewEnabled),d=(0,f.A)(e=>e.setDirection),c=(0,f.A)(e=>e.direction),h=(0,j.h)(e=>e.setVisible),g=(0,K.A)(e=>e.getContents),x=(0,K.A)(e=>e.getFormat),[p,m]=r.useState("CTRL"),y=()=>{var e;let t="RIGHT"===(e=c||"RIGHT")?"DOWN":"DOWN"===e?"LEFT":"LEFT"===e?"UP":"RIGHT";d&&d(t)};return(0,B.O)([["mod+shift+d",y],["mod+f",()=>{document.querySelector("#search-node").focus()}]],[]),r.useEffect(()=>{m(navigator.userAgent.indexOf("Mac OS X")?"⌘":"CTRL")},[]),(0,i.jsx)(P.s,{gap:"xs",align:"center",style:{position:"absolute",top:"10px",left:"10px",zIndex:100},children:(0,i.jsxs)(F.W,{withArrow:!0,children:[(0,i.jsx)(F.W.Target,{children:(0,i.jsx)(M.M,{"aria-label":"actions",size:"lg",color:"gray",variant:"light",children:(0,i.jsx)(U.z9i,{size:"18"})})}),(0,i.jsxs)(F.W.Dropdown,{children:[(0,i.jsx)(F.W.Item,{fz:12,leftSection:(0,i.jsx)(U.d$j,{color:"gray"}),onClick:()=>h("ImportModal",!0),children:"Import data"}),(0,i.jsx)(F.W.Item,{fz:12,leftSection:(0,i.jsx)(U.Oz0,{color:"gray"}),onClick:()=>{let e=document.createElement("a"),t=new Blob([g()],{type:"text/plain"});e.href=window.URL.createObjectURL(t),e.download=`json-visualization.${x()}`,e.click(),(0,V.f0)("save_file",{label:x()})},children:"Export JSON"}),(0,i.jsx)(F.W.Item,{leftSection:(0,i.jsx)(U.zus,{color:"gray"}),onClick:()=>h("DownloadModal",!0),children:(0,i.jsxs)(P.s,{fz:"xs",justify:"space-between",gap:"md",children:[(0,i.jsx)(D.E,{fz:"xs",children:"Export as image"}),(0,i.jsxs)(D.E,{ml:"md",fz:10,c:"dimmed",children:[p," + S"]})]})}),(0,i.jsx)(F.W.Item,{fz:12,onClick:()=>{y(),(0,V.f0)("rotate_layout",{label:c})},leftSection:(0,i.jsx)(q,{rotate:"LEFT"===(e=c||"RIGHT")?90:"UP"===e?180:"RIGHT"===e?270:360}),rightSection:(0,i.jsxs)(D.E,{ml:"md",fz:10,c:"dimmed",children:[p," Shift D"]}),closeMenuOnClick:!1,children:"Rotate Layout"}),(0,i.jsx)(F.W.Divider,{}),(0,i.jsxs)(F.W,{position:"right",trigger:"hover",offset:0,children:[(0,i.jsx)(F.W.Target,{children:(0,i.jsx)(G.$,{variant:"subtle",size:"xs",color:"text",fullWidth:!0,fw:"400",rightSection:(0,i.jsx)(U.xCi,{}),styles:{root:{paddingInline:11},inner:{justifyContent:"space-between"}},children:"View Options"})}),(0,i.jsxs)(F.W.Dropdown,{children:[(0,i.jsx)(F.W.Item,{leftSection:(0,i.jsx)(H.y8W,{opacity:100*!!l}),onClick:()=>{n(!l),(0,V.f0)("toggle_rulers",{label:l?"on":"off"})},children:(0,i.jsx)(D.E,{size:"xs",children:"Rulers"})}),(0,i.jsx)(F.W.Item,{leftSection:(0,i.jsx)(H.y8W,{opacity:100*!!s}),onClick:()=>{t(!s),(0,V.f0)("toggle_gestures",{label:s?"on":"off"})},children:(0,i.jsx)(D.E,{size:"xs",children:"Zoom on Scroll"})}),(0,i.jsx)(F.W.Item,{leftSection:(0,i.jsx)(H.y8W,{opacity:100*!!a}),onClick:()=>{o(!a),(0,V.f0)("toggle_image_preview",{label:a?"on":"off"})},children:(0,i.jsx)(D.E,{size:"xs",children:"Image Link Preview"})})]})]})]})]})})};var Y=n(95830),Z=n(93038);let Q=()=>(0,i.jsx)(Y.m,{label:"Your data is processed locally on your device.",fz:"xs",ta:"center",maw:"200",multiline:!0,withArrow:!0,children:(0,i.jsx)(Z.L,{variant:"light",color:"teal",size:"36",style:{position:"absolute",bottom:"10px",right:"10px",zIndex:100},radius:"xl",children:(0,i.jsx)(U.VIB,{size:"22"})})});var ee=n(31408),et=n(23375),en=n(22190),ei=n(16290);let er=()=>{let e=document.querySelectorAll("foreignObject.searched, .highlight");for(let t=0;t<e.length;t++)e[t].classList.remove("searched","highlight")},eo=()=>{let[e,t,n,o,s]=(()=>{let e=(0,f.A)(e=>e.viewPort),[t,n]=r.useState(0),[i,o]=r.useState(0),[s,a]=r.useState(""),[d]=(0,l.o)(s,600);return r.useEffect(()=>{let i;if(!s){er(),n(0),o(0);return}if(!e||!d)return;let r=(i=`span[data-key*='${d}' i]`,document.querySelectorAll(i)),l=r[t]||null;if(er(),l&&l.parentElement){for(let e=0;e<r.length;e++){let t=r[e],n=t.parentElement?.closest("foreignObject");n&&n.classList.add("searched")}r[t].classList.add("highlight"),o(r.length),e?.camera.centerFitElementIntoView(l.parentElement,{elementExtraMarginForZoom:400})}else n(0),o(0);(0,V.f0)("search_graph")},[t,d,s,e]),[s,a,()=>n(e=>(e+1)%i),i,t]})(),a=(0,en.c)();return(0,i.jsx)(ee.k,{variant:"unstyled",type:"search",size:"xs",id:"search-node",w:180,value:e,onChange:e=>t(e.currentTarget.value),placeholder:`Search Node (${"macos"===a?"⌘":"Ctrl"} + F)`,autoComplete:"off",autoCorrect:"off",onKeyDown:(0,et.vA)([["Enter",n]]),leftSection:(0,i.jsx)(ei.fUO,{}),rightSection:e&&(0,i.jsx)(P.s,{h:30,align:"center",children:(0,i.jsx)(D.E,{size:"xs",c:"dimmed",pr:"md",children:e&&`${o}/${o>0?s+1:"0"}`})}),style:{borderBottom:"1px solid gray"}})},es=()=>{let e=(0,f.A)(e=>e.zoomIn),t=(0,f.A)(e=>e.zoomOut),n=(0,f.A)(e=>e.centerView),r=(0,f.A)(e=>e.focusFirstNode);return(0,B.O)([["mod+[plus]",e,{usePhysicalKeys:!0}],["mod+[minus]",t,{usePhysicalKeys:!0}],["shift+Digit1",r,{usePhysicalKeys:!0}],["shift+Digit2",n,{usePhysicalKeys:!0}]],[]),(0,i.jsxs)(P.s,{align:"center",gap:"xs",style:{position:"absolute",bottom:"10px",left:"10px",alignItems:"start",zIndex:100},children:[(0,i.jsxs)(M.M.Group,{borderWidth:0,children:[(0,i.jsx)(Y.m,{label:(0,i.jsxs)(P.s,{fz:"xs",gap:"md",children:[(0,i.jsx)(D.E,{fz:"xs",children:"Center first item"}),(0,i.jsx)(D.E,{fz:"xs",c:"dimmed",children:"⇧ 1"})]}),withArrow:!0,children:(0,i.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{r(),(0,V.f0)("focus_first_node")},children:(0,i.jsx)(U.oso,{})})}),(0,i.jsx)(Y.m,{label:(0,i.jsxs)(P.s,{fz:"xs",gap:"md",children:[(0,i.jsx)(D.E,{fz:"xs",children:"Fit to center"}),(0,i.jsx)(D.E,{fz:"xs",c:"dimmed",children:"⇧ 2"})]}),withArrow:!0,children:(0,i.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{n(),(0,V.f0)("center_view")},children:(0,i.jsx)(U.Inx,{})})}),(0,i.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{t(),(0,V.f0)("zoom_out")},children:(0,i.jsx)(U.I4m,{})}),(0,i.jsx)(M.M,{size:"lg",variant:"light",color:"gray",onClick:()=>{e(),(0,V.f0)("zoom_in")},children:(0,i.jsx)(U._rf,{})})]}),(0,i.jsx)(eo,{})]})},el=a.Ay.div.withConfig({componentId:"sc-7779a8e4-0"})(["width:100%;height:100vh;--bg-color:",";--line-color-1:",";--line-color-2:",";background-color:var(--bg-color);",';.jsoncrack-space{cursor:url("/assets/cursor.svg"),auto;}:active{cursor:move;}.dragging,.dragging button{pointer-events:none;}text{fill:'," !important;}rect{fill:",";}@media only screen and (max-width:320px){height:100vh;}"],({theme:e})=>e.GRID_BG_COLOR,({theme:e})=>e.GRID_COLOR_PRIMARY,({theme:e})=>e.GRID_COLOR_SECONDARY,({$showRulers:e})=>e&&`
    background-image: linear-gradient(var(--line-color-1) 1.5px, transparent 1.5px),
      linear-gradient(90deg, var(--line-color-1) 1.5px, transparent 1.5px),
      linear-gradient(var(--line-color-2) 1px, transparent 1px),
      linear-gradient(90deg, var(--line-color-2) 1px, transparent 1px);
    background-position:
      -1.5px -1.5px,
      -1.5px -1.5px,
      -1px -1px,
      -1px -1px;
    background-size:
      100px 100px,
      100px 100px,
      20px 20px,
      20px 20px;
  `,({theme:e})=>e.INTERACTIVE_NORMAL,({theme:e})=>e.BACKGROUND_NODE),ea={"elk.layered.compaction.postCompaction.strategy":"EDGE_LENGTH","elk.layered.nodePlacement.strategy":"NETWORK_SIMPLEX","elk.spacing.edgeLabel":"15"},ed=({isWidget:e})=>{let t=(0,f.A)(e=>e.setLoading),n=(0,f.A)(e=>e.centerView),s=(0,f.A)(e=>e.direction),l=(0,f.A)(e=>e.nodes),a=(0,f.A)(e=>e.edges),d=(0,o.l)(),[c,h]=r.useState(2e3),[x,p]=r.useState(2e3),u=r.useCallback(i=>{if(i.width&&i.height){let r=Math.abs(100*(i.width*i.height)/(c*x)-100);h(i.width+50),p(i.height+50),setTimeout(()=>{window.requestAnimationFrame(()=>{(r>70||e)&&n(),t(!1)})})}},[e,x,c,n,t]);return(0,i.jsx)(g.Hl,{className:"jsoncrack-canvas",onLayoutChange:u,node:e=>(0,i.jsx)(R,{...e}),edge:e=>(0,i.jsx)(m,{...e}),nodes:l,edges:a,arrow:null,maxHeight:x,maxWidth:c,height:x,width:c,direction:s,layoutOptions:ea,pannable:!1,zoomable:!1,animated:!1,readonly:!0,dragEdge:null,dragNode:null,fit:!0},[s,d].join("-"))},ec=({isWidget:e=!1})=>{let t=(0,f.A)(e=>e.setViewPort),n=(0,f.A)(e=>e.viewPort),o=(0,f.A)(e=>e.centerView),a=(0,f.A)(e=>e.aboveSupportedLimit),d=(0,f.A)(e=>e.loading),g=(0,u.A)(e=>e.gesturesEnabled),m=(0,u.A)(e=>e.rulersEnabled),[j]=(0,l.o)(d,300),y=r.useRef(!1),b=r.useCallback(()=>{let e=document.querySelector(".jsoncrack-canvas");e?.classList.add("dragging")},[]),w=(0,x.HZ)(b,{threshold:150,onFinish:()=>{let e=document.querySelector(".jsoncrack-canvas");e?.classList.remove("dragging")}}),v=r.useCallback(()=>{"activeElement"in document&&document.activeElement?.blur()},[]),E=c()(()=>{t(n)},300);return r.useEffect(()=>{if(y.current||d||!n)return;y.current=!0;let e=window.setTimeout(()=>{o()},200);return()=>window.clearTimeout(e)},[o,d,n]),(0,i.jsxs)(s.a,{pos:"relative",h:"100%",w:"100%",children:[a&&(0,i.jsx)(W,{}),j&&(0,i.jsx)(s.a,{pos:"absolute",inset:0,style:{display:"grid",placeItems:"center"},children:(0,i.jsx)(p.HamsterLoader,{})}),!e&&(0,i.jsx)(X,{}),!e&&(0,i.jsx)(Q,{}),(0,i.jsx)(es,{}),(0,i.jsx)(el,{$widget:e,onContextMenu:e=>e.preventDefault(),onClick:v,$showRulers:m,...w(),children:(0,i.jsx)(h.Space,{onUpdated:()=>E(),onCreate:t,onContextMenu:e=>e.preventDefault(),treatTwoFingerTrackPadGesturesLikeTouch:g,pollForElementResizing:!0,className:"jsoncrack-space",children:(0,i.jsx)(ed,{isWidget:e})})},String(g))]})}}}]);
//# sourceMappingURL=70671.57ecbc4b84caf815.js.map